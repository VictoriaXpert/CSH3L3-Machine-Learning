wjp([83,76],{1087:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(72),i=n.n(r),o=function(e,t){var n=t.institutionId;return function(e){return e.institutionsInstitutions.get("institutions")}(e).get(i()(n))}},1088:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(15),d=n.n(p),h=n(1),f=(n.n(h),n(6)),m=n(26),g=n(709),v=n(12),y=n(2),b=n(34),E=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={hover:!1,showPrimaryAction:!0},r.handleMouseEnter=function(){r.setState({hover:!0})},r.handleMouseLeave=function(){r.setState({hover:!1})},r.handleHideContentCreationButton=function(){r.setState({showPrimaryAction:!1})},r.handleShowContentCreationButton=function(){r.setState({showPrimaryAction:!0})},o=n,a()(r,o)}return c()(t,e),t.prototype.getProfileActions=function(){var e=this.props,t=e.hideProfileActions,n=e.isOwner,r=e.profilePrimaryAction,i=e.profileCompletion;if(!t){var o=["profile-header-actions","rf"];return n&&o.push("profile-header-actions--own-profile"),u.a.createElement("div",{className:o.join(" ")},u.a.createElement("div",{className:"profile-header-actions-container"},this.state.showPrimaryAction?u.a.createElement(m.a,{widgetId:r,containerStyle:{display:"inline"}}):"",u.a.createElement(m.a,{widgetId:i,containerStyle:{display:"inline"}})))}},t.prototype.getPrizes=function(){var e=this.props,t=e.isPrizeWinner,n=e.prizeBadges;if(t)return u.a.createElement("div",{className:"prizes"},n.map(function(e,t){var n=e.prizeName,r=e.prizeIco,i=e.prizeDescription;return u.a.createElement(y.Tooltip,{key:t,spacing:"m",position:"below",color:"white",scope:"global",target:u.a.createElement("div",{className:"prize-badge prize-badge-icon",itemProp:"award","data-description":n+" - "+i},u.a.createElement("span",{className:r}))},u.a.createElement(y.Tooltip.Body,null,u.a.createElement(y.Text,null,n+" - "+i)))}))},t.prototype.componentDidMount=function(){var e=this;this.props.showMessageDialog&&widgetLoader.loadWidgetInDialog("messages.MessageCreateDialog.html",{account_key:this.props.accountKey}),this.props.suggestionFeedbackDialogParams&&widgetLoader.loadWidgetInDialog("profile.AuthorSuggestionFeedbackDialog.html",this.props.suggestionFeedbackDialogParams),this.props.profileUpdateMessage&&this.props.dispatch(Object(v.pushAlert)(function(){return u.a.createElement(y.Alert,{color:"green",description:e.props.profileUpdateMessage})})),Object(b.c)("ProfileHeaderView:hideContentCreationButton",this.handleHideContentCreationButton),Object(b.c)("ProfileHeaderView:showContentCreationButton",this.handleShowContentCreationButton)},t.prototype.componentWillUnmount=function(){Object(b.a)("ProfileHeaderView:hideContentCreationButton",this.handleHideContentCreationButton),Object(b.a)("ProfileHeaderView:showContentCreationButton",this.handleShowContentCreationButton)},t.prototype.renderProfileHeaderScore=function(){var e=this.props,t=e.isLoggedIn,n=e.isDeceased,r=e.rgScore,i=e.scienceString,o=e.profileDegree;return t?u.a.createElement("div",{className:"profile-header-score"},n?null:u.a.createElement(m.a,{widgetId:r,containerStyle:{display:"inline"}}),this.getPrizes()):[n?null:u.a.createElement("h2",{key:"target-sciences",id:"target-sciences",className:"profile-header-sciences"},i),n?null:u.a.createElement("div",{key:"target-degree",id:"target-degree"},u.a.createElement(m.a,{widgetId:o,containerStyle:{display:"inline"}})," ",u.a.createElement(m.a,{widgetId:r,containerStyle:{display:"inline"}})),this.getPrizes()]},t.prototype.render=function(){var e=this.props,t=e.isLoggedIn,n=e.isDeceased,r=e.profileImage,i=e.hCardEnabled,o=e.firstName,a=e.middleName,s=e.lastName,c=e.fullName,l=e.profileUrl,p=e.profileDegree,h=e.profilePosition,f=e.profileInstitution,v=e.showContentCreationButton,y=e.contentCreationButton,b=d()({clearfix:!0,"full-width-element":!0,"deceased-profile-header-wrapper":n,"profile-header-wrapper":t,"profile-header-logged-out":!t}),E=d()({"profile-header-personal":!0,lf:t,hover:this.state.hover,vcard:i}),w=d()({"profile-header-image":!0,lf:t}),_=d()({"ga-profile-header-name":!t,fn:!t&&i});return u.a.createElement("div",null,n?u.a.createElement("div",{className:"deceased-top-line full-width-element"}):"",u.a.createElement("div",{className:b},u.a.createElement("div",{className:"profile-header"},u.a.createElement("div",{className:w},u.a.createElement(m.a,{widgetId:r,containerStyle:{display:"inline"}})),u.a.createElement("div",{className:E,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},n?u.a.createElement("p",{className:"deceased-memory"},"In memory of"):"",u.a.createElement("h1",{className:"profile-header-name"},o?u.a.createElement("meta",{itemProp:"givenName",content:o}):"",a?u.a.createElement("meta",{itemProp:"additionalName",content:a}):"",s?u.a.createElement("meta",{itemProp:"familyName",content:s}):"",u.a.createElement("a",{className:_,href:l,itemProp:"name",content:c},c),t?null:u.a.createElement("div",{id:"target-institution",className:"header-institution-name"},u.a.createElement(m.a,{widgetId:f,containerStyle:{display:"inline"}}))),this.renderProfileHeaderScore(),n||!t?null:u.a.createElement("div",null,u.a.createElement("div",{id:"target-degree",className:"clearfix"},u.a.createElement(m.a,{widgetId:p,containerStyle:{display:"inline"}})),u.a.createElement("div",{id:"target-position"},u.a.createElement(m.a,{widgetId:h,containerStyle:{display:"inline"}})),u.a.createElement("div",{id:"target-institution",className:"header-institution-name"},u.a.createElement(m.a,{widgetId:f,containerStyle:{display:"inline"}})))),this.getProfileActions(),v?u.a.createElement(g.a,{widgetId:y}):"",u.a.createElement("div",{className:"clear"}))))},t}(l.Component);t.a=Object(f.connectWidget)()(E)},109:function(e,t,n){"use strict";function r(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function a(e){function t(e,t){return function(n){var r,i,o,a=[],s=-1,c=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(c,s)),null!=(i=Ee[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(e.slice(c,s)),a.join("")}}function n(e,t){return function(n){var r,s,c=o(1900);if(a(c,e,n+="",0)!=n.length)return null;if("Q"in c)return new Date(c.Q);if("p"in c&&(c.H=c.H%12+12*c.p),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(r=(s=(r=i(o(c.y))).getUTCDay())>4||0===s?be.p.ceil(r):Object(be.p)(r),r=be.l.offset(r,7*(c.V-1)),c.y=r.getUTCFullYear(),c.m=r.getUTCMonth(),c.d=r.getUTCDate()+(c.w+6)%7):(r=(s=(r=t(o(c.y))).getDay())>4||0===s?be.e.ceil(r):Object(be.e)(r),r=be.a.offset(r,7*(c.V-1)),c.y=r.getFullYear(),c.m=r.getMonth(),c.d=r.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),s="Z"in c?i(o(c.y)).getUTCDay():t(o(c.y)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(s+5)%7:c.w+7*c.U-(s+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,i(c)):t(c)}}function a(e,t,n,r){for(var i,o,a=0,s=t.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=Me[i in Ee?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}var s=e.dateTime,c=e.date,he=e.time,fe=e.periods,me=e.days,ge=e.shortDays,ve=e.months,ye=e.shortMonths,we=l(fe),_e=u(fe),Se=l(me),Ie=u(me),Ce=l(ge),Oe=u(ge),xe=l(ve),ke=u(ve),je=l(ye),Te=u(ye),Ae={a:function(e){return ge[e.getDay()]},A:function(e){return me[e.getDay()]},b:function(e){return ye[e.getMonth()]},B:function(e){return ve[e.getMonth()]},c:null,d:T,e:T,f:R,H:A,I:P,j:M,L:D,m:N,M:L,p:function(e){return fe[+(e.getHours()>=12)]},Q:pe,s:de,S:F,u:U,U:B,V:q,w:V,W:W,x:null,X:null,y:z,Y:H,Z:Y,"%":ue},Pe={a:function(e){return ge[e.getUTCDay()]},A:function(e){return me[e.getUTCDay()]},b:function(e){return ye[e.getUTCMonth()]},B:function(e){return ve[e.getUTCMonth()]},c:null,d:K,e:K,f:J,H:G,I:Q,j:$,L:X,m:Z,M:ee,p:function(e){return fe[+(e.getUTCHours()>=12)]},Q:pe,s:de,S:te,u:ne,U:re,V:ie,w:oe,W:ae,x:null,X:null,y:se,Y:ce,Z:le,"%":ue},Me={a:function(e,t,n){var r=Ce.exec(t.slice(n));return r?(e.w=Oe[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=Se.exec(t.slice(n));return r?(e.w=Ie[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=je.exec(t.slice(n));return r?(e.m=Te[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=xe.exec(t.slice(n));return r?(e.m=ke[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,t,n){return a(e,s,t,n)},d:E,e:E,f:O,H:_,I:_,j:w,L:C,m:b,M:S,p:function(e,t,n){var r=we.exec(t.slice(n));return r?(e.p=_e[r[0].toLowerCase()],n+r[0].length):-1},Q:k,s:j,S:I,u:d,U:h,V:f,w:p,W:m,x:function(e,t,n){return a(e,c,t,n)},X:function(e,t,n){return a(e,he,t,n)},y:v,Y:g,Z:y,"%":x};return Ae.x=t(c,Ae),Ae.X=t(he,Ae),Ae.c=t(s,Ae),Pe.x=t(c,Pe),Pe.X=t(he,Pe),Pe.c=t(s,Pe),{format:function(e){var n=t(e+="",Ae);return n.toString=function(){return e},n},parse:function(e){var t=n(e+="",r);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",Pe);return n.toString=function(){return e},n},utcParse:function(e){var t=n(e,i);return t.toString=function(){return e},t}}}function s(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function c(e){return e.replace(Se,"\\$&")}function l(e){return new RegExp("^(?:"+e.map(c).join("|")+")","i")}function u(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function p(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function d(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function h(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function f(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function m(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function g(e,t,n){var r=we.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function v(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function y(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function b(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function E(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function w(e,t,n){var r=we.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function S(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function I(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function C(e,t,n){var r=we.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function O(e,t,n){var r=we.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function x(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function k(e,t,n){var r=we.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function j(e,t,n){var r=we.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function T(e,t){return s(e.getDate(),t,2)}function A(e,t){return s(e.getHours(),t,2)}function P(e,t){return s(e.getHours()%12||12,t,2)}function M(e,t){return s(1+be.a.count(Object(be.k)(e),e),t,3)}function D(e,t){return s(e.getMilliseconds(),t,3)}function R(e,t){return D(e,t)+"000"}function N(e,t){return s(e.getMonth()+1,t,2)}function L(e,t){return s(e.getMinutes(),t,2)}function F(e,t){return s(e.getSeconds(),t,2)}function U(e){var t=e.getDay();return 0===t?7:t}function B(e,t){return s(be.h.count(Object(be.k)(e),e),t,2)}function q(e,t){var n=e.getDay();return e=n>=4||0===n?Object(be.i)(e):be.i.ceil(e),s(be.i.count(Object(be.k)(e),e)+(4===Object(be.k)(e).getDay()),t,2)}function V(e){return e.getDay()}function W(e,t){return s(be.e.count(Object(be.k)(e),e),t,2)}function z(e,t){return s(e.getFullYear()%100,t,2)}function H(e,t){return s(e.getFullYear()%1e4,t,4)}function Y(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+s(t/60|0,"0",2)+s(t%60,"0",2)}function K(e,t){return s(e.getUTCDate(),t,2)}function G(e,t){return s(e.getUTCHours(),t,2)}function Q(e,t){return s(e.getUTCHours()%12||12,t,2)}function $(e,t){return s(1+be.l.count(Object(be.v)(e),e),t,3)}function X(e,t){return s(e.getUTCMilliseconds(),t,3)}function J(e,t){return X(e,t)+"000"}function Z(e,t){return s(e.getUTCMonth()+1,t,2)}function ee(e,t){return s(e.getUTCMinutes(),t,2)}function te(e,t){return s(e.getUTCSeconds(),t,2)}function ne(e){var t=e.getUTCDay();return 0===t?7:t}function re(e,t){return s(be.s.count(Object(be.v)(e),e),t,2)}function ie(e,t){var n=e.getUTCDay();return e=n>=4||0===n?Object(be.t)(e):be.t.ceil(e),s(be.t.count(Object(be.v)(e),e)+(4===Object(be.v)(e).getUTCDay()),t,2)}function oe(e){return e.getUTCDay()}function ae(e,t){return s(be.p.count(Object(be.v)(e),e),t,2)}function se(e,t){return s(e.getUTCFullYear()%100,t,2)}function ce(e,t){return s(e.getUTCFullYear()%1e4,t,4)}function le(){return"+0000"}function ue(){return"%"}function pe(e){return+e}function de(e){return Math.floor(+e/1e3)}function he(e){return fe=a(e),me=fe.format,ge=fe.parse,ve=fe.utcFormat,ye=fe.utcParse,fe}var fe,me,ge,ve,ye,be=n(144),Ee={"-":"",_:" ",0:"0"},we=/^\s*\d+/,_e=/^%/,Se=/[\\^$*+?|[\]().{}]/g;he({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ie="%Y-%m-%dT%H:%M:%S.%LZ",Ce=Date.prototype.toISOString?function(e){return e.toISOString()}:ve(Ie),Oe=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:ye(Ie);n.d(t,!1,function(){return he}),n.d(t,"a",function(){return me}),n.d(t,"b",function(){return ge}),n.d(t,"c",function(){return ve}),n.d(t,!1,function(){return ye}),n.d(t,!1,function(){return a}),n.d(t,!1,function(){return Ce}),n.d(t,!1,function(){return Oe})},1098:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(6),d=n(340),h=n(10),f=n(854),m=n(1025),g=n(22),v=n.n(g),y="adminManufacturerSelect",b=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleChange=function(e){var t=e.map(function(e){return e.value});r.props.onChange(t)},r.handleLoadOptions=function(e){return e.length<2?Promise.resolve({options:[]}):Object(h.default)(r.props.searchUrl,{method:"GET",query:{query:e}}).then(function(e){var t=e.result;r.props.dispatch(Object(f.b)(t.targetingValues)),r.props.dispatch(Object(m.b)(t.options));return{options:Object.values(t.options)}})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){return u.a.createElement(d.a,{value:this.props.selectedItems,onChange:this.handleChange,loadOptions:this.handleLoadOptions,name:this.props.name,placeholder:this.props.placeholder,disabled:this.props.disabled,searchPromptText:this.props.searchPromptText,isAsync:!0})},t}(l.Component);b.defaultProps={placeholder:"Select manufacturers",disabled:!1,searchPromptText:"Start typing to see manufacturers",multi:!0};t.a=Object(p.connectWidget)(function(e,t){return{selectedItems:t.selectedIds.map(function(t){return function(e,t){var n=t.manufacturerId;return v()(e,[y,"options",n])}(e,{manufacturerId:t})}),searchUrl:function(e){return v()(e,[y,"searchUrl"])}(e)}})(b)},1099:function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=n(1),a=(n.n(o),n(0)),s=n.n(a),c=n(7),l=n.n(c),u=n(2),p=new l.a({name:"warning-tooltip"});t.a=function(e){var t=e.children,n=i()(e,["children"]),r=s.a.createElement("div",p("icon"),s.a.createElement(u.Icon,{identifier:"exclamation-circle"}));return s.a.createElement(u.Tooltip,Object.assign({target:r},n),t)}},1100:function(e,t,n){"use strict";function r(e){var t=e.label,n=e.children,r=m.a.createElement("div",x("icon"),m.a.createElement(b.Icon,{identifier:"info-circle"}));return m.a.createElement("div",x(),m.a.createElement("div",x("label"),t),m.a.createElement(b.Tooltip,{target:r},n))}function i(e){if(!e.breakdown.length)return m.a.createElement("span",null);var t=e.breakdown.map(function(e){return m.a.createElement(k.a.Row,{key:e.targetingCriteriaName},m.a.createElement(k.a.Cell,j("name"),e.targetingCriteriaName),m.a.createElement(k.a.Cell,Object.assign({align:"right"},j("number")),O()(e.availableUnits).format()),m.a.createElement(k.a.Cell,Object.assign({align:"right"},j("number")),O()(e.matchedUnits).format()))});return m.a.createElement(k.a,null,m.a.createElement(k.a.Header,null,m.a.createElement(k.a.Cell,{align:"center"},e.targetingDimension),m.a.createElement(k.a.Cell,{align:"center"},m.a.createElement(r,{label:"Available"},"Impressions that match the line item’s targeting criteria and are currently free of obligations to other line items of any priority.")),m.a.createElement(k.a.Cell,{align:"center"},m.a.createElement(r,{label:"Matched"},"Impressions that match the line item’s targeting criteria, not considering any obligations to line items that might already exist."))),m.a.createElement(k.a.Body,null,t))}function o(e){var t=e.placementBreakdown,n=e.geographyBreakdown,r=e.customBreakdown;return m.a.createElement(b.Stack,Object.assign({},T(),{gutter:"m"}),m.a.createElement(b.Stack.Item,null,m.a.createElement(b.Text,T("header"),"Total"),m.a.createElement(i,{targetingDimension:"Placement",breakdown:t})),m.a.createElement(b.Stack.Item,null,m.a.createElement(b.Text,T("header"),"Breakdown"),m.a.createElement(i,{targetingDimension:"Custom criteria",breakdown:r}),m.a.createElement(i,{targetingDimension:"Geography",breakdown:n})))}var a=n(3),s=n.n(a),c=n(4),l=n.n(c),u=n(5),p=n.n(u),d=n(1),h=n.n(d),f=n(0),m=n.n(f),g=n(6),v=n(7),y=n.n(v),b=n(2),E=n(12),w=n(46),_=n.n(w),S=n(10),I=n(715),C=n(43),O=n.n(C),x=new y.a({name:"forecasting-results-tooltip"}),k=n(95),j=new y.a({name:"ad-campaign-forecasting-breakdown"}),T=new y.a({name:"ad-campaign-forecasting-results"}),A=(h.a.arrayOf(h.a.shape({matchedUnits:h.a.number.isRequired,availableUnits:h.a.number.isRequired,targetingCriteriaName:h.a.string.isRequired})),new y.a({name:"ad-campaign-forecasting"})),P=function(e){function t(){var n,r,i;s()(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(a))),r.state={isActive:!0,isLoading:!1,forecast:r.props.lastForecast,placement:r.props.fixedPlacement||r.props.defaultPlacement,startDate:_()(r.props.defaultStartDate),endDate:_()(r.props.defaultEndDate),lastUpdate:r.props.defaultLastUpdate?_()(r.props.defaultLastUpdate):null},r.handleSubmit=function(e){e.preventDefault();var t={rgKey:r.props.rgKey,placement:r.state.placement,startDate:r.state.startDate.format("YYYY-MM-DD 00:00:00"),endDate:r.state.endDate.format("YYYY-MM-DD 23:59:59")};r.setState({isLoading:!0,forecast:null}),Object(S.default)(r.props.forecastUrl,{method:"POST",body:t}).then(function(e){r.setState({forecast:e.result,isLoading:!1,lastUpdate:_()()})}).catch(function(e){r.setState({isLoading:!1});var t=e.errors.error||"System error";r.props.dispatch(Object(E.pushAlert)(function(){return m.a.createElement(b.Alert,{title:"Can't run forecast",description:t,color:"red"})}))})},r.handleChangeStartDate=function(e){r.setState({startDate:e})},r.handleChangeEndDate=function(e){r.setState({endDate:e})},r.handleChangePlacement=function(e){r.setState({placement:e.target.value})},i=n,l()(r,i)}return p()(t,e),t.prototype.render=function(){if(!this.state.isActive)return m.a.createElement("div",A(),"Please save the campaign to run forecast.");var e=this.state.lastUpdate?m.a.createElement(b.Text,Object.assign({},A("last-update"),{size:"s"}),"Updated ",this.state.lastUpdate.fromNow()):null;return m.a.createElement(b.Stack,Object.assign({},A(),{gutter:"m"}),m.a.createElement(b.Stack.Item,null,m.a.createElement(b.Text,{size:"xl",spacing:"xxs"},"Delivery forecast"),e),m.a.createElement(b.Stack.Item,null,m.a.createElement("form",{onSubmit:this.handleSubmit},this.getForm())),this.getResults())},t.prototype.getInventory=function(){var e=this.props,t=e.fixedPlacement,n=e.placementOptions,r=this.state.placement;if(t)return null;return m.a.createElement(b.Stack.Item,null,m.a.createElement("label",null,"Select inventory"),m.a.createElement("select",{name:"placement",value:r,onChange:this.handleChangePlacement},n.map(function(e){var t=e.name,n=e.value;return m.a.createElement("option",{key:t,value:n},t)})))},t.prototype.getForm=function(){var e=this.state,t=e.isLoading,n=e.startDate,r=e.endDate;return m.a.createElement(b.Stack,null,this.getInventory(),m.a.createElement(b.Stack.Item,null,m.a.createElement(b.Pack,null,m.a.createElement(b.Pack.Item,null,m.a.createElement("label",null,"Start date"),m.a.createElement(I.a,{className:"text",selected:n,onChange:this.handleChangeStartDate,dateFormat:"YYYY-MM-DD",fixedHeight:!0})),m.a.createElement(b.Pack.Item,null,m.a.createElement("label",null,"End date"),m.a.createElement(I.a,{className:"text",selected:r,onChange:this.handleChangeEndDate,dateFormat:"YYYY-MM-DD",fixedHeight:!0})))),m.a.createElement(b.Stack.Item,null,m.a.createElement(b.Button,{status:t?"busy":null,size:"m"},"Run forecast")))},t.prototype.getResults=function(){var e=this.state.forecast;return e?m.a.createElement(b.Stack.Item,null,m.a.createElement(o,e)):null},t}(f.Component);t.a=Object(g.connectWidget)()(P)},1102:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(46),h=n.n(d),f=n(2),m=n(538),g="YYYY-MM-DD",v=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleStartDateChange=function(e){r.props.onChange(e.format(g),r.props.endDate)},r.handleEndDateChange=function(e){r.props.onChange(r.props.startDate,e.format(g))},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.startDate,n=e.endDate,r=e.minDate,i=e.maxDate,o={minDate:h()(r),maxDate:h()(i),dateFormat:g};return p.a.createElement(f.FormGroup,{layout:"inline"},p.a.createElement(f.FormGroup.Item,null,p.a.createElement(f.Label,null,"Start date"),p.a.createElement(m.a,Object.assign({},o,{selected:h()(t||r),onChange:this.handleStartDateChange}))),p.a.createElement(f.FormGroup.Item,null,p.a.createElement(f.Label,null,"End date"),p.a.createElement(m.a,Object.assign({},o,{selected:h()(n||i),onChange:this.handleEndDateChange}))))},t}(u.Component);v.defaultProps={size:"m"},t.a=v},1103:function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=(n(1),n(0)),a=n.n(o),s=n(715),c=n(3),l=n.n(c),u=n(4),p=n.n(u),d=n(5),h=n.n(d),f=n(2),m=function(e){function t(){return l()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(f.Input,Object.assign({},this.props,{fieldRef:function(t){e.input=t}}))},t.prototype.focus=function(){this.input.focus()},t}(o.Component);t.a=function(e){var t=e.className,n=e.size,r=i()(e,["className","size"]);return a.a.createElement("div",{className:t},a.a.createElement(s.a,Object.assign({},r,{customInput:a.a.createElement(m,{size:n})})))}},1104:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(1),d=(n.n(p),n(23)),h=n(52),f=n(41),m=n(94),g=n(8),v=n.n(g),y=n(6),b=n(2),E=n(12),w=n(160),_="ad-campaign-items-edit-targeting-form",S=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleSubmit=function(e){r.props.dispatch(Object(w.z)(r.props.rgKey,e)).then(function(){r.props.dispatch(Object(E.pushAlert)(function(){return u.a.createElement(b.Alert,{title:"Targeting has been saved",color:"green"})})),r.props.onClose()}).catch(function(e){r.props.dispatch(Object(E.pushAlert)(function(){return u.a.createElement(b.Alert,{title:"Can't save targeting",description:"Please try again",color:"red"})})),Object(h.handleValidationErrors)(e)})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.onClose,n=e.error,r=e.submitting,i=e.handleSubmit,o=e.dispatch;return u.a.createElement(b.Modal,{isOpen:!0,onRequestClose:t,isCloseable:!0},u.a.createElement(b.Modal.Body,null,u.a.createElement(d.Form,{onSubmit:i(this.handleSubmit)},n&&u.a.createElement("strong",null,n),u.a.createElement(b.FormGroup,null,u.a.createElement(b.FormGroup.Item,null,u.a.createElement(f.InputFormField,{label:"Targeting title",name:"name"},u.a.createElement(b.Input,{type:"text"})))))),u.a.createElement(b.Modal.Footer,null,u.a.createElement(b.ButtonGroup,null,u.a.createElement(b.Button,{onClick:t,type:"button",theme:"bare",status:r?"disabled":""},"Cancel"),u.a.createElement(b.Button,{onClick:function(){return o(Object(d.submit)(_))},type:"button",status:r?"busy":""},"Save"))))},t}(l.Component);t.a=v()(Object(y.connectWidget)(function(e,t){var n=t.rgKey,r=Object(m.d)(e,{rgKey:n}).name;return{form:_,initialValues:{name:r}}}),Object(d.reduxForm)({validate:Object(h.createValidator)({name:{presence:!0}})}))(S)},1105:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(22),i=n.n(r),o=function(e,t){return{contentItems:t.contentItemIds.map(function(t){return function(e,t){var n=t.rgKey;return i()(e,["adminContentItems","items",n],{label:'DELETED ITEM "'+n+'"',rgKey:n})}(e,{rgKey:t})})}}},1106:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(1),d=(n.n(p),n(2)),h=n(7),f=new(n.n(h).a)({name:"ad-campaign-item-breakdown-select"}),m=[{label:"None",value:null},{label:"Countries",value:"countries"},{label:"Sciences",value:"sciences"}],g=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.handleChange=function(e){this.props.onChange(e),this.dropdown.hide()},t.prototype.render=function(){var e=this,t=this.props.value,n=u.a.createElement(d.Button,{type:"button",align:"left",theme:"ghost",color:"black",size:"s"},u.a.createElement(d.Button.Label,null,"Breakdowns"),u.a.createElement(d.Button.Icon,{identifier:"arrow-down-fill"})),r=m.map(function(n){var r=n.value,i=n.label,o=r===t;return u.a.createElement(d.Dropdown.Action,{type:"button",key:r,icon:o?"check":null,onClick:function(){return e.handleChange(r)}},u.a.createElement("span",f("label",o?null:"inactive"),i))});return u.a.createElement(d.Dropdown,{target:n,mode:"click",offset:{top:0,left:0},ref:function(t){e.dropdown=t}},r)},t}(l.Component);g.defaultProps={value:null},t.a=g},1112:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(6),d=n(2),h=n(41),f=n(23),m=n(8),g=n.n(m),v=n(52),y=n(596),b=n(853),E=n(1547),w=n(22),_=n.n(w),S=function(e){return _()(e,["adsAdCreation","step"])},I=function(e){return _()(e,["adsAdCreation","stepData",S(e)],{})},C=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleFormSubmit=function(e){return Object(y.g)(e).then(function(e){var t=e.result;return r.props.dispatch(Object(b.b)(t)),r.props.dispatch(Object(E.b)(t)),t}).catch(function(e){Object(v.handleValidationErrors)(e)})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.handleSubmit,n=e.validationConstraints,r=e.submitting;return u.a.createElement(f.Form,{onSubmit:t(this.handleFormSubmit)},u.a.createElement(d.FormGroup,null,u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.InputFormField,{label:"Campaign name",name:"name"},u.a.createElement(d.Input,{placeholder:"Enter campaign name",size:"s",maxLength:_()(n,["name","length","maximum"])}))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(d.Button,{type:"submit",align:"left",status:r?"busy":null},u.a.createElement(d.Button.Label,null,"Continue")))))},t}(l.Component),O=g()(Object(p.connectWidget)(function(e){return Object.assign({},I(e))}),Object(f.reduxForm)({form:"adsOrder",validate:function(e,t){return Object(v.createValidator)(t.validationConstraints)(e,t)}}))(C),x=function(){return u.a.createElement(d.Card,null,u.a.createElement(d.Card.Body,null,u.a.createElement(d.Text,{size:"l",spacing:"m"},u.a.createElement("b",null,"Create campaign")),u.a.createElement(O,null)))},k=n(1103),j=n(46),T=n.n(j),A=n(621),P=n(714),M=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleFormSubmit=function(e){return Object(y.f)(e).then(function(e){var t=e.result;return r.props.dispatch(Object(b.b)(t)),t}).catch(function(e){Object(v.handleValidationErrors)(e)})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.handleSubmit,n=e.validationConstraints,r=e.disciplines,i=e.submitting;return u.a.createElement(f.Form,{onSubmit:t(this.handleFormSubmit)},u.a.createElement(d.FormGroup,null,u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.InputFormField,{label:"Ad group name",name:"name"},u.a.createElement(d.Input,{placeholder:"Enter ad group name",size:"s",maxLength:_()(n,["name","length","maximum"])}))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(d.Text,{spacing:"xxs"},u.a.createElement("b",null,"Audience")),u.a.createElement(d.Text,{spacing:"xxs",size:"s"},"Define who wants to see your ads.")),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(d.FormGroup,null,u.a.createElement(d.FormGroup.Item,null,u.a.createElement(d.Text,{spacing:"none",size:"s"},u.a.createElement("b",null,"Geography"))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.ReactSelectFormField,{label:"Include locations",name:"includeCountries",valueParamName:"selectedIds"},u.a.createElement(A.a,{size:"s",clearBtn:"right-outside"}))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.ReactSelectFormField,{label:"Exclude locations",name:"excludeCountries",valueParamName:"selectedIds"},u.a.createElement(A.a,{size:"s",clearBtn:"right-outside"}))))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.ReactSelectFormField,{label:"Scientific expertise & interests",name:"sciences",valueParamName:"selectedIds"},u.a.createElement(P.a,{size:"s",clearBtn:"right-outside",disciplines:r,showTree:!1}))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(d.Text,{spacing:"xxs"},u.a.createElement("b",null,"Budget & delivery")),u.a.createElement(d.Text,{spacing:"s",size:"s"},"Define how much you'd like to spend,and how your ad should be optimized.")),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(d.FormGroup,{layout:"pack"},u.a.createElement(d.FormGroup.Item,{width:"quarter"},u.a.createElement(h.SelectFormField,{label:"Budget",name:"budgetType"},u.a.createElement(d.Select,{size:"s"},u.a.createElement(d.Select.Option,{value:"daily"},"Daily"),u.a.createElement(d.Select.Option,{value:"lifetime"},"Lifetime")))),u.a.createElement(d.FormGroup.Item,{width:"quarter"},u.a.createElement(h.InputFormField,{label:"Bid per 1.000 impressions",name:"bid"},u.a.createElement(d.Input,{placeholder:"€20.00",size:"s"}))),u.a.createElement(d.FormGroup.Item,{width:"quarter"},u.a.createElement(h.InputFormField,{label:"Budget value",name:"budget"},u.a.createElement(d.Input,{placeholder:"€500.00",size:"s"}))))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(d.Text,{spacing:"none"},u.a.createElement("b",null,"Schedule"))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(d.FormGroup,{layout:"inline"},u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.DatePickerFormField,{label:"Start date",name:"startDate",dateFormat:"YYYY-MM-DD"},u.a.createElement(k.a,{minDate:T()(this.props.minimumDate),customInput:u.a.createElement(d.Input,null),size:"s"}))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.DatePickerFormField,{label:"End date",name:"endDate",dateFormat:"YYYY-MM-DD"},u.a.createElement(k.a,{minDate:T()(this.props.minimumDate),customInput:u.a.createElement(d.Input,null),size:"s"}))))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(d.Button,{type:"submit",align:"left",status:i?"busy":null},u.a.createElement(d.Button.Label,null,"Continue")))))},t}(l.Component),D=g()(Object(p.connectWidget)(function(e){return Object.assign({},I(e))}),Object(f.reduxForm)({form:"adsLineItem",validate:function(e,t){return Object(v.createValidator)(t.validationConstraints)(e,t)},initialValues:{includeCountries:[],excludeCountries:[]}}))(M),R=Object(f.formValueSelector)("adsLineItem"),N=Object(p.connectWidget)(function(e){return{id:R(e,"id")}})(function(e){var t=e.id?"Edit":"Create";return u.a.createElement(d.Card,null,u.a.createElement(d.Card.Body,null,u.a.createElement(d.Text,{size:"l",spacing:"m"},u.a.createElement("b",null,t+" ad group")),u.a.createElement(D,null)))}),L=n(20),F=n(57),U=n.n(F),B=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleFormSubmit=function(e){return Object(y.d)(e).then(function(e){var t=e.result;return r.props.dispatch(Object(b.b)(t)),t}).catch(function(e){Object(v.handleValidationErrors)(e)})},o=n,a()(r,o)}return c()(t,e),t.prototype.getAttachContainer=function(){return u.a.createElement("div",{className:"clearable-select--size-s"},u.a.createElement(h.ReactSelectFormField,{name:"id",label:"Select from existing advertisers"},u.a.createElement(U.a,{options:this.props.companies,valueKey:"id",labelKey:"name",simpleValue:!0,placeholder:"Select an advertiser..."})))},t.prototype.getCreateContainer=function(){return u.a.createElement("div",null,u.a.createElement(h.InputFormField,{name:"name",label:"Advertiser name"},u.a.createElement(d.Input,{size:"s"})))},t.prototype.render=function(){var e=this.props,t=e.handleSubmit,n=e.type,r=e.submitting,i=e.salesforceAccountName;return u.a.createElement(f.Form,{onSubmit:t(this.handleFormSubmit)},u.a.createElement(d.FormGroup,null,u.a.createElement(d.FormGroup.Item,null,u.a.createElement(d.Text,null,"Salesforce account name: ",i)),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.RadioFormField,{label:"",name:"type"},u.a.createElement(d.Radio,{value:"attach"},"Attach existing Advertiser to Salesforce account"),u.a.createElement(d.Radio,{value:"create"},"Create Advertiser for Salesforce account"))),u.a.createElement(d.FormGroup.Item,null,"attach"===n?this.getAttachContainer():this.getCreateContainer()),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(d.Button,{type:"submit",align:"left",status:r?"busy":null},u.a.createElement(d.Button.Label,null,"Continue")))))},t}(l.Component),q=Object(f.formValueSelector)("adsCompany"),V=g()(Object(p.connectWidget)(function(e){return Object.assign({},I(e))}),Object(f.reduxForm)({form:"adsCompany",validate:function(e,t){return Object(v.createValidator)(t.validationConstraints)(e,t)}}),Object(L.connect)(function(e){return{type:q(e,"type"),name:q(e,"name")}}))(B),W=function(){return u.a.createElement(d.Card,null,u.a.createElement(d.Card.Body,null,u.a.createElement(d.Text,{size:"l",spacing:"m"},u.a.createElement("b",null,"Create or select advertiser and attach to SalesforceAccount")),u.a.createElement(V,null)))},z=n(10),H="nativeStyleForm",Y=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleLogoUpload=function(e,t){var n=new FormData,i=e.currentTarget.files;if(i instanceof FileList)for(var o=i.length,a=0;a<o;a++){var s=i.item(a);n.append("image",s,s.name);break}return n.append("type",t),Object(z.default)("/admin/ads/api/creative/image",{method:"POST",body:n}).then(function(e){var n=e.result;r.props.dispatch(Object(f.change)(H,t+"Content",n.content)),r.props.dispatch(Object(f.change)(H,t,n.temporaryFileId))}).catch(function(e){var n,i=e.errors;r.props.dispatch(Object(f.startAsyncValidation)(H)),r.props.dispatch(Object(f.stopAsyncValidation)(H,(n={},n[t]=i.image.join(", "),n))),r.props.dispatch(Object(f.setSubmitFailed)(H,t))})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.handleSubmit,r=t.callToActionValues,i=t.handleFormSubmit,o=t.submitting,a=r.map(function(e){return u.a.createElement(d.Select.Option,{key:e},e)}),s=o?"busy":"";return u.a.createElement(f.Form,{onSubmit:n(i)},u.a.createElement(d.Stack,{gutter:"xxl"},u.a.createElement(d.Stack.Item,null,u.a.createElement(d.FormGroup,null,u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.InputFormField,{label:"Ad name",name:"name"},u.a.createElement(d.Input,{placeholder:"e.g. ResearchGate default ad",size:"s"}))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.InputFormField,{label:"Advertiser name",name:"advertiser",maxLength:30},u.a.createElement(d.Input,{placeholder:"e.g. ResearchGate",size:"s"}))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.InputFormField,{label:"Headline",name:"headline",maxLength:30},u.a.createElement(d.Input,{placeholder:"e.g. ResearchGate is built by scientists, for scientists",size:"s"}))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.TextareaFormField,{label:"Description short",name:"descriptionShort",maxLength:95,rows:3},u.a.createElement(d.Textarea,{placeholder:"e.g. The professional network for scientist and researchers",size:"s"}))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.TextareaFormField,{label:"Description long",name:"descriptionLong",maxLength:190,rows:3},u.a.createElement(d.Textarea,{placeholder:"e.g. The professional network for scientist and researchers",size:"s"}))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.SelectFormField,{label:"Call to action",name:"callToAction"},u.a.createElement(d.Select,{size:"s"},a))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.InputFormField,{label:"Destination url",name:"destinationUrl"},u.a.createElement(d.Input,{placeholder:"e.g. https://www.researchgate.net/contact",size:"s"}))),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.InputFormField,{label:"Logo",name:"logo"},u.a.createElement(d.Input,{type:"hidden"})),u.a.createElement(d.FileInput,{label:"Upload logo",onChange:function(t){return e.handleLogoUpload(t,"logo")},size:"s"})),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(h.InputFormField,{label:"Header image",name:"headerImage"},u.a.createElement(d.Input,{type:"hidden"})),u.a.createElement(d.FileInput,{label:"Upload header image",onChange:function(t){return e.handleLogoUpload(t,"headerImage")},size:"s"})))),u.a.createElement(d.Stack.Item,null,u.a.createElement(d.Button,{type:"submit",status:s},u.a.createElement(d.Button.Label,null,"Save ad")))))},t}(l.Component),K=g()(Object(p.connectWidget)(),Object(f.reduxForm)({form:H,validate:function(e,t){return Object(v.createValidator)(t.validationConstraints)(e,t)}}))(Y),G=n(16),Q=n.n(G),$=n(7),X=n.n($),J=n(50),Z=n.n(J),ee=1e3,te=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.handleResize=function(){var e=r.refs.previewIframe.contentDocument.getElementById("content-container");if(e){var t=Math.min(Math.max(e.offsetHeight,e.clientHeight),ee);r.refs.previewIframe.setAttribute("height",t)}},r.updateIFrame=Z()(r.updateIFrame,400),r}return c()(t,e),t.prototype.componentDidMount=function(){this.intervalId=setInterval(this.handleResize,500),this.handleResize()},t.prototype.componentWillUnmount=function(){clearInterval(this.intervalId)},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){return u.a.createElement("iframe",{className:"preview-frame",ref:"previewIframe",height:315})},t.prototype.updateIFrame=function(){var e=this,t=this.props.htmlSnippet,n=new RegExp("("+["%%ADUNIT%%","%%DEST_URL%%","%%DEST_URL_ESC%%","%%DEST_URL_ESC_ESC%%","%%DEST_URL_UNESC%%","%%HEIGHT%%","%%WIDTH%%","%%TARGET_IN_NEW_WINDOW%%","%%TARGET_WINDOW%%","%%TFCD%%","%%CACHEBUSTER%%","%%CLICK_URL_UNESC%%","%%CLICK_URL_ESC%%","%%CLICK_URL_ESC_ESC%%","%eaid!","%eadv!","%ebuy!","%ecid!","%eenv!","%epid!","%esid!","%%SCHEME%%","%%SITE%%","%%VIEW_URL_ESC%%","%%VIEW_URL_UNESC%%"].join("|")+")","gm");t=t.replace(n,""),Object.keys(this.props).forEach(function(n){t=t.replace("[%"+n+"%]",e.props[n])}),t=t.replace(/(\[%\w+%\])/gm,"");var r=new Blob([t],{type:"text/html"}),i=window.URL||window.webkitURL;this.refs.previewIframe.contentWindow.location.replace(i.createObjectURL(r))},t.prototype.componentWillReceiveProps=function(){this.updateIFrame()},t}(l.Component),ne=new X.a({name:"native-style-preview"}),re=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={nativeStyleId:Object.keys(r.props.nativeStyles)[0]},r.handleNativeStyleChange=function(e){r.setState({nativeStyleId:e.currentTarget.value})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.nativeStyles,r=t.defaultValues,i=Q()(t,["nativeStyles","defaultValues"]),o=n[this.state.nativeStyleId].htmlSnippet;Object.keys(i).forEach(function(t){if("logo"!==t&&"headerImage"!==t){var n=e.props[t];t.endsWith("Content")&&(t=t.substr(0,t.length-"Content".length)),o="destinationUrl"===t?o.replace("%%DEST_URL%%",n):o.replace("[%"+t+"%]",n)}}),Object.keys(r).forEach(function(e){var t=r[e];o="destinationUrl"===e?o.replace("%%DEST_URL%%",t):o.replace("[%"+e+"%]",t)}),o=o.replace(/(\[%\w+%\])/gm,"");var a=new RegExp("("+["%%ADUNIT%%","%%DEST_URL%%","%%DEST_URL_ESC%%","%%DEST_URL_ESC_ESC%%","%%DEST_URL_UNESC%%","%%HEIGHT%%","%%WIDTH%%","%%TARGET_IN_NEW_WINDOW%%","%%TARGET_WINDOW%%","%%TFCD%%","%%CACHEBUSTER%%","%%CLICK_URL_UNESC%%","%%CLICK_URL_ESC%%","%%CLICK_URL_ESC_ESC%%","%eaid!","%eadv!","%ebuy!","%ecid!","%eenv!","%epid!","%esid!","%%SCHEME%%","%%SITE%%","%%VIEW_URL_ESC%%","%%VIEW_URL_UNESC%%"].join("|")+")","gm");o=o.replace(a,"");var s=Object.keys(n).map(function(e){return u.a.createElement(d.Select.Option,{key:e,value:e},n[e].name)});return u.a.createElement("div",ne(),u.a.createElement(d.FormGroup,null,u.a.createElement(d.FormGroup.Item,null,u.a.createElement(d.Label,{htmlFor:"nativeStylePreview"},"Variants"),u.a.createElement(d.Select,{value:this.state.nativeStyleId,onChange:this.handleNativeStyleChange,id:"nativeStylePreview",size:"s"},s)),u.a.createElement(d.FormGroup.Item,null,u.a.createElement(d.Label,null,"Preview"),u.a.createElement("div",ne("slot"),u.a.createElement(te,{htmlSnippet:o})))))},t}(l.Component),ie=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleFormSubmit=function(e){return Object(y.e)(e).then(function(e){var t=e.result;t.redirectUrl&&(window.location=t.redirectUrl)}).catch(function(e){Object(v.handleValidationErrors)(e)})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.creativeTemplate.callToActionValues,n=e.nativeStyles,r=e.formData,i=e.initialValues,o=e.baseUrl,a=e.defaultValues,s=e.validationConstraints;return u.a.createElement(d.MediaObject,{verticalAlign:"top"},u.a.createElement(d.MediaObject.Item,{width:"full"},u.a.createElement(K,{validationConstraints:s,initialValues:i,callToActionValues:t,handleFormSubmit:this.handleFormSubmit})),u.a.createElement(d.MediaObject.Item,null,u.a.createElement(re,Object.assign({nativeStyles:n,baseUrl:o},r,{defaultValues:a}))))},t}(l.Component),oe=g()(Object(p.connectWidget)(function(e){var t=Object(f.getFormValues)(H)(e);return Object.assign({},I(e),{formData:t||{}})}))(ie),ae=Object(f.formValueSelector)(H),se={order:x,lineItem:N,advertiser:W,creative:Object(p.connectWidget)(function(e){return{id:ae(e,"id")}})(function(e){var t=e.id?"Edit":"Create";return u.a.createElement(d.Card,null,u.a.createElement(d.Card.Body,null,u.a.createElement(d.Text,{size:"l",spacing:"m"},u.a.createElement("b",null,t+" ad")),u.a.createElement(oe,null)))})},ce=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props.step,t=se[e];return u.a.createElement("div",null,u.a.createElement(t,null))},t}(l.Component);t.a=Object(p.connectWidget)(function(e){return{step:S(e)}})(ce)},1130:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(15),f=n.n(h),m=n(43),g=n.n(m),v=n(2),y=n(1544),b=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.state={activeRowNumber:0},r.updatePerformanceChartState=r.updatePerformanceChartState.bind(r),r}return c()(t,e),t.prototype.renderDiffCell=function(e,t,n){if(!e)return p.a.createElement("td",{className:"cell align-right"},"-");var r=null;if(t){var i=t/e-1,o=i>0?"+":"",a="diff";n&&0!==Math.abs(i)?(a+=i>0?" diff-positive":" diff-negative",a+=Math.abs(i)>=.05&&Math.abs(i)<.1?"-medium":"",a+=Math.abs(i)>=.1?"-strong":""):a+=" diff-none",r=p.a.createElement("span",{className:a},o,g()(i).format("0.00%"))}return p.a.createElement("td",{className:"cell align-right"},r)},t.prototype.renderRows=function(){var e=this;return this.props.rows.map(function(t,n){var r=e.props.rowConfig[t.label]||null,i=e.props.chartId?"Click to update the graph":null,o={row:!0,active:e.props.chartId&&n===e.state.activeRowNumber};return p.a.createElement("tr",{key:n,onClick:function(){return e.updatePerformanceChartState(r,n)},className:f()(o),title:i},p.a.createElement("td",{className:"cell cell-icon"},p.a.createElement(v.Icon,{identifier:"rg-score",size:"s",className:"chart-indicator"})),p.a.createElement("td",{className:"cell"},t.label),p.a.createElement("td",{className:"cell align-right"},g()(t.lastWeek).format("0,0")),p.a.createElement("td",{className:"cell align-right"},p.a.createElement("strong",{className:"current-value"},g()(t.current).format("0,0"))),e.renderDiffCell(t.lastWeek,t.current,!0),p.a.createElement("td",{className:"cell align-right"},g()(t.goal).format("0,0")),e.renderDiffCell(t.goal,t.current,!0))})},t.prototype.updatePerformanceChartState=function(e,t){e&&this.props.chartId&&(this.props.dispatch(Object(y.b)(this.props.chartId,e)),this.setState({activeRowNumber:t}))},t.prototype.render=function(){var e=this.props.title?p.a.createElement("h2",null,this.props.title):null,t={"dashboard-performance-table":!0,"has-chart-connection":!!this.props.chartId};return p.a.createElement("div",{className:f()(t)},e,p.a.createElement("table",{className:"table table-striped"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",{colSpan:"2"},"name"),p.a.createElement("th",{className:"align-right"},"previous week"),p.a.createElement("th",{className:"align-right"},"current"),p.a.createElement("th",{className:"align-right"},"Δ previous week"),p.a.createElement("th",{className:"align-right"},"goal"),p.a.createElement("th",{className:"align-right"},"Δ goal"))),p.a.createElement("tbody",null,this.renderRows())))},t}(u.Component);t.a=Object(d.connectWidget)()(b)},1133:function(e,t,n){"use strict";n.d(t,"b",function(){return _}),n.d(t,"a",function(){return S});var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(2),h=n(31),f=n(10),m=n(110),g=n(6),v=n(99),y=n(17),b=n(155),E=n(492),w=n(180),_="labAbout",S=3,I=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={isOpen:!0,removedLinkIds:[],submitBtnState:""},r.onRequestClose=function(){r.setState({isOpen:!1})},r.handleSave=function(){r.setState({submitBtnState:"busy"}),Object(f.default)("labs.creation.LabAbout.save.html",{method:"POST",body:{labId:new y.a(r.props.labId,y.b.TYPE_LAB).getFullKey(),aboutImageTemporaryFileIds:r.getAboutImageTempIds(),aboutImageRemovedLinkIds:r.state.removedLinkIds}}).then(function(e){var t=e.success,n=e.errors;t?window.location.reload():r.handleError(n.errorMessage)}).catch(function(e){r.handleError(e.message)})},r.handleOldImageRemoved=function(e){var t=r.state.removedLinkIds;t.push(e),r.setState(t)},o=n,a()(r,o)}return c()(t,e),t.prototype.handleError=function(e){this.setState({submitBtnState:""}),Object(h.d)(e)},t.prototype.getAboutImageTempIds=function(){return this.isFileUploaded()?this.props.uploadState.fileList.map(function(e){return e.response&&e.response.result?e.response.result.id:null}):null},t.prototype.isFileUploaded=function(){return this.props.uploadState&&this.props.uploadState.fileList&&this.props.uploadState.fileList.length>0},t.prototype.getImageFileExtensions=function(){var e=this.props.imageExtensions;return e&&e.length?e.map(function(e){return"image/"+e}).join(","):""},t.prototype.getSubmitButtonStatus=function(){return this.props.uploadState.status===b.b.UPLOADING?"disabled":this.state.submitBtnState},t.prototype.getFileList=function(){var e=this;if(!this.isFileUploaded()&&this.props.aboutImages.length-this.state.removedLinkIds.length==0)return null;var t=[];return this.props.aboutImages.map(function(n,r){if(e.state.removedLinkIds.indexOf(n.id)>-1)return null;t.push(p.a.createElement(d.Stack.Item,{key:"existing-"+r},p.a.createElement(d.FileListItem,{name:n.name,size:"",type:"JPG"},p.a.createElement(d.FileListItem.Actions,null,p.a.createElement(d.FileListItem.Action,{priority:"secondary",onClick:function(){return e.handleOldImageRemoved(n.id)}},"Remove")))))}),this.isFileUploaded()&&this.props.uploadState.fileList.map(function(n,r){var i=n.response&&!n.response.success?{errorLabel:"Error",errorMessage:n.response.errors[0]}:{};t.push(p.a.createElement(d.Stack.Item,{key:"uploaded-"+r},p.a.createElement(d.FileListItem,Object.assign({name:n.nativeFile.name,type:Object(E.a)(n.nativeFile.type),size:Object(w.a)(n.nativeFile.size),progress:"done"!==n.status},i),p.a.createElement(d.FileListItem.Actions,null,p.a.createElement(d.FileListItem.Action,{priority:"secondary",onClick:function(){return e.props.removeFile(n)}},"done"===n.status?"Remove":"Cancel")))))}),p.a.createElement(d.Card,{elevation:"none",spacing:"s",style:{marginTop:"20px"}},p.a.createElement(d.Stack,{gutter:"s",spacing:"xs"},t))},t.prototype.isUploadButtonVisible=function(){var e=this.props.aboutImages.length;return this.isFileUploaded()&&(e+=this.props.uploadState.fileList.length),e<=S},t.prototype.render=function(){return p.a.createElement(d.Modal,{isOpen:this.state.isOpen,onRequestClose:this.onRequestClose},p.a.createElement(d.Modal.Body,null,p.a.createElement(d.Text,{size:"xl",spacing:"s"},"Update lab images"),p.a.createElement(d.Text,{spacing:"m"},"Add or edit your lab images - most people add photos of their lab group or images that represent their research."),this.isUploadButtonVisible()&&p.a.createElement(v.a,{id:_,accept:this.getImageFileExtensions(),url:"labs.creation.LabAbout.addImage.html",multiple:!1,buttonIcon:"upload",buttonLabel:"Select an image",buttonType:{theme:"ghost"}}),this.getFileList()),p.a.createElement(d.Modal.Footer,null,p.a.createElement(d.Button,{type:"button",color:"blue",status:this.getSubmitButtonStatus(),onClick:this.handleSave},"Add images")))},t}(u.Component);t.c=Object(g.connectWidget)(function(e){return{uploadState:Object(m.a)(_,e)}},function(e){return{removeFile:function(t){return e(Object(b.s)(_)(t))}}})(I)},1161:function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(0),a=n.n(o),s=n(6),c=(i.a.shape({inner:i.a.arrayOf(i.a.string).isRequired,mid:i.a.arrayOf(i.a.string).isRequired,outer:i.a.arrayOf(i.a.string).isRequired}).isRequired,i.a.string.isRequired,i.a.string,n(7)),l=n.n(c),u=n(2),p=new l.a({name:"insights-report-page-header"}),d=function(e){var t=e.children,n=e.institutionImageUrl;return a.a.createElement("div",p(),a.a.createElement(u.Text,p("text"),t),n&&a.a.createElement("div",p("institution-logo"),a.a.createElement("img",Object.assign({},p("institution-logo-image"),{src:n,alt:""}))),a.a.createElement("div",p("rg-logo"),a.a.createElement(u.Text,{family:"serif",size:"l"},"ResearchGate")))},h=new l.a({name:"insights-report-sub-title"}),f=function(e){var t=e.children;return a.a.createElement("div",h(),a.a.createElement(u.Text,null,t))},m=n(173),g=n(51),v=Object(s.connectWidget)()(g.a),y=n(19),b=n.n(y),E=Object(s.connectWidget)()(function(e){var t=e.urls,n=e.title,r=e.metaItems,i=e.metrics,o=e.authorImageUrl,s=e.authorName,c=e.body;return a.a.createElement(u.QuestionItem,{size:"s"},a.a.createElement(u.QuestionItem.Title,{href:t.detail},n),i.answer&&a.a.createElement(u.QuestionItem.CommentCount,null,b()("Answer",i.answer,!0)),a.a.createElement(u.QuestionItem.MetaItems,null,r.map(function(e,t){return a.a.createElement(u.QuestionItem.MetaItem,{key:t},e)})),a.a.createElement(u.QuestionItem.Author,{imageUrl:o},s),a.a.createElement(u.QuestionItem.Body,null,c))}),w=new l.a({name:"insights-report-examples"}),_=function(e){var t=e.publication,n=e.firstQuestion,r=e.secondQuestion,i=e.targetName,o=e.institutionImageUrl;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:o},"Some examples of ",i," on ResearchGate"),a.a.createElement(f,null,"Here's a quick snapshot to give you an idea of how ResearchGate's vibrant community of researchers is engaging with the topic of ",i,"."),a.a.createElement("div",w("block","left"),a.a.createElement("div",w("header"),a.a.createElement("div",w("header-icon-container"),a.a.createElement(u.Icon,Object.assign({},w("header-icon"),{size:"l",identifier:"file"}))),a.a.createElement(u.Text,w("header-text"),"Current publications on ResearchGate")),a.a.createElement("div",w("example"),a.a.createElement(v,{widgetId:t,size:"s"}))),a.a.createElement("div",w("block","right"),a.a.createElement("div",w("header"),a.a.createElement("div",w("header-icon-container"),a.a.createElement(u.Icon,Object.assign({},w("header-icon"),{size:"l",identifier:"feedback"}))),a.a.createElement(u.Text,w("header-text"),"Current questions on ResearchGate")),a.a.createElement("div",w("example"),a.a.createElement(E,{widgetId:n})),a.a.createElement("div",w("example"),a.a.createElement(E,{widgetId:r}))))},S=n(3),I=n.n(S),C=n(4),O=n.n(C),x=n(5),k=n.n(x),j=new l.a({name:"insights-report-tiers"}),T=function(e){function t(){return I()(this,t),O()(this,e.apply(this,arguments))}return k()(t,e),t.prototype.getInner=function(){return"inner"!==this.props.activeTier?a.a.createElement("div",j("inner","inactive")):a.a.createElement("div",j("inner","active"),a.a.createElement("div",j("inner-shape")),this.getFirstLine(),this.getActiveLines("inner"),this.getBlurredLines(["Another Line","Last Blurred line"]))},t.prototype.getMid=function(){if("mid"!==this.props.activeTier)return a.a.createElement("div",j("mid","inactive"));return a.a.createElement("div",j("mid","active"),a.a.createElement("div",j("mid-shape")),this.getFirstLine(),this.getBlurredLines(["Another Line","Third blurred line is here","Yet another blurred","Very meaningful","Something blurred"]),this.getActiveLines("mid"),this.getBlurredLines(["Almost Last LINE","Last Blurred line"]))},t.prototype.getFirstLine=function(){return a.a.createElement(u.Text,j("line",["blurred","first"]),"Blurred TERM")},t.prototype.getBlurredLines=function(e){return e.map(function(e,t){return a.a.createElement(u.Text,Object.assign({key:t},j("line","blurred")),e)})},t.prototype.getActiveLines=function(e){return this.props.tierKeywords[this.props.activeTier].map(function(t,n){return a.a.createElement(u.Text,Object.assign({key:n},j("line","active-"+e)),t)})},t.prototype.render=function(){return a.a.createElement("div",j(),a.a.createElement("div",j("outer")),this.getMid(),this.getInner())},t}(o.Component),A=new l.a({name:"insights-report-arrow-block"}),P=function(e){var t=e.children,n=e.modifier;return a.a.createElement("div",null,a.a.createElement("div",A("arrow",n)),a.a.createElement("div",A("container",n),t))},M=function(e){var t=e.children;return a.a.createElement("div",A("header"),t)},D=function(e){var t=e.children,n=e.className,r=e.color;return a.a.createElement("div",A({element:"body",modifier:r,extra:n}),t)};D.defaultProps={color:"dark"};var R=D,N=function(e){var t=e.children;return a.a.createElement(u.Text,A("label"),t)},L=function(e){var t=e.children;return a.a.createElement(u.Text,A("value"),t)};P.Header=M,P.Body=R,P.Label=N,P.Value=L;var F=P,U=n(43),B=n.n(U),q=function(e){return B()(e).format()},V=function(e){return B()(e).format("0%")},W=function(e){var t=e.children,n=e.modifier,r=e.value;return a.a.createElement(F,{modifier:n},a.a.createElement(F.Header,null,a.a.createElement(F.Label,null,t),a.a.createElement(F.Value,null,q(r))))},z=new l.a({name:"insights-report-number-table"}),H=function(e){var t=e.children,n=e.modifier,r=e.valueLoggedIn,i=e.valueLoggedOut;return a.a.createElement(F,{modifier:n},a.a.createElement(F.Header,null,a.a.createElement(F.Label,null,t),a.a.createElement(F.Value,null,q(r+i))),a.a.createElement(F.Body,Object.assign({},z("table"),{color:"light"}),a.a.createElement("div",z("row"),a.a.createElement(u.Text,z("label"),"Logged in"),a.a.createElement(u.Text,z("value"),q(r))),a.a.createElement("div",z("row"),a.a.createElement(u.Text,z("label"),"Logged out"),a.a.createElement(u.Text,z("value"),q(i)))))},Y={topicIdent:"https://c5.rgstatic.net/m/41572398155511/images/icons/insights-report/topic-ident.svg",insightsRep:"https://c5.rgstatic.net/m/4786922823601/images/icons/insights-report/insights-rep.svg",marketingObj:"https://c5.rgstatic.net/m/42755426350892/images/icons/insights-report/marketing-obj.svg",campaignSu:"https://c5.rgstatic.net/m/434620702791173/images/icons/insights-report/campaign-su.svg",campaignRuns:"https://c5.rgstatic.net/m/468064195564/images/icons/insights-report/campaign-runs.svg",postCampaignAnalytics:"https://c5.rgstatic.net/m/42162320895396/images/icons/insights-report/post-campaign-analytics.svg",members:"https://c5.rgstatic.net/m/420000436144160/images/icons/insights-report/members.svg",publications:"https://c5.rgstatic.net/m/423758774271970/images/icons/insights-report/publications.svg",computer:"https://c5.rgstatic.net/m/416719824781406/images/icons/insights-report/computer.svg",discussions:"https://c5.rgstatic.net/m/44770884501131/images/icons/insights-report/discussions.svg",profileSkills:"https://c5.rgstatic.net/m/47600161123284/images/icons/insights-report/skills-in-profile.svg",person:"https://c5.rgstatic.net/m/415206694661521/images/icons/insights-report/person-big.svg",diploma:"https://c5.rgstatic.net/m/43811382759779/images/icons/insights-report/diploma.svg",world:"https://c5.rgstatic.net/m/429160934553828/images/icons/insights-report/world.svg",building:"https://c5.rgstatic.net/m/45216741292237/images/icons/insights-report/building.svg",onlineResource:"https://c5.rgstatic.net/m/47404853461226/images/icons/insights-report/online-resource.svg",rgLogo:"https://c5.rgstatic.net/m/418394918565766/images/icons/insights-report/rg-logo.svg"},K=new l.a({name:"insights-report-icon"}),G=function(e){var t=e.icon,n=e.position;return a.a.createElement("div",K({modifier:n}),a.a.createElement("img",{src:Y[t],alt:""}))},Q=function(e){var t=e.tierKeywords,n=e.targetName,r=e.institutionImageUrl,i=e.total,o=e.recentLabel,s=e.recentLoggedIn,c=e.recentLoggedOut,l=e.answers;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:r},n," is being discussed on ResearchGate"),a.a.createElement(f,null,"Q&A is ResearchGate's forum where scientists seek help with their research challenges and get support from other experts. These are the numbers for ",n," discussions at the second most specific level."),a.a.createElement(G,{icon:"discussions",position:"top"}),a.a.createElement(T,{activeTier:"mid",tierKeywords:t}),a.a.createElement(W,{modifier:"top-center-tier-mid",value:i},"Number of ",a.a.createElement("br",null)," ",a.a.createElement("strong",null,"questions asked")),a.a.createElement(H,{modifier:"middle-tier-mid",valueLoggedIn:s,valueLoggedOut:c},"Number of ",a.a.createElement("strong",null,"question ",a.a.createElement("br",null)," views")," in ",o),a.a.createElement(W,{modifier:"bottom-tier-mid",value:l},"Number of ",a.a.createElement("strong",null,"answers ",a.a.createElement("br",null)," provided")))},$=function(e){var t=e.tierKeywords,n=e.targetName,r=e.institutionImageUrl,i=e.globalTotalLabel,o=e.total,s=e.recentLabel,c=e.recentLoggedIn,l=e.recentLoggedOut;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:r},n," in publications on ResearchGate"),a.a.createElement(f,null,"Our collection of ",i," publications is more than just a static database of articles. ResearchGate members discuss, review, and give feedback on each other's work every day. Here are some key numbers on publications about ",n," at the most specific level."),a.a.createElement(G,{icon:"publications",position:"top"}),a.a.createElement(T,{activeTier:"inner",tierKeywords:t}),a.a.createElement(W,{modifier:"top-center-tier-inner",value:o},"Number of ",a.a.createElement("br",null)," ",a.a.createElement("strong",null,"publications")),a.a.createElement(H,{modifier:"middle-tier-inner",valueLoggedIn:c,valueLoggedOut:l},"Number of ",a.a.createElement("strong",null,"publication ",a.a.createElement("br",null)," views")," in ",s))},X=new l.a({name:"insights-report-institution-mentions"}),J=function(e){var t=e.institutionName,n=e.institutionImageUrl,r=e.publications,i=e.researches,o=e.recentLabel,s=e.recentViews;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:n},t," is directly mentioned in publications on ResearchGate"),a.a.createElement(f,null,"Here's a breakdown of how much exposure ",t," is getting through direct mentions in publications on ResearchGate."),a.a.createElement("div",X("icon"),a.a.createElement("img",Object.assign({},X("icon-back"),{src:Y.publications,alt:""})),a.a.createElement("div",X("logo-container"),a.a.createElement("img",Object.assign({},X("logo"),{alt:"",src:n})))),a.a.createElement(W,{modifier:"mentions-top",value:r},"Number of full-text publications mentioning ",a.a.createElement("strong",null,t)),a.a.createElement(W,{modifier:"mentions-middle",value:i},"Number of researchers using ",a.a.createElement("strong",null,t)," products or services"),a.a.createElement(W,{modifier:"mentions-bottom",value:s},"Number of views for publications mentioning ",a.a.createElement("strong",null,t)," in ",o))},Z=new l.a({name:"insights-report-graph-container"}),ee=function(e){var t=e.children,n=e.target,r=e.increase,i=e.modifier;return a.a.createElement(F,{modifier:i},a.a.createElement(F.Header,null,a.a.createElement(F.Label,null,"Number of ",a.a.createElement("strong",null,n)," over last 4 weeks has ",r<0?"decreased":"increased"," by"),a.a.createElement(F.Value,null,r,"%")),a.a.createElement(F.Body,Object.assign({},Z("body"),{color:"light"}),t))},te=n(109),ne=n(409),re=n(410),ie=n(411),oe=n(412),ae=function(e){function t(){return I()(this,t),O()(this,e.apply(this,arguments))}return k()(t,e),t.prototype.componentDidMount=function(){this.setUpChart()},t.prototype.setUpChart=function(){var e=this.chartNode,t=new ie.a(e);t.setDimensions(e.offsetWidth,265,{top:20,right:20,bottom:80,left:60});var n=new re.a(new ne.c);n.setDomain(function(e){return e.date}),n.setTickValues(this.props.tickValues.map(function(e){return new Date(e)})),n.tickFormat=Object(te.a)("%b %d");var r=new re.b(new ne.a);r.setDomain(function(e){var t=e.value,n=Math.floor(Math.log10(t)),r=Math.pow(10,n)/2;return Math.ceil(t/r)*r}),r.setTicks(3),r.setTickSize(-t.width),t.setXAxis(n),t.setYAxis(r),t.prepareDataFn(function(e){e.date=t.parseDate(e.date),e.value=+e.value});var i=new oe.b;t.addBackground(i);var o=new oe.e;o.setXKey("date"),o.setYKey("value"),t.addElement(o),o.setData(this.props.data);var a=new oe.a;a.setXKey("date"),a.setYKey("value"),t.addElement(a),a.setData(this.props.data),t.setData(this.props.data),t.render()},t.prototype.render=function(){var e=this;return a.a.createElement("div",{ref:function(t){return e.chartNode=t},className:"insights-report-questions-asked-graph"})},t}(o.Component),se=function(e){var t=e.trendData,n=e.increase,r=e.tickValues,i=e.tierKeywords,o=e.targetName,s=e.institutionImageUrl;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:s},o," is being discussed on ResearchGate"),a.a.createElement(f,null,"Here's how interest in ",o," is developing in Q&A discussions at the most specific level."),a.a.createElement(T,{activeTier:"inner",tierKeywords:i}),a.a.createElement(ee,{target:"related questions asked",increase:n,modifier:"top-right-tier-inner"},a.a.createElement(ae,{data:t,tickValues:r})),a.a.createElement(G,{icon:"discussions",position:"bottom"}))},ce=n(168),le=function(e){function t(){return I()(this,t),O()(this,e.apply(this,arguments))}return k()(t,e),t.prototype.componentDidMount=function(){this.setUpChart()},t.prototype.setUpChart=function(){var e=[].concat(this.props.loggedOut,this.props.loggedIn),t=Math.max.apply(Math,e.map(function(e){return e.value})),n=this.chartNode,r=new ie.a(n);r.setDimensions(n.offsetWidth,195,{top:20,right:20,bottom:40,left:60});var i=new re.a(new ne.c);i.setDomain(function(e){return e.date}),i.setTickValues(this.props.tickValues.map(function(e){return new Date(e)})),i.setTickFormat(Object(te.a)("%b %d"));var o=new re.b(new ne.a);o.setDomain(function(e){var t=e.value,n=Math.floor(Math.log10(t)),r=Math.pow(10,n)/2;return Math.ceil(t/r)*r}),o.setTicks(3),o.setTickSize(-r.width),t>=1e4&&o.setTickFormat(Object(ce.a)(".0s")),r.setXAxis(i),r.setYAxis(o),r.prepareDataFn(function(e){e.date=r.parseDate(e.date),e.value=+e.value});var a=new oe.b;r.addBackground(a),this.setUpLoggedOut(r),this.setUpLoggedIn(r),r.setData(e),r.render()},t.prototype.setUpLoggedIn=function(e){var t=new oe.e;t.setXKey("date"),t.setYKey("value"),t.addClassName("logged-in-"+this.props.loggedInStyle),e.addElement(t),t.setData(this.props.loggedIn);var n=new oe.a;n.setXKey("date"),n.setYKey("value"),n.addClassName("logged-in-"+this.props.loggedInStyle),e.addElement(n),n.setData(this.props.loggedIn)},t.prototype.setUpLoggedOut=function(e){var t=new oe.e;t.setXKey("date"),t.setYKey("value"),t.addClassName("logged-out"),e.addElement(t),t.setData(this.props.loggedOut);var n=new oe.a;n.setXKey("date"),n.setYKey("value"),n.addClassName("logged-out"),e.addElement(n),n.setData(this.props.loggedOut)},t.prototype.render=function(){var e=this;return a.a.createElement("div",{ref:function(t){return e.chartNode=t},className:"insights-report-logged-in-logged-out-graph"})},t}(o.Component),ue=(i.a.arrayOf(i.a.shape({date:i.a.string.isRequired,value:i.a.number.isRequired})),le),pe=new l.a({name:"insights-report-graph-legend"}),de=function(e){var t=e.loggedInStyle,n=e.target;return a.a.createElement("div",pe(),a.a.createElement(u.Text,pe("label"),"Logged in ",n),a.a.createElement("div",pe("line","style-"+t)),a.a.createElement(u.Text,pe("label"),"Logged out ",n),a.a.createElement("div",pe("line","style-white")))},he=(i.a.arrayOf(i.a.shape({date:i.a.string.isRequired,value:i.a.number.isRequired})),function(e){var t=e.trendDataLoggedIn,n=e.trendDataLoggedOut,r=e.increase,i=e.tickValues,o=e.tierKeywords,s=e.targetName,c=e.institutionImageUrl;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:c},s," is being discussed on ResearchGate"),a.a.createElement(f,null,"Here's how interest in ",s," is developing in views of Q&A discussions at the second most-specific level."),a.a.createElement(T,{activeTier:"mid",tierKeywords:o}),a.a.createElement(ee,{target:"related question views",increase:r,modifier:"top-right-tier-mid"},a.a.createElement(ue,{loggedIn:t,loggedOut:n,tickValues:i,loggedInStyle:"dashed"}),a.a.createElement(de,{loggedInStyle:"dashed",target:"question views"})),a.a.createElement(G,{icon:"discussions",position:"bottom"}))}),fe=(i.a.arrayOf(i.a.shape({date:i.a.string.isRequired,value:i.a.number.isRequired})),function(e){var t=e.trendDataLoggedIn,n=e.trendDataLoggedOut,r=e.increase,i=e.tickValues,o=e.tierKeywords,s=e.targetName,c=e.institutionImageUrl;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:c},s," is trending on ResearchGate"),a.a.createElement(f,null,"Here are some key numbers on the recent increase in full-text publications added about ",s," at the second most specific level."),a.a.createElement(T,{activeTier:"mid",tierKeywords:o}),a.a.createElement(ee,{target:"related publication views",increase:r,modifier:"top-right-tier-mid"},a.a.createElement(ue,{loggedIn:t,loggedOut:n,tickValues:i,loggedInStyle:"blue"}),a.a.createElement(de,{loggedInStyle:"blue",target:"publication views"})),a.a.createElement(G,{icon:"publications",position:"bottom"}))}),me=new l.a({name:"insights-report-members-general-item"}),ge=function(e){var t=e.children,n=e.iconSrc;return a.a.createElement("div",me(),a.a.createElement("div",me("label"),t),a.a.createElement("div",me("circle"),a.a.createElement("div",me("icon-container"),a.a.createElement("img",Object.assign({},me("icon"),{src:n,alt:""})))))},ve=function(e){var t=e.totalNumber,n=e.tierKeywords,r=e.targetName,i=e.institutionImageUrl;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:i},"ResearchGate members and ",r),a.a.createElement(f,null,"Researchers are actively working on and engaging with ",r," content on ResearchGate at the most specific level."),a.a.createElement(G,{icon:"person",position:"top-shifted"}),a.a.createElement(T,{activeTier:"inner",tierKeywords:n}),a.a.createElement(F,{modifier:"members"},a.a.createElement(F.Header,null,a.a.createElement(F.Label,null,"Total number of matched researchers"),a.a.createElement(F.Value,null,q(t))),a.a.createElement(ge,{iconSrc:Y.profileSkills},"Skills and expertise in profile"),a.a.createElement(ge,{iconSrc:Y.publications},"Authors of relevant papers"),a.a.createElement(ge,{iconSrc:Y.computer},"Researchers interacting with relevant content")))},ye=new l.a({name:"insights-report-members-breakdown"}),be=function(e){var t=e.breakdown;return a.a.createElement(F,{modifier:"breakdown"},t.map(function(e,t){var n=e.label,r=e.value;return a.a.createElement("div",Object.assign({},ye("item",[t%2&&"even",t>0&&"next"]),{key:n}),a.a.createElement("div",ye("label"),n),a.a.createElement("div",ye("value"),r))}))},Ee=function(e){var t=e.breakdown,n=e.postDocFraction,r=e.tierKeywords,i=e.targetName,o=e.institutionImageUrl;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:o},"Career-level breakdown of ",i," matched researchers"),a.a.createElement(f,null,V(n)," of all ResearchGate members matched at the most specific level have at least a postdoctoral qualification."),a.a.createElement(G,{icon:"diploma",position:"top"}),a.a.createElement(T,{activeTier:"inner",tierKeywords:r}),a.a.createElement(be,{breakdown:t.map(function(e){var t=e.label,n=e.fraction;return{label:t,value:V(n)}})}))},we=["1st","2nd","3rd","4th","5th"],_e=function(e){var t=e.countries,n=e.tierKeywords,r=e.targetName,i=e.institutionImageUrl;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:i},"Geographical breakdown of ",r," matched members"),a.a.createElement(f,null,"Here's a list of countries with the highest number of ResearchGate members matched at the most specific level."),a.a.createElement(G,{icon:"world",position:"top"}),a.a.createElement(T,{activeTier:"inner",tierKeywords:n}),a.a.createElement(be,{breakdown:t.map(function(e,t){return{label:e,value:we[t]}})}))},Se=function(e){var t=e.breakdown,n=e.tierKeywords,r=e.targetName,i=e.institutionImageUrl;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:i},"Breakdown by sector of ",r," matched members"),a.a.createElement(f,null,"Here's a breakdown by affiliation of ResearchGate members matched at the most specific level."),a.a.createElement(G,{icon:"building",position:"top"}),a.a.createElement(T,{activeTier:"inner",tierKeywords:n}),a.a.createElement(be,{breakdown:t.map(function(e){var t=e.label,n=e.fraction;return{label:t,value:V(n)}})}))},Ie=new l.a({name:"insights-report-cover-page"}),Ce=function(e){var t=e.institutionName;return a.a.createElement(m.a,{color:"dark"},a.a.createElement("div",Ie(),a.a.createElement(u.Text,Ie("title"),"ResearchGate"),a.a.createElement("div",Ie("line")),a.a.createElement(u.Text,Ie("sub-title"),t," Insights Report")))},Oe=new l.a({name:"insights-report-next-steps"}),xe=[["Topic identification",Y.topicIdent],["Insights Report",Y.insightsRep],["Marketing objectives",Y.marketingObj],["Campaign set up",Y.campaignSu],["Campaign runs",Y.campaignRuns],["Post campaign analytics",Y.postCampaignAnalytics]],ke=function(){return a.a.createElement(m.a,null,a.a.createElement(d,null,"Your next steps"),a.a.createElement("div",Oe(),a.a.createElement(u.Text,Oe("description"),"Welcome, here's your custom Insights Report. When you have finished reviewing it, the next step is for us to discuss your marketing objectives and identify the best strategy for you."),a.a.createElement("div",Oe("line")),a.a.createElement("div",Oe("flow"),xe.map(function(e){var t=e[0],n=e[1];return a.a.createElement("div",Object.assign({},Oe("step"),{key:t}),a.a.createElement("div",Oe("label"),t),a.a.createElement("div",Oe("icon"),a.a.createElement("img",{src:n,alt:""})))}))))},je=new l.a({name:"insights-report-introduction-item"}),Te=function(e){var t=e.value,n=e.children,r=e.iconSrc;return a.a.createElement("div",je(),a.a.createElement("div",je("description"),a.a.createElement(u.Text,je("value"),t),a.a.createElement(u.Text,je("label"),n)),a.a.createElement("div",je("circle-container"),a.a.createElement("div",je("circle"),a.a.createElement("img",Object.assign({},je("icon"),{src:r})))))},Ae=new l.a({name:"insights-report-introduction"}),Pe=function(e){var t=e.institutionImageUrl,n=e.members,r=e.membersLabel,i=e.publications,o=e.visitors;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:t},"Here's what ResearchGate has to offer"),a.a.createElement("div",Ae(),a.a.createElement("div",Ae("description"),a.a.createElement(u.Text,Ae("text"),"ResearchGate is the scientific network that gives brands the unique market insights they need. With targeted, data-driven marketing solutions, we leverage our network of ",r," verified science professionals to identify and attract the most relevant audience for your message."),a.a.createElement(u.Text,Ae("title"),"Here's how we do it"),a.a.createElement(u.Text,Ae("text"),"We've developed an innovative, multi-tiered approach to analyze our entire network using content, researchers, and their interactions to target the audience you're looking for and effectively engage them with your brand.")),a.a.createElement("div",Ae("items"),a.a.createElement(Te,{value:q(n),iconSrc:Y.members},"members worldwide"),a.a.createElement(Te,{value:q(i),iconSrc:Y.publications},"publications"),a.a.createElement(Te,{value:q(o),iconSrc:Y.computer},"unique visitors per month"),a.a.createElement(Te,{value:"over 80%",iconSrc:Y.onlineResource},"of all papers published between",a.a.createElement("br",null),"2011 and 2016 have at least one",a.a.createElement("br",null),"author on ResearchGate"))))},Me=new l.a({name:"insights-report-section-cover"}),De=function(e){var t=e.children;return a.a.createElement(m.a,{color:"light"},a.a.createElement("div",Me(),t))},Re=new l.a({name:"insights-report-research-mapping"}),Ne=function(e){var t=e.targetName,n=e.institutionName,r=e.institutionImageUrl;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:r},"Research mapping on ResearchGate"),a.a.createElement(f,null,"We’ll combine our in-house scientific expertise with machine learning and data analysis to map ",t,". We’ll also map out all mentions ",n?"of "+n:null," in publications, projects, and discussions on ResearchGate. With this information we’ll identify relevant content, researchers, and their interactions to gain valuable insights and reach your campaign goal."),a.a.createElement("div",Re("circles"),a.a.createElement("div",Re("circle","outer")),a.a.createElement("div",Re("circle","mid")),a.a.createElement("div",Re("circle","inner")),a.a.createElement("div",Re("legend-pointer")),a.a.createElement(u.Text,Re("legend-label"),"All ResearchGate's content, researchers, and interactions")),a.a.createElement("div",Re("rectangles"),a.a.createElement("div",Re("rectangle","outer")),a.a.createElement("div",Re("rectangle","mid")),a.a.createElement("div",Re("rectangle","inner")),a.a.createElement("div",Re("legend-pointer")),a.a.createElement(u.Text,Re("legend-label","left"),"Most specific level"),a.a.createElement(u.Text,Re("legend-label","right"),"Broadest level")))},Le=new l.a({name:"insights-report-research-mapping-details"}),Fe=function(e){function t(){return I()(this,t),O()(this,e.apply(this,arguments))}return k()(t,e),t.prototype.getBlurredLines=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black";return e.map(function(e,n){return a.a.createElement(u.Text,Object.assign({key:n},Le("line-"+t,"blurred")),e)})},t.prototype.getActiveLines=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black";return this.props.tierKeywords[e].map(function(e,n){return a.a.createElement(u.Text,Object.assign({key:n},Le("line-"+t,"active")),e)})},t.prototype.render=function(){var e=this.props,t=e.targetName,n=e.institutionImageUrl;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:n},t," mapping in detail"),a.a.createElement(f,null,"Using our multi-tiered approach to mapping, we'll find the optimal placement for your campaign within our range of levels, from the most specific to the broadest level."),a.a.createElement("div",Le("tiers"),a.a.createElement("div",Le("tier","outer")),a.a.createElement("div",Le("lines","outer"),a.a.createElement("div",Le("shape","outer")),this.getBlurredLines(["Cancer therapy","Molecular research","Nanobiotechnology"]),this.getActiveLines("outer"),this.getBlurredLines(["Developmental Biology","Cell Biology","Cancer diagnostics"])),a.a.createElement("div",Le("tier","mid")),a.a.createElement("div",Le("lines","mid"),a.a.createElement("div",Le("shape","mid")),this.getBlurredLines(["Cancer therapy","Molecular research","Nanobiotechnology"]),this.getActiveLines("mid"),this.getBlurredLines(["Developmental Biology","Cell Biology","Cancer diagnostics"])),a.a.createElement("div",Le("tier","inner")),a.a.createElement("div",Le("lines","inner"),a.a.createElement("div",Le("shape","inner")),this.getBlurredLines(["Molecular Genomics","DNA Fragmentation","Genome Sequencing","Functional Genetics"],"white"),this.getActiveLines("inner","white"),this.getBlurredLines(["Genome Sequencing","DNA Fragmentation","Functional Genetics","Single Cell Genomics"],"white"))),a.a.createElement("div",Le("legend-pointer")),a.a.createElement("div",Le("legend-label","left"),"Most specific level"),a.a.createElement("div",Le("legend-label","right"),"Broadest level"))},t}(o.Component),Ue=new l.a({name:"insights-report-targeting-approach"}),Be=function(e){var t=e.targetName,n=e.institutionImageUrl;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:n},"ResearchGate's targeting approach"),a.a.createElement(f,null,"Applying our multi-tiered mapping approach to the most relevant content, researchers, and their interactions allows us to provide solutions for both contextual and behavioral audience targeting."),a.a.createElement("div",Ue(),a.a.createElement("div",Ue("header","left"),"User Interest"),a.a.createElement("div",Ue("items","left"),a.a.createElement(u.Text,Ue("item"),"Creating and commenting"),a.a.createElement(u.Text,Ue("sub-item"),"Publications",a.a.createElement("br",null),"Questions",a.a.createElement("br",null),"Projects"),a.a.createElement(u.Text,Ue("item"),"Viewing and following"),a.a.createElement(u.Text,Ue("sub-item"),"Publications",a.a.createElement("br",null),"Questions",a.a.createElement("br",null),"Projects"),a.a.createElement(u.Text,Ue("item"),"Analyzing citations"),a.a.createElement(u.Text,Ue("sub-item"),"Author level",a.a.createElement("br",null),"Publication level")),a.a.createElement("div",Ue("header","right-top"),"Content"),a.a.createElement("div",Ue("items","right-top"),a.a.createElement(u.Text,Ue("item"),"Publications",a.a.createElement("br",null),"Questions and answers",a.a.createElement("br",null),"Projects")),a.a.createElement("div",Ue("header","right-bottom"),"User Expertise"),a.a.createElement("div",Ue("items","right-bottom"),a.a.createElement(u.Text,Ue("item"),"Skills and expertise in profile",a.a.createElement("br",null),"Authorship of publications")),a.a.createElement("div",Ue("arrow","left")),a.a.createElement("div",Ue("arrow","right-top")),a.a.createElement("div",Ue("arrow","right-bottom")),a.a.createElement("div",Ue("circle-target"),a.a.createElement("div",Ue("target"),t))))},qe=new l.a({name:"insights-report-overlapping-images"}),Ve=function(e){var t=e.institutionImageUrl,n=e.targetImageUrl,r=e.institutionName,i=e.targetName;return a.a.createElement(m.a,null,a.a.createElement(d,{institutionImageUrl:t},"ResearchGate and ",r),a.a.createElement(f,null,"Both ResearchGate and ",r," are positioned to help researchers excel at their work around the topic of ",i,"."),a.a.createElement("div",qe(),a.a.createElement("div",qe("circle","left"),a.a.createElement("div",qe("circle-content"),a.a.createElement("img",Object.assign({},qe("rg-logo"),{src:Y.rgLogo,alt:""})))),a.a.createElement("div",qe("circle","right"),a.a.createElement("div",qe("circle-content"),a.a.createElement("img",Object.assign({},qe("institution-logo"),{src:t,alt:""})))),a.a.createElement("div",qe("overlap"),a.a.createElement("div",qe("overlap-mask")),a.a.createElement("div",qe("overlap-image-container"),a.a.createElement("img",Object.assign({},qe("target-image"),{src:n,alt:""})))),a.a.createElement("div",qe("labels"),a.a.createElement(u.Text,qe("label","left"),"ResearchGate"),a.a.createElement(u.Text,qe("label","center"),i),a.a.createElement(u.Text,qe("label","right"),r))))};t.a=Object(s.connectWidget)()(function(e){var t=e.renderer,n=e.questionsAskedTrend,r=e.publicationViewsTrend,i=e.questionViewsTrend,o=e.tierKeywords,s=e.targetName,c=e.institutionImageUrl,l=e.institutionName,u=e.examples,p=e.questionNumbers,d=e.publicationNumbers,h=e.institutionMentions,f=e.membersBreakdown,m=e.introductionNumbers,g=e.excludedPages,v=e.isWhiteLabel,y=e.targetImageUrl,b={tierKeywords:o,targetName:s,institutionImageUrl:c},E=!v&&h?[a.a.createElement(De,Object.assign({key:"sectionCoverMentions"},b),l," is already on ResearchGate"),a.a.createElement(J,Object.assign({key:"institutionMentions"},h,{institutionName:l},b))]:[],w=[a.a.createElement(Ce,Object.assign({key:"coverPage",institutionName:l},b)),a.a.createElement(ke,Object.assign({key:"nextSteps"},b)),a.a.createElement(Pe,Object.assign({key:"introduction"},m,b)),v?null:a.a.createElement(Ve,Object.assign({key:"overlappingImages",targetImageUrl:y,institutionName:l},b)),a.a.createElement(De,Object.assign({key:"sectionCoverIntro"},b),s,a.a.createElement("br",null)," on ResearchGate"),a.a.createElement(Ne,Object.assign({key:"researchMapping",institutionName:l},b)),a.a.createElement(Fe,Object.assign({key:"mappingDetails"},b)),a.a.createElement(Be,Object.assign({key:"targetingApproach"},b)),a.a.createElement(De,Object.assign({key:"sectionCoverNumbers"},b),s," is",a.a.createElement("br",null)," already on ResearchGate"),a.a.createElement(_,Object.assign({key:"examples"},u,b)),a.a.createElement(Q,Object.assign({key:"questionNumbers"},p,b)),a.a.createElement($,Object.assign({key:"publicationNumbers"},d,b))].concat(E,[a.a.createElement(De,Object.assign({key:"sectionCoverMembers"},b),"ResearchGate members and",a.a.createElement("br",null)," ",s),a.a.createElement(ve,Object.assign({key:"membersGeneral",totalNumber:f.totalNumber},b)),a.a.createElement(Ee,Object.assign({key:"membersCareerLevel"},f.careerLevel,b)),a.a.createElement(_e,Object.assign({key:"membersGeographical",countries:f.geographical},b)),a.a.createElement(Se,Object.assign({key:"membersSector",breakdown:f.sector},b)),a.a.createElement(he,Object.assign({key:"trendQuestionViews"},i,b)),a.a.createElement(se,Object.assign({key:"trendQuestionsAsked"},n,b)),a.a.createElement(fe,Object.assign({key:"trendPublications"},r,b))]),S=t||"div",I=w.filter(function(e){return e&&!g.includes(e.key)});return a.a.createElement(S,null,I)})},1170:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(7),d=n.n(p),h=n(2),f=new d.a({name:"fulltext-dialog-options-list"}),m=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props.disableButton?null:u.a.createElement(h.Pack.Item,f("option-detail"),u.a.createElement(h.Button,{theme:this.props.buttonTheme,size:"m",onClick:this.props.buttonAction},u.a.createElement(h.Button.Label,null,this.props.buttonText),u.a.createElement(h.Button.Icon,{identifier:"arrow-right"})));return u.a.createElement("li",f("option"),u.a.createElement(h.Pack,Object.assign({verticalAlign:"middle"},f("option-details")),u.a.createElement(h.Pack.Item,f("option-detail"),u.a.createElement("div",f({element:"image",modifiers:this.props.imageClass}))),u.a.createElement(h.Pack.Item,f({element:"option-detail",modifiers:"text"}),u.a.createElement("div",null,this.props.description)),e))},t}(l.Component),g=m;m.defaultProps={buttonTheme:"solid"};var v=n(6),y=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=[];return this.props.optionsConfig.forEach(function(t,n){e.push(u.a.createElement(g,Object.assign({key:n},t)))}),u.a.createElement("ul",{className:"fulltext-dialog-options-list"},e)},t}(l.Component);y.defaultProps={optionsConfig:[]};t.a=Object(v.connectWidget)()(y)},1171:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(2),f=n(51),m=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.publicationItem,n=e.publicationType,r=e.requesterFullName,i=e.requesterImageUrl,o=e.requesterProfileUrl,a=e.requesterMessage,s=e.handleDecline,c=e.handleRespond;return p.a.createElement(h.Modal,{orientation:"vertical",position:"top",isOpen:!0,onRequestClose:s},p.a.createElement(h.Modal.Body,null,p.a.createElement(h.ActivityItem,null,p.a.createElement(h.ActivityItem.Story,null,p.a.createElement(h.ActivityItem.StoryImage,{imageUrl:i,alt:r}),p.a.createElement(h.ActivityItem.StorySubject,{href:o},r),p.a.createElement(h.ActivityItem.StoryBody,null,"requested a full-text of your ",n)),p.a.createElement(h.ActivityItem.EntityList,null,p.a.createElement(h.ActivityItem.EntityListItems,null,p.a.createElement(h.ActivityItem.EntityListItem,null,p.a.createElement(h.Text,{size:"l",spacing:"xxs"},'"',a,'"')),p.a.createElement(h.ActivityItem.EntityListItem,null,p.a.createElement(h.Card,null,p.a.createElement(f.a,t))))))),p.a.createElement(h.Modal.Footer,null,p.a.createElement(h.ButtonGroup,null,p.a.createElement(h.Button,{theme:"bare",onClick:s,type:"button"},p.a.createElement(h.Button.Label,null,"Decline request")),p.a.createElement(h.Button,{onClick:c,type:"button"},p.a.createElement(h.Button.Label,null,"Respond to request")))))},t}(u.Component);t.a=Object(d.connectWidget)()(m)},1185:function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(0)),o=n.n(i),a=n(8),s=n.n(a),c=n(98),l=n.n(c),u=n(30),p=n.n(u),d=n(14),h=(n(1684),n(24)),f=n(23),m=n(20),g=n(2),v=n(1407),y="create-question",b=s()(Object(m.connect)(),l()("isModalOpen","changeVisibility",function(e){return e.isModalOpen}),l()("initialValues","changeInitialValues",function(e){return e.initialValues}),p()({handleClick:function(e){var t=e.changeVisibility,n=e.questionPostCreationChannelExperiment;return function(){t(!0),n&&Object(d.a)(n.goalModalSeen)}},handleModalCancel:function(e){var t=e.changeVisibility,n=e.dispatch,r=e.milestoneAskQuestionDialogClickCancel;return function(){t(!1),n(Object(f.reset)(y)),r&&Object(d.a)(r)}},handleFinish:function(e){var t=e.changeVisibility,n=e.dispatch,r=e.onFinishPromise,i=e.goalAskQuestionCreated,o=e.milestoneAskQuestionDialogClickAsk;return function(e){var a=e.id,s=e.url;if(o&&Object(d.a)(o),r)return Promise.resolve(r({id:a,url:s})).then(function(){n(Object(f.reset)(y))}).catch(function(e){throw new Error("question creation promise failed with: "+JSON.stringify(e))});t(!1),i?Object(h.b)(Object(h.a)(s,Object(d.b)(i))):Object(h.b)(s)}}}));t.a=b(function(e){var t=e.handleClick,n=e.handleFinish,r=e.isModalOpen,i=e.handleModalCancel,a=e.context,s=e.isVisibilityVisible,c=e.questionPostCreationChannelExperiment,l=e.buttonProps,u={};return c&&(u=Object(d.b)(c.goalSubmit)),o.a.createElement("div",null,o.a.createElement(g.Button,Object.assign({},l,{type:"submit",onClick:t}),o.a.createElement(g.Button.Label,null,"Ask a question")),o.a.createElement(v.a,{id:y,context:a,isOpen:r,handleCancel:i,onFinishPromise:n,isVisibilityVisible:s,additionalRequestParameters:u}))})},1215:function(e,t,n){"use strict";function r(e,t){Object.keys(t).forEach(function(n){g[e+"/"+n]=t[n]})}n.d(t,"b",function(){return g}),t.a=function(e){if(g.hasOwnProperty(e))return g[e];throw new Error("Module "+e+" is not supported in sandbox")};var i=n(0),o=(n.n(i),n(2)),a=n(1),s=(n.n(a),n(13)),c=(n.n(s),n(20)),l=n(23),u=n(986),p=n(2711),d=(n.n(p),n(12)),h=n(25),f=n(6),m=n(7),g=(n.n(m),{react:i,"@rg/nova":o,"@rg/rigel-react":s,"react-redux":c,"redux-form":l,"model/application/actions/alertStack":d,"model/application/actions/modalRoot":h,lodash:p,recompose:u,"prop-types":a,"core/Widget":f,"react-bem-helper":m,"modules/application/components/formFields":n(41),"utils/validate":n(52),"core/HttpRequest":n(10),"@researchgate/react-intersection-list":n(85)});r("lodash",p),r("recompose",u)},132:function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(0)),o=n.n(i),a=n(6),s=n(162),c=n(7),l=n.n(c),u=n(26),p=new l.a({name:"admin-layout"});t.a=Object(a.connectWidget)()(function(e){var t=e.additionalMenu?o.a.createElement(u.a,{widgetId:e.additionalMenu}):null;return o.a.createElement("div",p(),o.a.createElement("div",p("menu"),o.a.createElement(s.a,{widgetId:e.mainMenu}),t),o.a.createElement("div",p("content"),o.a.createElement("div",{className:e.className},e.children)))})},1354:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return h});var r=n(1),i=(n.n(r),n(0)),o=n.n(i),a=n(1041),s=n(52),c=n(23),l=n(2),u=n(41),p="/api/additionalemail/add",d="/api/additionalemail/deny",h="profileAdditionalEmailDialogForm";t.d=Object(c.reduxForm)({form:h,validate:Object(s.createValidator)({additionalEmail:{presence:!0,email:!0}}),onSubmit:function(e,t){var n=e.additionalEmail;return t({types:[a.a,a.d,a.b],alwaysReject:!0,performAsync:function(e){return e(p,{method:"POST",body:{additionalEmail:n}})}}).catch(s.handleValidationErrors)}})(function(e){var t=e.primaryEmail;return o.a.createElement("form",null,o.a.createElement(l.FormGroup,null,o.a.createElement(l.FormGroup.Item,null,o.a.createElement(l.Text,{size:"s",spacing:"xxs"},"Your primary email address:"),o.a.createElement(l.Text,null,o.a.createElement("b",null,t))),o.a.createElement(l.FormGroup.Item,null,o.a.createElement(u.InputFormField,{label:"Your additional email address",name:"additionalEmail"},o.a.createElement(l.Input,{type:"text",placeholder:"Enter an email address"})))))})},136:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e===t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!0;var a={},s=void 0,c=void 0;for(s=0,c=n.length;s<c;s++)a[n[s]]=!0;for(s=0,c=i.length;s<c;s++){var l=i[s],u=e[l],p=t[l];if(u!==p){if(!a[l]||null===u||null===p||"object"!==(void 0===u?"undefined":r(u))||"object"!==(void 0===p?"undefined":r(p)))return!0;var d=Object.keys(u),h=Object.keys(p);if(d.length!==h.length)return!0;for(var f=0,m=d.length;f<m;f++){var g=d[f];if(u[g]!==p[g])return!0}}}return!1}},1378:function(e,t,n){"use strict";var r=n(6),i=n(371),o=n(22),a=n.n(o);t.a=Object(r.connectWidget)(function(e){var t=a()(e,"applicationNotificationCounters.unseenMessages");return{count:t.count,wasSeen:t.wasSeen}})(i.a)},1379:function(e,t,n){"use strict";var r=n(6),i=n(371),o=n(22),a=n.n(o);t.a=Object(r.connectWidget)(function(e){var t=a()(e,"applicationNotificationCounters.pendingRequests");return{count:t.count,wasSeen:t.wasSeen}})(i.a)},1380:function(e,t,n){"use strict";var r=n(6),i=n(371),o=n(22),a=n.n(o);t.a=Object(r.connectWidget)(function(e){var t=a()(e,"applicationNotificationCounters.unseenSubscriptions");return{count:t.count,wasSeen:t.wasSeen}})(i.a)},1384:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(7),f=n.n(h),m=n(2),g=new f.a("notification-center-content-filter-menu"),v=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.onMenuItemClick=function(e){var t=r.props.onMenuItemClick;e.onClick(),t&&t(),r.dropdown&&r.dropdown.hide()},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.items,r=t.filterType,i=n.slice(0),o=i.findIndex(function(e){return r===e.filterType});return i.splice(o,1),p.a.createElement("div",g(),p.a.createElement(m.List,Object.assign({type:"bare"},g("items")),n.map(function(t,n){return e.renderItem(t,n)}),p.a.createElement(m.List.Item,g("item","dropdown-item"),p.a.createElement(m.Dropdown,Object.assign({ref:function(t){e.dropdown=t}},g(),{scope:"global",target:p.a.createElement(m.Button,Object.assign({color:"black",theme:"bare"},g("item-action")),p.a.createElement(m.Button.Label,null,"More"),p.a.createElement(m.Button.Icon,{identifier:"arrow-down"}))}),i.map(function(t,n){return p.a.createElement(m.Dropdown.Action,{key:n,onClick:function(){e.onMenuItemClick(t)}},t.title)})))))},t.prototype.renderItem=function(e,t){var n=this,r=this.props.filterType;return p.a.createElement(m.List.Item,Object.assign({},g("item",{selected:r===e.filterType}),{key:t}),p.a.createElement(m.Link,Object.assign({theme:"bare"},g("item-action"),{onClick:function(){n.onMenuItemClick(e)}}),p.a.createElement("span",g("item-link-title"),e.title)," ",e.counter))},t}(u.Component);t.a=Object(d.connectWidget)(function(e){return{filterType:e.notificationsRequestsFilter.filterType}})(v)},1385:function(e,t,n){"use strict";var r=n(6),i=n(22),o=n.n(i),a=n(500);t.a=Object(r.connectWidget)(function(e){return{count:o()(e,"applicationNotificationCounters.pendingRequests").count}})(a.a)},1386:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(7),d=n.n(p),h=n(6),f=n(2),m=n(22),g=n.n(m),v=new d.a({name:"progress-indicator-new"}),y=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.startStrokeDashoffset=1540,r.state={matchedAuthorsCount:0,strokeDashoffset:1540},r}return c()(t,e),t.prototype.componentWillReceiveProps=function(e){var t=Object.values(e.authorsToInvite).filter(function(e){return e.isMatched}),n=e.percentage,r=void 0;if(Number.isInteger(n))r=n;else{var i=Object.values(this.props.authorsToInvite).length-(this.state.matchedAuthorsCount+1);r=Math.ceil((this.props.coauthorTotalCount-i)/this.props.coauthorTotalCount*100)}var o=this.startStrokeDashoffset-r/100*this.startStrokeDashoffset;o<0&&(o=0),this.setState({matchedAuthorsCount:t.length,strokeDashoffset:o}),this.forceUpdate(),this.intervalCount(r)},t.prototype.shouldComponentUpdate=function(e,t){return t.matchedAuthorsCount!==this.state.matchedAuthorsCount},t.prototype.componentDidMount=function(){var e=this.props.percentage,t=void 0;if(Number.isInteger(e))t=e;else if(this.props.authorsToInvite&&Object.values(this.props.authorsToInvite).length-this.state.matchedAuthorsCount>0){var n=Object.values(this.props.authorsToInvite).length-this.state.matchedAuthorsCount;t=Math.ceil((this.props.coauthorTotalCount-n)/this.props.coauthorTotalCount*100)}if(t){var r=this.startStrokeDashoffset-t/100*this.startStrokeDashoffset;r<0&&(r=0),this.setState({strokeDashoffset:r}),this.forceUpdate(),this.intervalCount(t)}},t.prototype.intervalCount=function(e){var t=document.getElementById("percentComplete"),n=document.getElementById("percentCompleteValue"),r=document.getElementById("percentCompleteMobile"),i=t.getAttribute("data-complete");i||(i=1);var o=setInterval(function(){i>=e||i>=100?(t.setAttribute("data-complete",i),clearInterval(o)):(i++,n.innerHTML=i,r&&(r.innerHTML=i))},10)},t.prototype.render=function(){var e=this.props.copy;return u.a.createElement("div",v(),u.a.createElement(f.Stack,Object.assign({gutter:"none"},v("progress-stack")),u.a.createElement(f.Stack.Item,v("progress-stack-item"),u.a.createElement("svg",{id:"progress",xmlns:"http://www.w3.org/2000/svg",width:"80",height:"80",viewBox:"0 0 850 870"},u.a.createElement("path",Object.assign({},v("bg"),{d:"M31.28,547.81A407.68,407.68,0,0,1,10.94,420.25C10.94,194.89,193.64,12.19,419,12.19S827.06,194.89,827.06,420.25a407.68,407.68,0,0,1-20.34,127.56",fill:"none",strokeMiterlimit:"10"})),u.a.createElement("path",Object.assign({style:{strokeDashoffset:this.state.strokeDashoffset}},v("bar"),{id:"js-progress-bar",d:"M31.28,547.81A407.68,407.68,0,0,1,10.94,420.25C10.94,194.89,193.64,12.19,419,12.19S827.06,194.89,827.06,420.25a407.68,407.68,0,0,1-20.34,127.56",fill:"none",stroke:"#1d1d1b",strokeMiterlimit:"10"}))),u.a.createElement(f.Text,Object.assign({},v("progress-percent"),{size:"xl",family:"sans-serif",spacing:"none",tag:"div",id:"percentComplete","data-complete":"1"}),u.a.createElement("span",{id:"percentCompleteValue"},"0"),"%")),u.a.createElement(f.Stack.Item,null,u.a.createElement(f.Text,Object.assign({},v("progress-description"),{size:"s",family:"sans-serif",spacing:"none",tag:"div"}),e||u.a.createElement("span",null,u.a.createElement("b",v("progress-percent-mobile"),u.a.createElement("span",{id:"percentCompleteMobile"},"100"),"%")," of your co-authors have confirmed authorship of their work")))))},t}(l.Component),b=Object(h.connectWidget)(function(e,t){var n=void 0;return g()(e.literatureAccountsUnclaimedCoauthors,[t.accountId],{})&&(n=g()(e.literatureAccountsUnclaimedCoauthors,[t.accountId],{})),{authorsToInvite:n}})(y),E=new d.a("notification-center-request-response-rate"),w=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props.responseRate;return u.a.createElement(f.Card,{spacing:"none"},u.a.createElement(f.Card.Body,null,u.a.createElement("div",E("header"),u.a.createElement(f.Pack,{verticalAlign:"middle",gutter:"xs"},u.a.createElement(f.Pack.Item,null,u.a.createElement(f.Text,{size:"xl",spacing:"none"},"Your response rate")),u.a.createElement(f.Pack.Item,null,u.a.createElement(f.Tooltip,{scope:"global",position:"below",target:u.a.createElement(f.Text,null,u.a.createElement(f.Icon,{identifier:"info-circle"}))},"This shows the percentage of requests from other people that you've responded to on ResearchGate. Try storing private copies of your full-texts to easily share them in the future.")))),u.a.createElement("div",E("indicator-wrapper"),u.a.createElement(f.Pack,null,u.a.createElement(f.Pack.Item,null,u.a.createElement(b,{percentage:e,copy:"Request response"})),u.a.createElement(f.Pack.Item,null,this.getPromoText())))))},t.prototype.getPromoText=function(){return this.props.responseRate>70?u.a.createElement("div",null,u.a.createElement(f.Text,{size:"m",spacing:"xxs"},u.a.createElement("b",null,"You're doing great!")),u.a.createElement(f.Text,{size:"m"},"Keep helping your peers get the information they're looking for by quickly responding to their requests.")):u.a.createElement("div",null,u.a.createElement(f.Text,{size:"m",spacing:"xxs"},u.a.createElement("b",null,"Your peers are waiting for your response")),u.a.createElement(f.Text,{size:"m"},"You can help other researchers get the information they're looking for by quickly responding to their requests."))},t}(l.Component);t.a=Object(h.connectWidget)(function(e){var t=e.notificationsRequestResponseRate,n=t.pendingRequestsCount,r=t.totalRequestsCount,i=r-n;return{responseRate:r>0?Math.floor(i/r*100):0}})(w)},1407:function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=n(1),a=(n.n(o),n(0)),s=n.n(a),c=n(8),l=n.n(c),u=n(20),p=n(30),d=n.n(p),h=n(98),f=n.n(h),m=n(10),g=n(12),v=n(59),y=n(506),b=n(45),E=n(405),w=l()(Object(u.connect)(),f()("isSubmitting","setSubmitting",!1),d()({handleSubmit:function(e){var t=e.dispatch,n=e.context,r=e.setSubmitting,i=e.onFinishPromise,o=e.additionalRequestParameters,a=void 0===o?{}:o;return function(e){r(!0);var o=e.values,c=o.subject,l=o.body,u=l.text,p=l.struct,d=o.visibility,h=e.files,f=Object.assign({context:n,subject:c,body:u,struct:JSON.stringify(p),files:h,externalType:v.a.EXTERNAL_TYPE_QUESTION,visibility:d},a);Object(m.default)("/converse/api/topics/message",{method:"POST",body:f}).then(function(e){var t=e.result;if(i)return Promise.resolve(i(t)).then(function(){return r(!1)});r(!1)}).catch(function(e){t(Object(g.pushAlert)(function(){return s.a.createElement(b.a,{error:e})})),r(!1)})}}}),E.a);t.a=w(function(e){var t=e.id,n=e.handleSubmit,r=i()(e,["id","handleSubmit"]);return s.a.createElement(y.b,Object.assign({id:t,onSubmit:n},r))})},1408:function(e,t,n){"use strict";t.a=function(e,t){var n;return Object(r.a)(e,(n={},n[i]=t,n))};var r=n(24),i="_ec"},144:function(e,t,n){"use strict";function r(e,t,n,i){function o(t){return e(t=new Date(+t)),t}return o.floor=o,o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var a,s=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return s;do{s.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return s},o.filter=function(n){return r(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(o.count=function(t,r){return a.setTime(+t),s.setTime(+r),e(a),e(s),Math.floor(n(a,s))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(i?function(t){return i(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null}),o}function i(e){return r(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*p)/d})}function o(e){return r(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/d})}var a=new Date,s=new Date,c=r(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});c.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):c:null};var l=c,u=c.range,p=6e4,d=6048e5,h=r(function(e){e.setTime(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),f=h,m=h.range,g=r(function(e){e.setTime(Math.floor(e/p)*p)},function(e,t){e.setTime(+e+t*p)},function(e,t){return(t-e)/p},function(e){return e.getMinutes()}),v=g,y=g.range,b=r(function(e){var t=e.getTimezoneOffset()*p%36e5;t<0&&(t+=36e5),e.setTime(36e5*Math.floor((+e-t)/36e5)+t)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),E=b,w=b.range,_=r(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*p)/864e5},function(e){return e.getDate()-1}),S=_,I=_.range,C=i(0),O=i(1),x=i(2),k=i(3),j=i(4),T=i(5),A=i(6),P=C.range,M=O.range,D=x.range,R=k.range,N=j.range,L=T.range,F=A.range,U=r(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),B=U,q=U.range,V=r(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});V.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var W=V,z=V.range,H=r(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*p)},function(e,t){return(t-e)/p},function(e){return e.getUTCMinutes()}),Y=H,K=H.range,G=r(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),Q=G,$=G.range,X=r(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),J=X,Z=X.range,ee=o(0),te=o(1),ne=o(2),re=o(3),ie=o(4),oe=o(5),ae=o(6),se=ee.range,ce=te.range,le=ne.range,ue=re.range,pe=ie.range,de=oe.range,he=ae.range,fe=r(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),me=fe,ge=fe.range,ve=r(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});ve.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var ye=ve,be=ve.range;n.d(t,!1,function(){return r}),n.d(t,"c",function(){return l}),n.d(t,!1,function(){return u}),n.d(t,"n",function(){return l}),n.d(t,!1,function(){return u}),n.d(t,"g",function(){return f}),n.d(t,!1,function(){return m}),n.d(t,"r",function(){return f}),n.d(t,!1,function(){return m}),n.d(t,"d",function(){return v}),n.d(t,!1,function(){return y}),n.d(t,"b",function(){return E}),n.d(t,!1,function(){return w}),n.d(t,"a",function(){return S}),n.d(t,!1,function(){return I}),n.d(t,"j",function(){return C}),n.d(t,!1,function(){return P}),n.d(t,"h",function(){return C}),n.d(t,!1,function(){return P}),n.d(t,"e",function(){return O}),n.d(t,!1,function(){return M}),n.d(t,!1,function(){return x}),n.d(t,!1,function(){return D}),n.d(t,!1,function(){return k}),n.d(t,!1,function(){return R}),n.d(t,"i",function(){return j}),n.d(t,!1,function(){return N}),n.d(t,!1,function(){return T}),n.d(t,!1,function(){return L}),n.d(t,!1,function(){return A}),n.d(t,!1,function(){return F}),n.d(t,"f",function(){return B}),n.d(t,!1,function(){return q}),n.d(t,"k",function(){return W}),n.d(t,!1,function(){return z}),n.d(t,"o",function(){return Y}),n.d(t,!1,function(){return K}),n.d(t,"m",function(){return Q}),n.d(t,!1,function(){return $}),n.d(t,"l",function(){return J}),n.d(t,!1,function(){return Z}),n.d(t,"u",function(){return ee}),n.d(t,!1,function(){return se}),n.d(t,"s",function(){return ee}),n.d(t,!1,function(){return se}),n.d(t,"p",function(){return te}),n.d(t,!1,function(){return ce}),n.d(t,!1,function(){return ne}),n.d(t,!1,function(){return le}),n.d(t,!1,function(){return re}),n.d(t,!1,function(){return ue}),n.d(t,"t",function(){return ie}),n.d(t,!1,function(){return pe}),n.d(t,!1,function(){return oe}),n.d(t,!1,function(){return de}),n.d(t,!1,function(){return ae}),n.d(t,!1,function(){return he}),n.d(t,"q",function(){return me}),n.d(t,!1,function(){return ge}),n.d(t,"v",function(){return ye}),n.d(t,!1,function(){return be})},153:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"j",function(){return m}),n.d(t,"k",function(){return g}),n.d(t,"i",function(){return v}),n.d(t,"f",function(){return y}),n.d(t,"e",function(){return b}),n.d(t,"d",function(){return E}),n.d(t,"b",function(){return w}),n.d(t,"l",function(){return _}),n.d(t,"g",function(){return S}),n.d(t,"h",function(){return I}),n.d(t,"c",function(){return C});var r=n(22),i=n.n(r),o=n(806),a=n.n(o),s=n(55),c=n.n(s),l=n(575),u=n.n(l),p=n(643),d=n.n(p),h=n(246),f="literatureGlobalAuthorSuggestions",m=function(e){return i()(e,[f,"targetAccountIds"],[])},g=function(e){return i()(e,[f,"suggestions"],{})},v=function(e,t){return i()(e,[f,"suggestions",t],{})},y=function(e){return i()(e,[f,"isRequestInProgress"],!1)},b=function(e){return i()(e,[f,"isAllSuggestionsLoaded"],!1)},E=function(e){return i()(e,[f,"ignoreButtonClickMilestone"],null)},w=function(e){return a()(Object.values(u()(function(e){return Object.values(e)},g(e))))},_=function(e){return w(e).length},S=function(e){var t=w(e);return d()(t,function(e,t){return t.status===h.STATUS_NEW&&e++,e},0)},I=function(e){var t=g(e),n=m(e),r=[];return c()(n,function(e){c()(t[e],function(t){if(t.status===h.STATUS_NEW)return r.push(Number(e)),!1})}),r},C=function(e,t){var n=w(e),r=[];return c()(n,function(e){t.indexOf(e.targetAuthorUid)>=0&&r.push(e)}),r}},156:function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(i=e[o],o,e),i)}else if(e)for(var s in e)n.set(s,e[s]);return n}function o(){}function a(e,t){var n=new o;if(e instanceof o)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}function s(e){function t(t){var o=t+"",a=n.get(o);if(!a){if(i!==B)return i;n.set(o,a=r.push(t))}return e[(a-1)%e.length]}var n=R(),r=[],i=B;return e=null==e?[]:U.call(e),t.domain=function(e){if(!arguments.length)return r.slice();r=[],n=R();for(var i,o,a=-1,s=e.length;++a<s;)n.has(o=(i=e[a])+"")||n.set(o,r.push(i));return t},t.range=function(n){return arguments.length?(e=U.call(n),t):e.slice()},t.unknown=function(e){return arguments.length?(i=e,t):i},t.copy=function(){return s().domain(r).range(e).unknown(i)},t}function c(){function e(){var e=i().length,r=a[1]<a[0],s=a[r-0],c=a[1-r];t=(c-s)/Math.max(1,e-u+2*p),l&&(t=Math.floor(t)),s+=(c-s-t*(e-u))*d,n=t*(1-u),l&&(s=Math.round(s),n=Math.round(n));var h=Object(D.h)(e).map(function(e){return s+t*e});return o(r?h.reverse():h)}var t,n,r=s().unknown(void 0),i=r.domain,o=r.range,a=[0,1],l=!1,u=0,p=0,d=.5;return delete r.unknown,r.domain=function(t){return arguments.length?(i(t),e()):i()},r.range=function(t){return arguments.length?(a=[+t[0],+t[1]],e()):a.slice()},r.rangeRound=function(t){return a=[+t[0],+t[1]],l=!0,e()},r.bandwidth=function(){return n},r.step=function(){return t},r.round=function(t){return arguments.length?(l=!!t,e()):l},r.padding=function(t){return arguments.length?(u=p=Math.max(0,Math.min(1,t)),e()):u},r.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),e()):u},r.paddingOuter=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),e()):p},r.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},r.copy=function(){return c().domain(i()).range(a).round(l).paddingInner(u).paddingOuter(p).align(d)},e()}function l(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return l(t())},e}function u(){return l(c().paddingInner(1))}function p(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:V(t)}function d(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function h(e,t){function n(){return i=Math.min(s.length,c.length)>2?function(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=n(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var n=Object(D.b)(e,t,1,i)-1;return a[n](o[n](t))}}:function(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}},o=a=null,r}function r(t){return(o||(o=i(s,c,u?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}(e):e,l)))(+t)}var i,o,a,s=z,c=z,l=q.a,u=!1;return r.invert=function(e){return(a||(a=i(c,s,p,u?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}(t):t)))(+e)},r.domain=function(e){return arguments.length?(s=F.call(e,W),n()):s.slice()},r.range=function(e){return arguments.length?(c=U.call(e),n()):c.slice()},r.rangeRound=function(e){return c=U.call(e),l=q.e,n()},r.clamp=function(e){return arguments.length?(u=!!e,n()):u},r.interpolate=function(e){return arguments.length?(l=e,n()):l},n()}function f(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(D.l)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return Y(t(),e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],c=i[a];return c<s&&(r=s,s=c,c=r,r=o,o=a,a=r),(r=Object(D.j)(s,c,n))>0?(s=Math.floor(s/r)*r,c=Math.ceil(c/r)*r,r=Object(D.j)(s,c,n)):r<0&&(s=Math.ceil(s*r)/r,c=Math.floor(c*r)/r,r=Object(D.j)(s,c,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(c/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(c*r)/r,t(i)),e},e}function m(){var e=h(p,q.c);return e.copy=function(){return d(e,m())},f(e)}function g(){function e(e){return+e}var t=[0,1];return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=F.call(n,W),e):t.slice()},e.copy=function(){return g().domain(t)},f(e)}function v(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:V(t)}function y(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function b(e){return 10===e?function(e){return isFinite(e)?+("1e"+e):e<0?0:e}:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function E(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function w(e){return function(t){return-e(-t)}}function _(){function e(){return i=E(r),o=b(r),n()[0]<0&&(i=w(i),o=w(o)),t}var t=h(v,y).domain([1,10]),n=t.domain,r=10,i=E(10),o=b(10);return t.base=function(t){return arguments.length?(r=+t,e()):r},t.domain=function(t){return arguments.length?(n(t),e()):n()},t.ticks=function(e){var t,a=n(),s=a[0],c=a[a.length-1];(t=c<s)&&(d=s,s=c,c=d);var l,u,p,d=i(s),h=i(c),f=null==e?10:+e,m=[];if(!(r%1)&&h-d<f){if(d=Math.round(d)-1,h=Math.round(h)+1,s>0){for(;d<h;++d)for(u=1,l=o(d);u<r;++u)if(!((p=l*u)<s)){if(p>c)break;m.push(p)}}else for(;d<h;++d)for(u=r-1,l=o(d);u>=1;--u)if(!((p=l*u)<s)){if(p>c)break;m.push(p)}}else m=Object(D.l)(d,h,Math.min(h-d,f)).map(o);return t?m.reverse():m},t.tickFormat=function(e,n){if(null==n&&(n=10===r?".0e":","),"function"!=typeof n&&(n=Object(H.a)(n)),e===1/0)return n;null==e&&(e=10);var a=Math.max(1,r*e/t.ticks().length);return function(e){var t=e/o(Math.round(i(e)));return t*r<r-.5&&(t*=r),t<=a?n(e):""}},t.nice=function(){return n(K(n(),{floor:function(e){return o(Math.floor(i(e)))},ceil:function(e){return o(Math.ceil(i(e)))}}))},t.copy=function(){return d(t,_().base(r))},t}function S(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function I(){var e=1,t=h(function(t,n){return(n=S(n,e)-(t=S(t,e)))?function(r){return(S(r,e)-t)/n}:V(n)},function(t,n){return n=S(n,e)-(t=S(t,e)),function(r){return S(t+n*r,1/e)}}),n=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,n(n())):e},t.copy=function(){return d(t,I().exponent(e))},f(t)}function C(){return I().exponent(.5)}function O(){function e(){var e=0,o=Math.max(1,r.length);for(i=new Array(o-1);++e<o;)i[e-1]=Object(D.g)(n,e/o);return t}function t(e){if(!isNaN(e=+e))return r[Object(D.b)(i,e)]}var n=[],r=[],i=[];return t.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},t.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var r,i=0,o=t.length;i<o;++i)null==(r=t[i])||isNaN(r=+r)||n.push(r);return n.sort(D.a),e()},t.range=function(t){return arguments.length?(r=U.call(t),e()):r.slice()},t.quantiles=function(){return i.slice()},t.copy=function(){return O().domain(n).range(r)},t}function x(){function e(e){if(e<=e)return a[Object(D.b)(o,e,0,i)]}function t(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return e}var n=0,r=1,i=1,o=[.5],a=[0,1];return e.domain=function(e){return arguments.length?(n=+e[0],r=+e[1],t()):[n,r]},e.range=function(e){return arguments.length?(i=(a=U.call(e)).length-1,t()):a.slice()},e.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},e.copy=function(){return x().domain([n,r]).range(a)},f(e)}function k(){function e(e){if(e<=e)return n[Object(D.b)(t,e,0,r)]}var t=[.5],n=[0,1],r=1;return e.domain=function(i){return arguments.length?(t=U.call(i),r=Math.min(t.length,n.length-1),e):t.slice()},e.range=function(i){return arguments.length?(n=U.call(i),r=Math.min(t.length,n.length-1),e):n.slice()},e.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},e.copy=function(){return k().domain(t).range(n)},e}function j(e){return new Date(e)}function T(e){return e instanceof Date?+e:+new Date(+e)}function A(e,t,n,r,i,o,a,s,c){function l(t,n,r,i){if(null==t&&(t=10),"number"==typeof t){var o=Math.abs(r-n)/t,a=Object(D.c)(function(e){return e[2]}).right(I,o);a===I.length?(i=Object(D.k)(n/ne,r/ne,t),t=e):a?(i=(a=I[o/I[a-1][2]<I[a][2]/o?a-1:a])[1],t=a[0]):(i=Math.max(Object(D.k)(n,r,t),1),t=s)}return null==i?t:t.every(i)}var u=h(p,q.c),f=u.invert,m=u.domain,g=c(".%L"),v=c(":%S"),y=c("%I:%M"),b=c("%I %p"),E=c("%a %d"),w=c("%b %d"),_=c("%B"),S=c("%Y"),I=[[a,1,$],[a,5,5*$],[a,15,15*$],[a,30,30*$],[o,1,X],[o,5,5*X],[o,15,15*X],[o,30,30*X],[i,1,J],[i,3,3*J],[i,6,6*J],[i,12,12*J],[r,1,Z],[r,2,2*Z],[n,1,ee],[t,1,te],[t,3,3*te],[e,1,ne]];return u.invert=function(e){return new Date(f(e))},u.domain=function(e){return arguments.length?m(F.call(e,T)):m().map(j)},u.ticks=function(e,t){var n,r=m(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=l(e,i,o,t),n=n?n.range(i,o+1):[],a?n.reverse():n},u.tickFormat=function(s,l){return null==l?function(s){return(a(s)<s?g:o(s)<s?v:i(s)<s?y:r(s)<s?b:t(s)<s?n(s)<s?E:w:e(s)<s?_:S)(s)}:c(l)},u.nice=function(e,t){var n=m();return(e=l(e,n[0],n[n.length-1],t))?m(K(n,e)):u},u.copy=function(){return d(u,A(e,t,n,r,i,o,a,s,c))},u}function P(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function M(e){function t(t){var o=(t-n)/(r-n);return e(i?Math.max(0,Math.min(1,o)):o)}var n=0,r=1,i=!1;return t.domain=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.clamp=function(e){return arguments.length?(i=!!e,t):i},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return M(e).domain([n,r]).clamp(i)},f(t)}var D=n(39);r.prototype=i.prototype={constructor:r,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var R=i,N=R.prototype;o.prototype=a.prototype={constructor:o,has:N.has,add:function(e){return e+="",this["$"+e]=e,this},remove:N.remove,clear:N.clear,values:N.keys,size:N.size,empty:N.empty,each:N.each};var L=Array.prototype,F=L.map,U=L.slice,B={name:"implicit"},q=n(60),V=function(e){return function(){return e}},W=function(e){return+e},z=[0,1],H=n(168),Y=function(e,t,n){var r,i=e[0],o=e[e.length-1],a=Object(D.k)(i,o,null==t?10:t);switch((n=Object(H.c)(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=Object(H.e)(a,s))||(n.precision=r),Object(H.b)(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=Object(H.f)(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Object(H.d)(a))||(n.precision=r-2*("%"===n.type))}return Object(H.a)(n)},K=function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e},G=n(144),Q=n(109),$=1e3,X=60*$,J=60*X,Z=24*J,ee=7*Z,te=30*Z,ne=365*Z,re=function(){return A(G.k,G.f,G.j,G.a,G.b,G.d,G.g,G.c,Q.a).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},ie=function(){return A(G.v,G.q,G.u,G.l,G.m,G.o,G.r,G.n,Q.c).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},oe=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})},ae=oe("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),se=oe("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),ce=oe("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),le=oe("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ue=n(58),pe=Object(q.b)(Object(ue.b)(300,.5,0),Object(ue.b)(-240,.5,1)),de=Object(q.b)(Object(ue.b)(-100,.75,.35),Object(ue.b)(80,1.5,.8)),he=Object(q.b)(Object(ue.b)(260,.75,.35),Object(ue.b)(80,1.5,.8)),fe=Object(ue.b)(),me=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return fe.h=360*e-100,fe.s=1.5-1.5*t,fe.l=.8-.9*t,fe+""},ge=P(oe("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),ve=P(oe("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ye=P(oe("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),be=P(oe("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));n.d(t,"a",function(){return c}),n.d(t,!1,function(){return u}),n.d(t,!1,function(){return g}),n.d(t,"b",function(){return m}),n.d(t,!1,function(){return _}),n.d(t,"c",function(){return s}),n.d(t,!1,function(){return B}),n.d(t,!1,function(){return I}),n.d(t,!1,function(){return C}),n.d(t,!1,function(){return O}),n.d(t,!1,function(){return x}),n.d(t,!1,function(){return k}),n.d(t,"d",function(){return re}),n.d(t,!1,function(){return ie}),n.d(t,!1,function(){return ae}),n.d(t,"e",function(){return se}),n.d(t,!1,function(){return ce}),n.d(t,!1,function(){return le}),n.d(t,!1,function(){return pe}),n.d(t,!1,function(){return me}),n.d(t,!1,function(){return de}),n.d(t,!1,function(){return he}),n.d(t,!1,function(){return ge}),n.d(t,!1,function(){return ve}),n.d(t,!1,function(){return ye}),n.d(t,!1,function(){return be}),n.d(t,!1,function(){return M})},162:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(57),f=n.n(h),m=n(163),g=n.n(m),v=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={menu:r.props.menu,currentSelectValue:null},r.onLinkOptionClick=function(e,t){function n(e,t){return e.map(function(e){var r=Object.assign({},e);return r.hasUrl||(r.key===t?r.isActive=!r.isActive:r.isActive=!1),r.children.length>0&&(r.children=n(r.children,t)),r})}e.preventDefault(),r.setState({menu:n(r.state.menu,t)})},r.handleChange=function(e){e&&(r.setState({currentSelectValue:e}),window.location.href=e.url)},o=n,a()(r,o)}return c()(t,e),t.prototype.optionRenderer=function(e){return e.isGroupTitle?p.a.createElement("strong",null,e.label):p.a.createElement("span",null,"  ",e.label)},t.prototype.getSelectOptions=function(){return g()(this.props.menu,function(e,t){var n=[{label:e.description,url:e.url,isGroupTitle:!0,value:t}];return e.children.length>0&&e.children.forEach(function(e,r){e.hasUrl&&n.push({label:e.description,url:e.url,value:t+"-"+r})}),n})},t.prototype.render=function(){function e(t){var n=this;return t.map(function(t){var r=[];t.isSelected&&r.push("selected");var i=void 0;if(t.hasIcon){var o=["menu-icon",t.icon];i=p.a.createElement("span",{className:o.join(" ")})}var a=void 0;if(t.children.length>0&&t.isActive){var s=e.call(n,t.children);a=p.a.createElement("ul",{className:"submenu"},s)}var c={};return t.hasUrl||(c.onClick=function(e){n.onLinkOptionClick(e,t.key)}),p.a.createElement("li",{key:t.key},p.a.createElement("a",Object.assign({href:t.url,className:r.join(" ")},c),i,t.description),a)})}var t=e.call(this,this.state.menu);return p.a.createElement("div",{className:"menu-administration"},p.a.createElement(f.a,{className:"admin-menu",placeholder:"Go to page",value:this.state.currentSelectValue,options:this.getSelectOptions(),optionRenderer:this.optionRenderer,onChange:this.handleChange}),this.props.showMenuItems&&p.a.createElement("ul",{className:"menu"},t))},t}(u.Component);v.defaultProps={showMenuItems:!0},t.a=Object(d.connectWidget)()(v)},163:function(e,t,n){var r=n(311),i=n(29);e.exports=function(e,t){return r(i(e,t),1)}},1633:function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(0)),o=n.n(i),a=n(6),s=n(2),c=n(7),l=new(n.n(c).a)({name:"ad-campaign-edit-header"});t.a=Object(a.connectWidget)()(function(e){var t=e.campaignId,n=e.title,r=e.advertiser,i=e.opportunityId,a=e.opportunityUrl,c=e.startDate,u=e.endDate,p=e.gracePeriod;return o.a.createElement("div",l(),o.a.createElement(s.Text,{size:"s",spacing:"xxs"},o.a.createElement(s.Link,{href:"adminads.AdCampaignList.html",theme:"bare"},"« All campaign groups")),n&&r?o.a.createElement(s.Text,{size:"l",spacing:"xxs"},n," - ",r):null,o.a.createElement(s.Text,Object.assign({size:"xs",spacing:"none"},l("details")),i?o.a.createElement("span",null,"OpportunityId: ",o.a.createElement(s.Link,{href:a,target:"_blank",theme:"bare",rel:"noopener"},i),o.a.createElement("span",null," · ")):null,o.a.createElement("span",null,"RG ID: ",t),c||u?o.a.createElement("span",null,o.a.createElement("span",null," · "),c?o.a.createElement("span",null,c):null,u?o.a.createElement("span",null," - ",u):null,u&&p?o.a.createElement("span",null,o.a.createElement("strong",null,"+",p)):null):null))})},1634:function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(0)),o=n.n(i),a=n(6),s=n(15),c=n.n(s);t.a=Object(a.connectWidget)()(function(e){var t=e.tabs.map(function(e){var t=e.label,n=e.url,r=e.isSelected,i=c()("btn","btn-large",{selected:r});return o.a.createElement("span",{key:t},o.a.createElement("a",{href:n,className:i},t),o.a.createElement("span",{className:"separator"}))});return o.a.createElement("div",{className:"tab-bar"},t)})},168:function(e,t,n){"use strict";function r(e){return new i(e)}function i(e){if(!(t=p.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",o=t[4]||"",a=!!t[5],s=t[6]&&+t[6],c=!!t[7],l=t[8]&&+t[8].slice(1),d=t[9]||"";"n"===d?(c=!0,d="g"):u[d]||(d=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=c,this.precision=l,this.type=d}function o(e){return d=v(e),h=d.format,f=d.formatPrefix,d}var a,s=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},c=function(e){return(e=s(Math.abs(e)))?e[1]:NaN},l=function(e,t){var n=s(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},u={"":function(e,t){e:for(var n,r=(e=e.toPrecision(t)).length,i=1,o=-1;i<r;++i)switch(e[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return l(100*e,t)},r:l,s:function(e,t){var n=s(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(a=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,c=r.length;return o===c?r:o>c?r+new Array(o-c+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+s(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},p=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;r.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var d,h,f,m=function(e){return e},g=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],v=function(e){function t(e){function t(e){var t,r,i,l=E,u=w;if("c"===b)u=_(e)+u,e="";else{var h=(e=+e)<0;if(e=_(Math.abs(e),y),h&&0==+e&&(h=!1),l=(h?"("===d?d:"-":"-"===d||"("===d?"":d)+l,u=u+("s"===b?g[8+a/3]:"")+(h&&"("===d?")":""),S)for(t=-1,r=e.length;++t<r;)if(48>(i=e.charCodeAt(t))||i>57){u=(46===i?o+e.slice(t+1):e.slice(t))+u,e=e.slice(0,t);break}}v&&!f&&(e=n(e,1/0));var I=l.length+e.length+u.length,C=I<m?new Array(m-I+1).join(c):"";switch(v&&f&&(e=n(C+e,C.length?m-u.length:1/0),C=""),p){case"<":e=l+e+u+C;break;case"=":e=l+C+e+u;break;case"^":e=C.slice(0,I=C.length>>1)+l+e+u+C.slice(I);break;default:e=C+l+e+u}return s(e)}var c=(e=r(e)).fill,p=e.align,d=e.sign,h=e.symbol,f=e.zero,m=e.width,v=e.comma,y=e.precision,b=e.type,E="$"===h?i[0]:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===h?i[1]:/[%p]/.test(b)?l:"",_=u[b],S=!b||/[defgprs%]/.test(b);return y=null==y?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),t.toString=function(){return e+""},t}var n=e.grouping&&e.thousands?function(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}(e.grouping,e.thousands):m,i=e.currency,o=e.decimal,s=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(e.numerals):m,l=e.percent||"%";return{format:t,formatPrefix:function(e,n){var i=t((e=r(e),e.type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor(c(n)/3))),a=Math.pow(10,-o),s=g[8+o/3];return function(e){return i(a*e)+s}}}};o({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var y=function(e){return Math.max(0,-c(Math.abs(e)))},b=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(c(t)/3)))-c(Math.abs(e)))},E=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,c(t)-c(e))+1};n.d(t,!1,function(){return o}),n.d(t,"a",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,!1,function(){return v}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return b}),n.d(t,"f",function(){return E})},1684:function(e,t,n){"use strict";function r(e){var t=e.postExperiments.questionPostCreationChannelExperiment;return{questionPostCreationChannelExperiment:{goalSubmit:t.goal,goalModalSeen:t.milestone}}}t.a=r;var i=n(11),o=n.n(i),a=n(1),s=n.n(a),c=n(13),l=(n.n(c),o()(['\n    query WithQuestionPostCreationChannelExperiment($context: String!) {\n        postExperiments {\n            questionPostCreationChannelExperiment(context: $context) {\n                goal\n                milestone(name: "goalQuestionAddModalSeen")\n            }\n        }\n    }\n'],['\n    query WithQuestionPostCreationChannelExperiment($context: String!) {\n        postExperiments {\n            questionPostCreationChannelExperiment(context: $context) {\n                goal\n                milestone(name: "goalQuestionAddModalSeen")\n            }\n        }\n    }\n'])),u=o()(['\n        query WithQuestionPostCreationChannelExperiment3($context: String!) {\n            postExperiments {\n                questionPostCreationChannelExperiment(context: $context) {\n                    goal\n                    milestone(name: "goalQuestionAddModalSeen")\n                }\n            }\n        }\n    '],['\n        query WithQuestionPostCreationChannelExperiment3($context: String!) {\n            postExperiments {\n                questionPostCreationChannelExperiment(context: $context) {\n                    goal\n                    milestone(name: "goalQuestionAddModalSeen")\n                }\n            }\n        }\n    ']);Object(c.gql)(l),Object(c.withQuery)(Object(c.gql)(u),{mapDataToProps:r}),s.a.shape({goalSubmit:s.a.string,goalModalSeen:s.a.string})},1703:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(2),f=n(17),m=n(87),g=n(88),v=n(12),y=n(70),b=n(14),E=n(126),w=n.n(E),_=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.showShareAlert=function(){var e=r.props,t=e.publicationType,n=e.isPluralPublicationType,i=e.feedbackUrl,o=e.goals;Object(b.a)(o.recommendedPublicly);var a="Do you have any specific feedback for the authors of "+(n?"these":"this")+" "+t.toLowerCase()+"?";r.props.pushAlert(p.a.createElement(h.Alert,{title:"",description:a},p.a.createElement(h.ButtonGroup,null,p.a.createElement(h.Button,{theme:"inverted",href:i},"Yes"))))},r.onUnLike=function(){var e=r.props.isPluralPublicationType?"these":"this";r.props.pushAlert(p.a.createElement(y.a,{title:"",description:"You no longer recommend "+e+" "+r.props.publicationType.toLowerCase()}))},r.onLike=function(){var e=r.props,t=e.publicationType,n=e.isPluralPublicationType?"these":"this";r.props.pushAlert(p.a.createElement(y.a,{title:w()(t.toLowerCase())+" recommended",description:"Your recommendation will be visible to anyone viewing "+n+" "+t.toLowerCase()+"."})),r.showShareAlert(t)},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props.getAsButton,t=new f.a(this.props.publicationUid,f.b.TYPE_PUBLICATION).getFullKey();if(e)return p.a.createElement(m.a,{key:"like_"+t,id:t,theme:"bare",labelLike:"Recommend "+this.props.publicationType.toLowerCase(),labelLiked:"Recommended",size:"s",onLike:this.onLike,onUnLike:this.onUnLike,context:this.props.context});var n=p.a.createElement(m.a,{key:"like_"+t,id:t,theme:"silent",labelLike:"Recommend "+this.props.publicationType.toLowerCase(),labelLiked:"Recommended",size:"s",useLink:!0,onLike:this.onLike,onUnLike:this.onUnLike,context:this.props.context});return p.a.createElement(h.Tooltip,{color:"black",target:p.a.createElement("div",null,p.a.createElement("div",{className:"btn btn-plain"},n))},"Recommend this publication to show the authors and other researchers that you liked it")},t}(u.Component);t.a=Object(d.connectWidget)(function(e,t){var n=Object(g.c)(e,t);return{publicationType:n.displayablePublicationType,isPluralPublicationType:n.isPluralPublicationType}},function(e){return{pushAlert:function(t){e(Object(v.pushAlert)(function(){return t}))},flushAlerts:function(){e(Object(v.flushAlerts)())}}})(_)},1704:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(34),f=n(14),m=n(10),g=n(12),v=n(31),y=n(2),b=n(1705),E=n(1354),w={isDialogVisible:!1,isForceDialogConfirmStep:!1},_=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state=w,r.confirmAdditionalEmail=function(){var e=r.props,t=e.recommendedEmail,n=e.milestones;Object(f.a)(n.requestAccepted),Object(m.default)(E.a,{method:"POST",body:{additionalEmail:t}}).then(function(){r.setState({isForceDialogConfirmStep:!0}),r.showAdditionalEmailDialog(),r.resolveHeaderRequest(r.props.headerRequestResolveMethods.accept)}).catch(function(e){Object(v.d)(e.errors)})},r.denyAdditionalEmail=function(){var e=r.props,t=e.recommendedEmail,n=e.headerRequestResolveMethods,i=e.milestones;Object(f.a)(i.requestDeclined),Object(m.default)(E.b,{method:"POST",body:{email:t}}).then(function(){r.resolveHeaderRequest(n.delete),r.showDenyEmailAlert()}).catch(function(e){Object(v.d)(e.errors)})},r.showAdditionalEmailDialog=function(){r.setState({isDialogVisible:!0})},r.hideAdditionalEmailDialog=function(){r.setState({isDialogVisible:!1})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.state,t=e.isDialogVisible,n=e.isForceDialogConfirmStep,r=this.props,i=r.profileAdditionalEmailDialog,o=r.dialogButtonTitle,a=r.dialogDeclineButtonTitle,s=r.recommendedEmail;return p.a.createElement("div",{className:""},p.a.createElement(y.ButtonGroup,null,p.a.createElement(y.Button,{size:"s",onClick:this.confirmAdditionalEmail},o),p.a.createElement(y.Button,{size:"s",theme:"bare",onClick:this.denyAdditionalEmail},a)),p.a.createElement(b.a,Object.assign({widgetId:i},{isDialogVisible:t,closeDialog:this.hideAdditionalEmailDialog,isForceConfirmStep:n,confirmedFromOuterScriptEmail:s})))},t.prototype.resolveHeaderRequest=function(e){var t=this.props,n=t.headerRequestWidgetUrl,r=t.onResolveHeaderRequest;Object(m.default)(n,{method:"POST",body:{method:e}}).then(function(){Object(h.b)("RequestsView:renderAsReloadWidget"),Object(h.b)("RequestsView:backToInbox"),Object(h.b)("RequestsView:reloadWidget"),Object(h.b)("DefaultHeaderRequestsCounter:refreshCounter"),r&&r()}).catch(function(e){Object(v.d)(e.errors)})},t.prototype.showDenyEmailAlert=function(){var e=this;this.setState({isForceDialogConfirmStep:!1}),this.props.dispatch(Object(g.pushAlert)(function(){return p.a.createElement(y.Alert,{title:"Thanks for letting us know",description:"Want to add a different additional email?"},p.a.createElement(y.ButtonGroup,null,p.a.createElement(y.Button,{color:"white",onClick:e.showAdditionalEmailDialog},"Yes")))}))},t}(u.Component);t.a=Object(d.connectWidget)()(_)},1705:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(23),f=n(22),m=n.n(f),g=n(7),v=n.n(g),y=n(2),b=n(1041),E=n(1354),w=n(1706),_=new v.a({name:"profile-additional-email-dialog"}),S=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.isDialogVisible,n=e.isFormProcessing,r=e.isFormSubmitSucceeded,i=e.isForceConfirmStep,o=e.handleFormSubmit,a=e.closeDialog,s=n?"busy":"",c=r||i;return p.a.createElement("div",_(),p.a.createElement(y.Modal,Object.assign({},_("modal"),{isOpen:t,onRequestClose:a}),p.a.createElement(y.Modal.Body,_("body"),p.a.createElement(y.MediaObject,{gutter:"s",verticalAlign:"top"},p.a.createElement(y.MediaObject.Item,{width:"full"},c?this.getConfirmationDialogBody():this.getDialogBodyWithEmailForm()),p.a.createElement(y.MediaObject.Item,null,p.a.createElement("img",Object.assign({src:w.a},_("mail-image")))))),p.a.createElement(y.Modal.Footer,_("modal-footer"),c?p.a.createElement(y.Button,{type:"button",onClick:a},"Done"):p.a.createElement(y.Button,{type:"button",onClick:o,status:s},"Add"))))},t.prototype.getDialogBodyWithEmailForm=function(){var e=this.props.primaryEmail;return p.a.createElement("div",null,p.a.createElement(y.Text,{spacing:"xs",size:"xl"},"Add an additional email address"),p.a.createElement(y.Text,Object.assign({spacing:"m"},_("description")),"Secure your account by adding another email address."),p.a.createElement(E.d,{primaryEmail:e}))},t.prototype.getConfirmationDialogBody=function(){var e=this.props,t=e.formAdditionalEmail,n=e.confirmedFromOuterScriptEmail,r=t||n;return p.a.createElement("div",null,p.a.createElement(y.Text,{spacing:"xs",size:"xl"},"We've sent you a confirmation at: ",r),p.a.createElement(y.Text,Object.assign({spacing:"m"},_("description")),"Please click on the link to verify your additional address."))},t}(u.Component);t.a=Object(d.connectWidget)(function(e){var t=m()(e,[E.c,"isProcessing"],!1);return{isFormSubmitSucceeded:m()(e,[E.c,"isSubmitSucceeded"],!1),isFormProcessing:t,formAdditionalEmail:m()(e,[E.c,"additionalEmail"],!1)}},function(e,t){return{handleFormSubmit:function(t){t.preventDefault(),e(Object(h.submit)(E.c))},closeDialog:function(){e({type:b.c}),t.closeDialog()}}})(S)},1706:function(e,t,n){"use strict";t.a="https://c5.rgstatic.net/m/423929872401791/images/profile/email-lock.png"},171:function(e,t,n){"use strict";var r=n(11),i=n.n(r),o=n(0),a=n.n(o),s=(n(1),n(8)),c=n.n(s),l=n(13),u=n(2),p=i()(["\n    fragment LikePostUpdateFields on Post {\n        id\n        hasLiked\n        canLike\n    }\n"],["\n    fragment LikePostUpdateFields on Post {\n        id\n        hasLiked\n        canLike\n    }\n"]),d=i()(["\n            mutation LikePost($id: ID!, $context: String!) {\n                likePost(id: $id, context: $context) {\n                    ...LikePostUpdateFields\n                }\n            }\n        "],["\n            mutation LikePost($id: ID!, $context: String!) {\n                likePost(id: $id, context: $context) {\n                    ...LikePostUpdateFields\n                }\n            }\n        "]),h=i()(["\n            mutation UnlikePost($id: ID!) {\n                unlikePost(id: $id) {\n                    ...LikePostUpdateFields\n                }\n            }\n        "],["\n            mutation UnlikePost($id: ID!) {\n                unlikePost(id: $id) {\n                    ...LikePostUpdateFields\n                }\n            }\n        "]);Object(l.gql)(p);var f=i()(["\n            query PostLikeButton($id: ID!) {\n                post(id: $id) {\n                    id\n                    hasLiked\n                    likeCount\n                }\n            }\n        "],["\n            query PostLikeButton($id: ID!) {\n                post(id: $id) {\n                    id\n                    hasLiked\n                    likeCount\n                }\n            }\n        "]),m=function(e){var t=e.post.hasLiked,n=e.handleUnlikePost,r=e.handleLikePost,i=e.theme,o=e.size,s=e.hasIcon;return a.a.createElement(u.Button,{type:"button",className:"topic-post-like-action",align:"left",key:"likePost",onClick:t?n:r,theme:i,size:o},s&&a.a.createElement(u.Button.Icon,{identifier:t?"check":"recommend-fill"}),a.a.createElement(u.Button.Label,null,t?"Recommended":"Recommend"))};m.defaultProps={hasIcon:!0};t.a=c()(Object(l.withQuery)(Object(l.gql)(f),{mapMutateToProps:function(e,t){var n=t.id,r=t.context;return{handleLikePost:function(){e(function(e){var t=e.id,n=e.context;return{mutation:Object(l.gql)(d),variables:{id:t,context:n},optimisticResponse:{likePost:{id:t,hasLiked:!0,canLike:!0,__typename:"Post"}},update:function(e,t){var n,r=e.likePost;return n={},n[(0,t.fieldKey)("post",{id:r.id})]={hasLiked:!0,likeCount:{$incrementBy:1}},n}}}({id:n,context:r}))},handleUnlikePost:function(){e(function(e){var t=e.id;return{mutation:Object(l.gql)(h),variables:{id:t},optimisticResponse:{unlikePost:{id:t,hasLiked:!1,canLike:!0,__typename:"Post"}},update:function(e,t){var n,r=e.unlikePost;return n={},n[(0,t.fieldKey)("post",{id:r.id})]={hasLiked:!1,likeCount:{$decrementBy:1}},n}}}({id:n}))}}}}))(m)},172:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(42),d=n(6),h=n(149),f=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=[];if(!this.props.account)return null;this.props.account.reputation&&this.props.account.reputation.score&&(e.push(u.a.createElement("span",{className:"ico-publication-author-score",key:"score"})),e.push(this.props.account.reputation.score));var t=this.props.account.profile.professionalInstitution||this.props.unknownInstitutionPlaceholder;return t&&(e.length>0&&e.push(" "+h.a+" "),e.push(t)),u.a.createElement("div",{className:this.props.className},e)},t}(l.Component);f.defaultProps={className:"publication-author-stats-line",unknownInstitutionPlaceholder:"Unknown"},t.a=Object(d.connectWidget)(function(e,t){return{account:Object(p.c)(e,t)}})(f)},173:function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(0)),o=n.n(i),a=n(7),s=new(n.n(a).a)({name:"insights-report-page"});t.a=function(e){var t=e.children,n=e.color;return o.a.createElement("div",s({modifier:n&&"color-"+n}),t)}},174:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(22),i=n.n(r),o=n(251),a=n.n(o),s=n(29),c=n.n(s),l=n(163),u=n.n(l),p=function(e,t){return a()(i()(e,["experimentsRunningExperiments","experiments"],{}),t)},d=function(e,t){var n=t.experimentNames;return u()(p(e,n),function(e){return c()(e,function(e){return e.viewId})})}},182:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(35),i=(n.n(r),n(21)),o=(n.n(i),n(59)),a=(Object(r.fromJS)({linkIds:[],totalCount:0}),function(e){return e.converseLinks.get("links")}),s=function(e){return e.converseLinks.get("parentIdToLinkIds")},c=function(e){return Object(i.createSelector)([a,function(e){return Object(i.createSelector)([s,e],function(e,t){return e.getIn([t,"linkIds"],new r.List)})}(e)],function(e,t){return t.map(function(t){return e.get(t,new r.Map)})})},l=function(e){return Object(i.createSelector)(c(e),function(e){return e.filter(function(e){return e.get("type")!==o.b.MENTION})})}},183:function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=(n(1),n(0)),a=n.n(o),s=n(6),c=n(7),l=n.n(c),u=n(1633),p=n(1634),d=n(2),h=new l.a({name:"ad-campaign-menu"}),f=Object(s.connectWidget)()(function(e){var t=e.items;return a.a.createElement("div",h(),t.map(function(e,t){var n=e.separator,r=e.label,i=e.url,o=e.isSelected;return n?a.a.createElement("div",Object.assign({key:t},h("separator"))):a.a.createElement(d.Link,Object.assign({key:t},h("item",{selected:o}),{href:i,theme:"silent"}),r)}))}),m=n(162),g=new l.a({name:"ad-campaign-layout"});t.a=Object(s.connectWidget)()(function(e){var t=e.className,n=e.children,r=e.adCampaignEditHeader,o=e.adCampaignMenu,s=i()(e,["className","children","adCampaignEditHeader","adCampaignMenu"]);return s.enableLegacyLayout?a.a.createElement("div",{className:"ads"},a.a.createElement("div",{className:"c-col-content"},a.a.createElement(u.a,{widgetId:r}),a.a.createElement(p.a,{widgetId:s.adCampaignEditTabs}),a.a.createElement("div",{className:t?"c-content "+t:"c-content"},n)),a.a.createElement("div",{className:"c-col-left"},a.a.createElement(m.a,{widgetId:s.mainMenu}))):a.a.createElement("div",g(),a.a.createElement(u.a,{widgetId:r}),a.a.createElement("div",g("container"),a.a.createElement("div",g("menu"),a.a.createElement(f,{widgetId:o})),a.a.createElement("div",g("content",null,t),n)))})},187:function(e,t,n){"use strict";function r(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function i(){return new r}function o(e){return e>=1?ve:e<=-1?-ve:Math.asin(e)}function a(e){return e.innerRadius}function s(e){return e.outerRadius}function c(e){return e.startAngle}function l(e){return e.endAngle}function u(e){return e&&e.padAngle}function p(e,t,n,r,i,o,a){var s=e-n,c=t-r,l=(a?o:-o)/fe(s*s+c*c),u=l*c,p=-l*s,d=e+u,h=t+p,f=n+u,m=r+p,g=(d+f)/2,v=(h+m)/2,y=f-d,b=m-h,E=y*y+b*b,w=i-o,_=d*m-f*h,S=(b<0?-1:1)*fe(pe(0,w*w*E-_*_)),I=(_*b-y*S)/E,C=(-_*y-b*S)/E,O=(_*b+y*S)/E,x=(-_*y+b*S)/E,k=I-g,j=C-v,T=O-g,A=x-v;return k*k+j*j>T*T+A*A&&(I=O,C=x),{cx:I,cy:C,x01:-u,y01:-p,x11:I*(i/w-1),y11:C*(i/w-1)}}function d(e){this._context=e}function h(e){return e[0]}function f(e){return e[1]}function m(e){this._curve=e}function g(e){function t(t){return new m(e(t))}return t._curve=e,t}function v(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(g(e)):t()._curve},e}function y(e){return e.source}function b(e){return e.target}function E(e){function t(){var t,s=Te.call(arguments),c=n.apply(this,s),l=r.apply(this,s);if(a||(a=t=ae()),e(a,+i.apply(this,(s[0]=c,s)),+o.apply(this,s),+i.apply(this,(s[0]=l,s)),+o.apply(this,s)),t)return a=null,t+""||null}var n=y,r=b,i=h,o=f,a=null;return t.source=function(e){return arguments.length?(n=e,t):n},t.target=function(e){return arguments.length?(r=e,t):r},t.x=function(e){return arguments.length?(i="function"==typeof e?e:se(+e),t):i},t.y=function(e){return arguments.length?(o="function"==typeof e?e:se(+e),t):o},t.context=function(e){return arguments.length?(a=null==e?null:e,t):a},t}function w(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function _(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function S(e,t,n,r,i){var o=je(t,n),a=je(t,n=(n+i)/2),s=je(r,n),c=je(r,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],c[0],c[1])}function I(){return E(w)}function C(){return E(_)}function O(){var e=E(S);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}function x(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function k(e){this._context=e}function j(e){this._context=e}function T(e){this._context=e}function A(e,t){this._basis=new k(e),this._beta=t}function P(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function M(e,t){this._context=e,this._k=(1-t)/6}function D(e,t){this._context=e,this._k=(1-t)/6}function R(e,t){this._context=e,this._k=(1-t)/6}function N(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>me){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>me){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function L(e,t){this._context=e,this._alpha=t}function F(e,t){this._context=e,this._alpha=t}function U(e,t){this._context=e,this._alpha=t}function B(e){this._context=e}function q(e){return e<0?-1:1}function V(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(q(o)+q(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function W(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function z(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function H(e){this._context=e}function Y(e){this._context=new K(e)}function K(e){this._context=e}function G(e){return new H(e)}function Q(e){return new Y(e)}function $(e){this._context=e}function X(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function J(e,t){this._context=e,this._t=t}function Z(e){return new J(e,0)}function ee(e){return new J(e,1)}function te(e,t){return e[t]}function ne(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}var re=Math.PI,ie=2*re,oe=ie-1e-6;r.prototype=i.prototype={constructor:r,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,c=r-t,l=o-e,u=a-t,p=l*l+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>1e-6)if(Math.abs(u*s-c*l)>1e-6&&i){var d=n-o,h=r-a,f=s*s+c*c,m=d*d+h*h,g=Math.sqrt(f),v=Math.sqrt(p),y=i*Math.tan((re-Math.acos((f+p-m)/(2*g*v)))/2),b=y/v,E=y/g;Math.abs(b-1)>1e-6&&(this._+="L"+(e+b*l)+","+(t+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>l*h)+","+(this._x1=e+E*s)+","+(this._y1=t+E*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=e+a,l=t+s,u=1^o,p=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+c+","+l),n&&(p<0&&(p=p%ie+ie),p>oe?this._+="A"+n+","+n+",0,1,"+u+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=re)+","+u+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var ae=i,se=function(e){return function(){return e}},ce=Math.abs,le=Math.atan2,ue=Math.cos,pe=Math.max,de=Math.min,he=Math.sin,fe=Math.sqrt,me=1e-12,ge=Math.PI,ve=ge/2,ye=2*ge,be=function(){function e(){var e,a,s=+t.apply(this,arguments),c=+n.apply(this,arguments),l=d.apply(this,arguments)-ve,u=h.apply(this,arguments)-ve,g=ce(u-l),v=u>l;if(m||(m=e=ae()),c<s&&(a=c,c=s,s=a),c>me)if(g>ye-me)m.moveTo(c*ue(l),c*he(l)),m.arc(0,0,c,l,u,!v),s>me&&(m.moveTo(s*ue(u),s*he(u)),m.arc(0,0,s,u,l,v));else{var y,b,E=l,w=u,_=l,S=u,I=g,C=g,O=f.apply(this,arguments)/2,x=O>me&&(i?+i.apply(this,arguments):fe(s*s+c*c)),k=de(ce(c-s)/2,+r.apply(this,arguments)),j=k,T=k;if(x>me){var A=o(x/s*he(O)),P=o(x/c*he(O));(I-=2*A)>me?(A*=v?1:-1,_+=A,S-=A):(I=0,_=S=(l+u)/2),(C-=2*P)>me?(P*=v?1:-1,E+=P,w-=P):(C=0,E=w=(l+u)/2)}var M=c*ue(E),D=c*he(E),R=s*ue(S),N=s*he(S);if(k>me){var L=c*ue(w),F=c*he(w),U=s*ue(_),B=s*he(_);if(g<ge){var q=I>me?function(e,t,n,r,i,o,a,s){var c=n-e,l=r-t,u=a-i,p=s-o,d=(u*(t-o)-p*(e-i))/(p*c-u*l);return[e+d*c,t+d*l]}(M,D,U,B,L,F,R,N):[R,N],V=M-q[0],W=D-q[1],z=L-q[0],H=F-q[1],Y=1/he(function(e){return e>1?0:e<-1?ge:Math.acos(e)}((V*z+W*H)/(fe(V*V+W*W)*fe(z*z+H*H)))/2),K=fe(q[0]*q[0]+q[1]*q[1]);j=de(k,(s-K)/(Y-1)),T=de(k,(c-K)/(Y+1))}}C>me?T>me?(y=p(U,B,M,D,c,T,v),b=p(L,F,R,N,c,T,v),m.moveTo(y.cx+y.x01,y.cy+y.y01),T<k?m.arc(y.cx,y.cy,T,le(y.y01,y.x01),le(b.y01,b.x01),!v):(m.arc(y.cx,y.cy,T,le(y.y01,y.x01),le(y.y11,y.x11),!v),m.arc(0,0,c,le(y.cy+y.y11,y.cx+y.x11),le(b.cy+b.y11,b.cx+b.x11),!v),m.arc(b.cx,b.cy,T,le(b.y11,b.x11),le(b.y01,b.x01),!v))):(m.moveTo(M,D),m.arc(0,0,c,E,w,!v)):m.moveTo(M,D),s>me&&I>me?j>me?(y=p(R,N,L,F,s,-j,v),b=p(M,D,U,B,s,-j,v),m.lineTo(y.cx+y.x01,y.cy+y.y01),j<k?m.arc(y.cx,y.cy,j,le(y.y01,y.x01),le(b.y01,b.x01),!v):(m.arc(y.cx,y.cy,j,le(y.y01,y.x01),le(y.y11,y.x11),!v),m.arc(0,0,s,le(y.cy+y.y11,y.cx+y.x11),le(b.cy+b.y11,b.cx+b.x11),v),m.arc(b.cx,b.cy,j,le(b.y11,b.x11),le(b.y01,b.x01),!v))):m.arc(0,0,s,S,_,v):m.lineTo(R,N)}else m.moveTo(0,0);if(m.closePath(),e)return m=null,e+""||null}var t=a,n=s,r=se(0),i=null,d=c,h=l,f=u,m=null;return e.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+d.apply(this,arguments)+ +h.apply(this,arguments))/2-ge/2;return[ue(r)*e,he(r)*e]},e.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:se(+n),e):t},e.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:se(+t),e):n},e.cornerRadius=function(t){return arguments.length?(r="function"==typeof t?t:se(+t),e):r},e.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:se(+t),e):i},e.startAngle=function(t){return arguments.length?(d="function"==typeof t?t:se(+t),e):d},e.endAngle=function(t){return arguments.length?(h="function"==typeof t?t:se(+t),e):h},e.padAngle=function(t){return arguments.length?(f="function"==typeof t?t:se(+t),e):f},e.context=function(t){return arguments.length?(m=null==t?null:t,e):m},e};d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Ee=function(e){return new d(e)},we=function(){function e(e){var s,c,l,u=e.length,p=!1;for(null==i&&(a=o(l=ae())),s=0;s<=u;++s)!(s<u&&r(c=e[s],s,e))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(c,s,e),+n(c,s,e));if(l)return a=null,l+""||null}var t=h,n=f,r=se(!0),i=null,o=Ee,a=null;return e.x=function(n){return arguments.length?(t="function"==typeof n?n:se(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:se(+t),e):n},e.defined=function(t){return arguments.length?(r="function"==typeof t?t:se(!!t),e):r},e.curve=function(t){return arguments.length?(o=t,null!=i&&(a=o(i)),e):o},e.context=function(t){return arguments.length?(null==t?i=a=null:a=o(i=t),e):i},e},_e=function(){function e(e){var t,u,p,d,h,f=e.length,m=!1,g=new Array(f),v=new Array(f);for(null==s&&(l=c(h=ae())),t=0;t<=f;++t){if(!(t<f&&a(d=e[t],t,e))===m)if(m=!m)u=t,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=t-1;p>=u;--p)l.point(g[p],v[p]);l.lineEnd(),l.areaEnd()}m&&(g[t]=+n(d,t,e),v[t]=+i(d,t,e),l.point(r?+r(d,t,e):g[t],o?+o(d,t,e):v[t]))}if(h)return l=null,h+""||null}function t(){return we().defined(a).curve(c).context(s)}var n=h,r=null,i=se(0),o=f,a=se(!0),s=null,c=Ee,l=null;return e.x=function(t){return arguments.length?(n="function"==typeof t?t:se(+t),r=null,e):n},e.x0=function(t){return arguments.length?(n="function"==typeof t?t:se(+t),e):n},e.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:se(+t),e):r},e.y=function(t){return arguments.length?(i="function"==typeof t?t:se(+t),o=null,e):i},e.y0=function(t){return arguments.length?(i="function"==typeof t?t:se(+t),e):i},e.y1=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:se(+t),e):o},e.lineX0=e.lineY0=function(){return t().x(n).y(i)},e.lineY1=function(){return t().x(n).y(o)},e.lineX1=function(){return t().x(r).y(i)},e.defined=function(t){return arguments.length?(a="function"==typeof t?t:se(!!t),e):a},e.curve=function(t){return arguments.length?(c=t,null!=s&&(l=c(s)),e):c},e.context=function(t){return arguments.length?(null==t?s=l=null:l=c(s=t),e):s},e},Se=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},Ie=function(e){return e},Ce=function(){function e(e){var s,c,l,u,p,d=e.length,h=0,f=new Array(d),m=new Array(d),g=+i.apply(this,arguments),v=Math.min(ye,Math.max(-ye,o.apply(this,arguments)-g)),y=Math.min(Math.abs(v)/d,a.apply(this,arguments)),b=y*(v<0?-1:1);for(s=0;s<d;++s)(p=m[f[s]=s]=+t(e[s],s,e))>0&&(h+=p);for(null!=n?f.sort(function(e,t){return n(m[e],m[t])}):null!=r&&f.sort(function(t,n){return r(e[t],e[n])}),s=0,l=h?(v-d*b)/h:0;s<d;++s,g=u)c=f[s],u=g+((p=m[c])>0?p*l:0)+b,m[c]={data:e[c],index:s,value:p,startAngle:g,endAngle:u,padAngle:y};return m}var t=Ie,n=Se,r=null,i=se(0),o=se(ye),a=se(0);return e.value=function(n){return arguments.length?(t="function"==typeof n?n:se(+n),e):t},e.sortValues=function(t){return arguments.length?(n=t,r=null,e):n},e.sort=function(t){return arguments.length?(r=t,n=null,e):r},e.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:se(+t),e):i},e.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:se(+t),e):o},e.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:se(+t),e):a},e},Oe=g(Ee);m.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var xe=function(){return v(we().curve(Oe))},ke=function(){var e=_e().curve(Oe),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return v(n())},delete e.lineX0,e.lineEndAngle=function(){return v(r())},delete e.lineX1,e.lineInnerRadius=function(){return v(i())},delete e.lineY0,e.lineOuterRadius=function(){return v(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(g(e)):t()._curve},e},je=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},Te=Array.prototype.slice,Ae={draw:function(e,t){var n=Math.sqrt(t/ge);e.moveTo(n,0),e.arc(0,0,n,0,ye)}},Pe={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Me=Math.sqrt(1/3),De=2*Me,Re={draw:function(e,t){var n=Math.sqrt(t/De),r=n*Me;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Ne=Math.sin(ge/10)/Math.sin(7*ge/10),Le=Math.sin(ye/10)*Ne,Fe=-Math.cos(ye/10)*Ne,Ue={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=Le*n,i=Fe*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var a=ye*o/5,s=Math.cos(a),c=Math.sin(a);e.lineTo(c*n,-s*n),e.lineTo(s*r-c*i,c*r+s*i)}e.closePath()}},Be={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},qe=Math.sqrt(3),Ve={draw:function(e,t){var n=-Math.sqrt(t/(3*qe));e.moveTo(0,2*n),e.lineTo(-qe*n,-n),e.lineTo(qe*n,-n),e.closePath()}},We=Math.sqrt(3)/2,ze=1/Math.sqrt(12),He=3*(ze/2+1),Ye={draw:function(e,t){var n=Math.sqrt(t/He),r=n/2,i=n*ze,o=r,a=n*ze+n,s=-o,c=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,c),e.lineTo(-.5*r-We*i,We*r+-.5*i),e.lineTo(-.5*o-We*a,We*o+-.5*a),e.lineTo(-.5*s-We*c,We*s+-.5*c),e.lineTo(-.5*r+We*i,-.5*i-We*r),e.lineTo(-.5*o+We*a,-.5*a-We*o),e.lineTo(-.5*s+We*c,-.5*c-We*s),e.closePath()}},Ke=[Ae,Pe,Re,Be,Ue,Ve,Ye],Ge=function(){function e(){var e;if(r||(r=e=ae()),t.apply(this,arguments).draw(r,+n.apply(this,arguments)),e)return r=null,e+""||null}var t=se(Ae),n=se(64),r=null;return e.type=function(n){return arguments.length?(t="function"==typeof n?n:se(n),e):t},e.size=function(t){return arguments.length?(n="function"==typeof t?t:se(+t),e):n},e.context=function(t){return arguments.length?(r=null==t?null:t,e):r},e},Qe=function(){};k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:x(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:x(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var $e=function(e){return new k(e)};j.prototype={areaStart:Qe,areaEnd:Qe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:x(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Xe=function(e){return new j(e)};T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:x(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Je=function(e){return new T(e)};A.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*e[c]+(1-this._beta)*(i+r*a),this._beta*t[c]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Ze=function e(t){function n(e){return 1===t?new k(e):new A(e,t)}return n.beta=function(t){return e(+t)},n}(.85);M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:P(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:P(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var et=function e(t){function n(e){return new M(e,t)}return n.tension=function(t){return e(+t)},n}(0);D.prototype={areaStart:Qe,areaEnd:Qe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:P(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var tt=function e(t){function n(e){return new D(e,t)}return n.tension=function(t){return e(+t)},n}(0);R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:P(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var nt=function e(t){function n(e){return new R(e,t)}return n.tension=function(t){return e(+t)},n}(0);L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:N(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var rt=function e(t){function n(e){return t?new L(e,t):new M(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);F.prototype={areaStart:Qe,areaEnd:Qe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:N(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var it=function e(t){function n(e){return t?new F(e,t):new D(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:N(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ot=function e(t){function n(e){return t?new U(e,t):new R(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);B.prototype={areaStart:Qe,areaEnd:Qe,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var at=function(e){return new B(e)};H.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:z(this,this._t0,W(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,z(this,W(this,n=V(this,e,t)),n);break;default:z(this,this._t0,n=V(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Y.prototype=Object.create(H.prototype)).point=function(e,t){H.prototype.point.call(this,t,e)},K.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=X(e),i=X(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var st=function(e){return new $(e)};J.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var ct=function(e){return new J(e,.5)},lt=function(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},ut=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n},pt=function(){function e(e){var o,a,s=t.apply(this,arguments),c=e.length,l=s.length,u=new Array(l);for(o=0;o<l;++o){for(var p,d=s[o],h=u[o]=new Array(c),f=0;f<c;++f)h[f]=p=[0,+i(e[f],d,f,e)],p.data=e[f];h.key=d}for(o=0,a=n(u);o<l;++o)u[a[o]].index=o;return r(u,a),u}var t=se([]),n=ut,r=lt,i=te;return e.keys=function(n){return arguments.length?(t="function"==typeof n?n:se(Te.call(n)),e):t},e.value=function(t){return arguments.length?(i="function"==typeof t?t:se(+t),e):i},e.order=function(t){return arguments.length?(n=null==t?ut:"function"==typeof t?t:se(Te.call(t)),e):n},e.offset=function(t){return arguments.length?(r=null==t?lt:t,e):r},e},dt=function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}lt(e,t)}},ht=function(e,t){if((s=e.length)>1)for(var n,r,i,o,a,s,c=0,l=e[t[0]].length;c<l;++c)for(o=a=0,n=0;n<s;++n)(i=(r=e[t[n]][c])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},ft=function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}lt(e,t)}},mt=function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,c=0,l=0;s<i;++s){for(var u=e[t[s]],p=u[a][1]||0,d=(p-(u[a-1][1]||0))/2,h=0;h<s;++h){var f=e[t[h]];d+=(f[a][1]||0)-(f[a-1][1]||0)}c+=p,l+=d*p}n[a-1][1]+=n[a-1][0]=o,c&&(o-=l/c)}n[a-1][1]+=n[a-1][0]=o,lt(e,t)}},gt=function(e){var t=e.map(ne);return ut(e).sort(function(e,n){return t[e]-t[n]})},vt=function(e){return gt(e).reverse()},yt=function(e){var t,n,r=e.length,i=e.map(ne),o=ut(e).sort(function(e,t){return i[t]-i[e]}),a=0,s=0,c=[],l=[];for(t=0;t<r;++t)n=o[t],a<s?(a+=i[n],c.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(c)},bt=function(e){return ut(e).reverse()};n.d(t,"a",function(){return be}),n.d(t,"b",function(){return _e}),n.d(t,"f",function(){return we}),n.d(t,"g",function(){return Ce}),n.d(t,!1,function(){return ke}),n.d(t,!1,function(){return ke}),n.d(t,!1,function(){return xe}),n.d(t,!1,function(){return xe}),n.d(t,!1,function(){return je}),n.d(t,!1,function(){return I}),n.d(t,!1,function(){return C}),n.d(t,!1,function(){return O}),n.d(t,!1,function(){return Ge}),n.d(t,!1,function(){return Ke}),n.d(t,!1,function(){return Ae}),n.d(t,!1,function(){return Pe}),n.d(t,!1,function(){return Re}),n.d(t,!1,function(){return Be}),n.d(t,!1,function(){return Ue}),n.d(t,!1,function(){return Ve}),n.d(t,!1,function(){return Ye}),n.d(t,!1,function(){return Xe}),n.d(t,!1,function(){return Je}),n.d(t,!1,function(){return $e}),n.d(t,!1,function(){return Ze}),n.d(t,!1,function(){return tt}),n.d(t,!1,function(){return nt}),n.d(t,!1,function(){return et}),n.d(t,!1,function(){return it}),n.d(t,!1,function(){return ot}),n.d(t,"c",function(){return rt}),n.d(t,!1,function(){return at}),n.d(t,"d",function(){return Ee}),n.d(t,"e",function(){return G}),n.d(t,!1,function(){return Q}),n.d(t,!1,function(){return st}),n.d(t,!1,function(){return ct}),n.d(t,!1,function(){return ee}),n.d(t,!1,function(){return Z}),n.d(t,!1,function(){return pt}),n.d(t,!1,function(){return dt}),n.d(t,!1,function(){return ht}),n.d(t,!1,function(){return lt}),n.d(t,!1,function(){return ft}),n.d(t,!1,function(){return mt}),n.d(t,!1,function(){return gt}),n.d(t,!1,function(){return vt}),n.d(t,!1,function(){return yt}),n.d(t,!1,function(){return ut}),n.d(t,!1,function(){return bt})},189:function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(0)),o=n.n(i),a=n(2),s=n(238),c=n(78),l=function(e){var t=e.accountId,n=e.description,r=e.size,i=e.children,l=e.gutter;return o.a.createElement(a.MediaObject,{className:"message-item-header",gutter:l,verticalAlign:"middle"},o.a.createElement(a.MediaObject.Item,{className:"message-item-header-image"},o.a.createElement(c.a,{size:r,accountId:t})),o.a.createElement(a.MediaObject.Item,{width:"full",className:"message-item-header-text"},o.a.createElement(a.Text,{size:"m",spacing:"none",className:"truncate-single-line"},o.a.createElement(s.a,{accountId:t,color:"blue",theme:"bare"})),n),o.a.createElement(a.MediaObject.Item,{className:"message-item-header-date"},i))};l.defaultProps={size:"l",gutter:"m"},t.a=l},194:function(e,t,n){"use strict";var r=n(110),i=n(23);t.a=function(e,t){var n=t.id;return{uploadState:Object(r.a)(n,e),formValues:Object(i.getFormValues)(n)(e),isFormValid:Object(i.isValid)(n)(e)}}},195:function(e,t,n){"use strict";var r=n(29),i=n.n(r);t.a={doSubmit:function(e){var t=e.isFormValid,n=e.formValues,r=e.uploadState.fileList,o=e.onSubmit;return function(){if(t){var e=i()(r,function(e){return e.response.result.id});return o({values:n,files:e})}}}}},202:function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=n(3),a=n.n(o),s=n(4),c=n.n(s),l=n(5),u=n.n(l),p=n(1),d=(n.n(p),n(0)),h=n.n(d),f=n(6),m=n(110),g=n(7),v=n.n(g),y=n(254),b=n(276),E=n(59),w=n(2),_=n(84),S=n.n(_),I=n(33),C=n.n(I),O=n(14),x=(n(280),n(124)),k=n(226),j=n(99),T=n(142),A=n(155),P=n(29),M=n.n(P),D=new v.a({name:"converse-message-composer"}),R=function(e){function t(){var n,r,o;a()(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=c()(this,e.call.apply(e,[this].concat(l))),r.state={editorData:{text:"",struct:{}},fileCount:0,links:r.props.links||[],linksRemovedCount:0,hasContentChanged:!1},r.handleSubmit=function(e){e.preventDefault();var t=S()(e.target,{hash:!0}),n=t.externalType,o=t.fileReference,a=t.attachments,s=i()(t,["externalType","fileReference","attachments"]),c=r.state.editorData;r.props.onSubmit({editorData:c,externalType:n,fileReference:o,attachments:a,additional:Object.assign({},s)})},r.handleChange=function(e,t){r.setState({editorData:e},function(){t&&r.handleTyping()})},r.handleRemoveAttachment=function(e){r.props.onRemoveAttachment&&r.props.onRemoveAttachment(e),r.setState({linksRemovedCount:r.state.linksRemovedCount+1,hasContentChanged:!0})},r.handleUndoRemoveAttachment=function(){r.setState({linksRemovedCount:r.state.linksRemovedCount-1})},o=n,c()(r,o)}return u()(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.uploadState.fileList;e&&0!==e.length&&!1===this.state.hasContentChanged&&this.setState({hasContentChanged:!0})},t.prototype.clear=function(){this.editor.clear(),this.props.removeAllFiles(),this.setState({hasContentChanged:!1,fileCount:0})},t.prototype.focus=function(){this.editor.focus()},t.prototype.hasEnteredContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!this.state.hasContentChanged&&(this.getTextCount()>e||this.getFileCount()>t)},t.prototype.handleTyping=function(){this.state.hasContentChanged||this.getTextCount()>0&&(this.props.experimentGoals&&Object(O.a)(this.props.experimentGoals.startTyping),this.setState({hasContentChanged:!0}))},t.prototype.handleAddMention=function(){this.setState({hasContentChanged:!0})},t.prototype.getFileCount=function(){var e=this.props.uploadState.fileList;return e?e.length:0},t.prototype.getLinksCount=function(){return this.props.links?this.props.links.length-this.state.linksRemovedCount:0},t.prototype.getTextCount=function(){return this.state.editorData.text.length},t.prototype.getSubmitButtonStatus=function(){return this.props.useUploader&&this.props.uploadState.status!==A.b.IDLE?"disabled":this.state.hasContentChanged&&(this.isTextInputValid()||this.isAttachmentsCountValid())?null:"disabled"},t.prototype.isTextInputValid=function(){return this.getTextCount()>=this.props.minCharCount},t.prototype.isAttachmentsCountValid=function(){return this.getFileCount()+this.getLinksCount()>=this.props.minFileCount},t.prototype.renderAttachmentsList=function(){var e=this.props,t=e.links,n=e.context,r=e.attachmentsLimit,i=e.isTextFilePreviewEnabled;return C()(t)?null:h.a.createElement(k.a,Object.assign({},D("attachment-list",this.props.blockModifier),{links:t,attachmentsLimit:r,context:n,isTextFilePreviewEnabled:i,onRemoveAttachment:this.handleRemoveAttachment,onUndoRemoveAttachment:this.handleUndoRemoveAttachment}))},t.prototype.renderUploadFileList=function(){return this.props.useUploader?h.a.createElement(T.a,Object.assign({},D("attachment-list",this.props.blockModifier),{id:this.props.id})):null},t.prototype.renderUploadButton=function(){return this.props.useUploader?h.a.createElement(j.a,{id:this.props.id,url:"/api/projects/update/upload"}):null},t.prototype.renderUploaderLegal=function(){return this.props.useUploader?h.a.createElement(x.b,null):null},t.prototype.renderFooterLeft=function(){return h.a.createElement("div",D("left"),h.a.createElement(w.Pack,{verticalAlign:"middle"},h.a.createElement(w.Pack.Item,null,this.renderUploadButton()),h.a.createElement(w.Pack.Item,null,this.renderUploaderLegal())))},t.prototype.renderFooterRight=function(){var e=this.props.actions?M()(this.props.actions,function(e){return h.a.createElement(w.Pack.Item,{key:e.key},e)}):[];return e.push(h.a.createElement(w.Pack.Item,{key:"submit"},h.a.createElement(w.Button,Object.assign({},D("submit-button"),{type:"submit",status:this.getSubmitButtonStatus(),size:"s"}),h.a.createElement(w.Button.Label,null,this.props.submitButtonLabel)))),h.a.createElement("div",D("right"),h.a.createElement(w.Pack,{verticalAlign:"middle"},e))},t.prototype.renderEditor=function(){var e=this;return this.props.usePlainTextEditor?h.a.createElement(b.a,{blockModifier:this.props.blockModifier,ref:function(t){e.editor=t},onChange:this.handleChange,placeholder:this.props.placeholder,text:this.props.text}):h.a.createElement(y.b,{editorRef:function(t){e.editor=t},onChange:this.handleChange,placeholder:this.props.placeholder,text:this.props.text,structuredData:this.props.structuredData,showRichTextOptionsOnMount:this.props.showRichTextOptionsOnMount,blockModifier:this.props.blockModifier,referenceResearchDialogUrl:this.props.referenceResearchDialogUrl,prefilledMentions:this.props.prefilledMentions,useMentionControls:this.props.useMentionControls,useHotKeyManager:this.props.useHotKeyManager})},t.prototype.render=function(){var e=this;return h.a.createElement("div",Object.assign({},D("",this.props.blockModifier),{ref:function(t){e.container=t}}),h.a.createElement("form",{onSubmit:this.handleSubmit},h.a.createElement("input",{type:"hidden",name:"externalType",value:E.a.EXTERNAL_TYPE_POST}),this.props.subject,this.renderEditor(),this.renderAttachmentsList(),this.renderUploadFileList(),h.a.createElement("div",D("footer"),this.renderFooterLeft(),this.renderFooterRight())))},t}(d.Component);R.defaultProps={attachmentsLimit:1e3,minCharCount:2,minFileCount:1,useUploader:!0,usePlainTextEditor:!1};t.a=Object(f.connectWidget)(function(e,t){return{uploadState:Object(m.a)(t.id,e)}},function(e,t){return{removeAllFiles:function(){return e(Object(A.t)(t.id)())}}},null,{withRef:!0})(R)},204:function(e,t,n){"use strict";var r=n(17),i=n(1),o=n.n(i),a=n(133);t.a=Object(a.a)(function(e){var t=e.context,n=e.message,i=e.componentIdentifier,o=e.imageLinks,a=void 0===o?[]:o,s={bodyLength:n.body.length};return a.length>0&&(s.imageCount=a.length),Object.assign({context:t,rgKey:new r.a(n.id,r.b.TYPE_MESSAGE).getFullKey(),componentIdentifier:i},s)},{inactivityTimeout:5e3});o.a.func.isRequired},205:function(e,t,n){"use strict";t.a=function(e){var t=e.projectId,n=e.context,r=e.entryChannel,l=e.viewIds,u=void 0===l?null:l;return function(e){Object(c.a)("projects.ProjectShareSelectionDialog.html",{params:{projectId:t,context:n,entryChannel:r,viewIds:u}}).then(function(t,n){n&&e(Object(s.pushAlert)(function(){return i.a.createElement(o.Alert,{description:"Project shared",color:"green"},i.a.createElement(o.Icon,{identifier:"check-circle",size:"l"}))}))}).catch(function(t){"Dialog cancelled"!==t.message&&e(Object(s.pushAlert)(function(){return i.a.createElement(a.a,{title:t.message})}))})}},t.b=function(e,t,n,r){return{type:l.a,payload:{projectId:e,title:t,context:n,UIDs:r}}};var r=n(0),i=n.n(r),o=n(2),a=n(74),s=n(12),c=n(64),l=n(224)},206:function(e,t,n){"use strict";t.b=function(e){return e===window?"scrollY"in window?window.scrollY:document.documentElement.scrollTop:e.scrollTop},t.a=function(e){if(void 0!==e.offsetParent){var t=0;for(t;e;e=e.offsetParent)t+=e.offsetTop;return t}return e.y},t.c=function(){return document.body.scrollHeight-window.innerHeight>0}},212:function(e,t,n){"use strict";function r(e,t){var n=Array.isArray(e)?e:[e],i=encodeURIComponent;return Array.isArray(t)?t.map(function(e,t){return r(n.concat([t]),e)}).join("&"):"object"===(void 0===t?"undefined":a()(t))?Object.keys(t).map(function(e){return r(n.concat([e]),t[e])}).join("&"):i(function(e){if(Array.isArray(e))return e.map(function(e,t){return 0===t?e:"["+e+"]"}).join("");return e}(n))+"="+i(t)}function i(e){var t="";for(var n in e)""!==t&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]);return t}n.d(t,"a",function(){return s}),n.d(t,"l",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return p}),n.d(t,"i",function(){return d}),n.d(t,"g",function(){return h}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"c",function(){return g}),n.d(t,"k",function(){return v}),n.d(t,"j",function(){return y}),t.m=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t&&n?(t[c]=n,-1!==e.indexOf("?")?e.concat("&"+r(s,t)).concat("&"+i(o)):e.concat("?"+r(s,t)).concat("&"+i(o))):e},t.n=i;var o=n(90),a=n.n(o),s="_iepl",c="interactionType",l="projectFollow",u="projectViewTitle",p="projectViewCollaborators",d="projectViewUpdates",h="projectViewFollowers",f="projectFollowCarouselSuggestionNext",m="projectFollowCarouselSuggestionPrev",g="projectFollowCarouselSuggestionHide",v="questionCarouselSuggestionNext",y="questionCarouselSuggestionHide"},214:function(e,t,n){"use strict";e.exports=n(329).default},215:function(e,t,n){"use strict";function r(e){return e.type&&"Tab"===e.type.tabsRole}function i(e){return e.type&&"TabPanel"===e.type.tabsRole}function o(e){return e.type&&"TabList"===e.type.tabsRole}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return E.Children.map(e,function(e){return null===e?null:function(e){return r(e)||o(e)||i(e)}(e)?t(e):e.props&&e.props.children&&"object"===s(e.props.children)?Object(E.cloneElement)(e,a({},e.props,{children:c(e.props.children,t)})):e})}function l(e,t){return E.Children.forEach(e,function(e){null!==e&&(r(e)||i(e)?t(e):e.props&&e.props.children&&"object"===s(e.props.children)&&(o(e)&&t(e),l(e.props.children,t)))})}function u(){return"react-tabs-"+I++}function p(){I=0}function d(e){var t=0;return l(e,function(e){r(e)&&t++}),t}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){return"LI"===e.nodeName&&"tab"===e.getAttribute("role")}function m(e){return"true"===e.getAttribute("aria-disabled")}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n(1);var b,E=n(0),w=n.n(E),_=n(15),S=n.n(_),I=0;try{b=!("undefined"==typeof window||!window.document||!window.document.activeElement)}catch(e){b=!1}var C=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.tabNodes=[],n.handleKeyDown=function(e){if(n.isTabFromContainer(e.target)){var t=n.props.selectedIndex,r=!1,i=!1;32!==e.keyCode&&13!==e.keyCode||(r=!0,i=!1,n.handleClick(e)),37===e.keyCode||38===e.keyCode?(t=n.getPrevTab(t),r=!0,i=!0):39!==e.keyCode&&40!==e.keyCode||(t=n.getNextTab(t),r=!0,i=!0),r&&e.preventDefault(),i&&n.setSelected(t,e)}},n.handleClick=function(e){var t=e.target;do{if(n.isTabFromContainer(t)){if(m(t))return;var r=[].slice.call(t.parentNode.children).filter(f).indexOf(t);return void n.setSelected(r,e)}}while(null!==(t=t.parentNode))},t||n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.setSelected=function(e,t){e<0||e>=this.getTabsCount()||this.props.onSelect(e,this.props.selectedIndex,t)},n.getNextTab=function(e){for(var t=this.getTabsCount(),n=e+1;n<t;n++)if(!m(this.getTab(n)))return n;for(var r=0;r<e;r++)if(!m(this.getTab(r)))return r;return e},n.getPrevTab=function(e){for(var t=e;t--;)if(!m(this.getTab(t)))return t;for(t=this.getTabsCount();t-- >e;)if(!m(this.getTab(t)))return t;return e},n.getTabsCount=function(){return d(this.props.children)},n.getPanelsCount=function(){return function(e){var t=0;return l(e,function(e){i(e)&&t++}),t}(this.props.children)},n.getTab=function(e){return this.tabNodes["tabs-"+e]},n.getChildren=function(){var e=this,t=0,n=this.props,a=n.children,s=n.disabledTabClassName,l=n.focus,p=n.forceRenderTabPanel,d=n.selectedIndex,h=n.selectedTabClassName,f=n.selectedTabPanelClassName;this.tabIds=this.tabIds||[],this.panelIds=this.panelIds||[];for(var m=this.tabIds.length-this.getTabsCount();m++<0;)this.tabIds.push(u()),this.panelIds.push(u());return c(a,function(n){var a=n;if(o(n)){var u=0,m=!1;b&&(m=w.a.Children.toArray(n.props.children).filter(r).some(function(t,n){return document.activeElement===e.getTab(n)})),a=Object(E.cloneElement)(n,{children:c(n.props.children,function(t){var n="tabs-"+u,r=d===u,i={tabRef:function(t){e.tabNodes[n]=t},id:e.tabIds[u],panelId:e.panelIds[u],selected:r,focus:r&&(l||m)};return h&&(i.selectedClassName=h),s&&(i.disabledClassName=s),u++,Object(E.cloneElement)(t,i)})})}else if(i(n)){var g={id:e.panelIds[t],tabId:e.tabIds[t],selected:d===t};p&&(g.forceRender=p),f&&(g.selectedClassName=f),t++,a=Object(E.cloneElement)(n,g)}return a})},n.isTabFromContainer=function(e){if(!f(e))return!1;var t=e.parentElement;do{if(t===this.node)return!0;if(t.getAttribute("data-tabs"))break;t=t.parentElement}while(t);return!1},n.render=function(){var e=this,t=this.props,n=(t.children,t.className),r=(t.disabledTabClassName,t.domRef),i=(t.focus,t.forceRenderTabPanel,t.onSelect,t.selectedIndex,t.selectedTabClassName,t.selectedTabPanelClassName,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName"]));return w.a.createElement("div",h({},i,{className:S()(n),onClick:this.handleClick,onKeyDown:this.handleKeyDown,ref:function(t){e.node=t,r&&r(t)},"data-tabs":!0}),this.getChildren())},t}(E.Component);C.defaultProps={className:"react-tabs",focus:!1},C.propTypes={};var O=function(e){function t(n){var r;return r=e.call(this,n)||this,r.handleSelected=function(e,n,i){if("function"!=typeof r.props.onSelect||!1!==r.props.onSelect(e,n,i)){var o={focus:"keydown"===i.type};t.inUncontrolledMode(r.props)&&(o.selectedIndex=e),r.setState(o)}},r.state=t.copyPropsToState(r.props,{},r.props.defaultFocus),r}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.setState(function(n){return t.copyPropsToState(e,n)})},t.inUncontrolledMode=function(e){return null===e.selectedIndex},t.copyPropsToState=function(e,n,r){void 0===r&&(r=!1);var i={focus:r};if(t.inUncontrolledMode(e)){var o=d(e.children)-1,a=null;a=null!=n.selectedIndex?Math.min(n.selectedIndex,o):e.defaultIndex||0,i.selectedIndex=a}return i},n.render=function(){var e=this.props,t=e.children,n=(e.defaultIndex,e.defaultFocus,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["children","defaultIndex","defaultFocus"]));return n.focus=this.state.focus,n.onSelect=this.handleSelected,null!=this.state.selectedIndex&&(n.selectedIndex=this.state.selectedIndex),w.a.createElement(C,n,t)},t}(E.Component);O.defaultProps={defaultFocus:!1,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null},O.propTypes={},O.tabsRole="Tabs";var x=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);return t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["children","className"]);return w.a.createElement("ul",g({},r,{className:S()(n),role:"tablist"}),t)},t}(E.Component);x.defaultProps={className:"react-tabs__tab-list"},x.propTypes={},x.tabsRole="TabList";var k="react-tabs__tab",j=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.componentDidMount=function(){this.checkFocus()},n.componentDidUpdate=function(){this.checkFocus()},n.checkFocus=function(){this.props.selected&&this.props.focus&&this.node.focus()},n.render=function(){var e,t=this,n=this.props,r=n.children,i=n.className,o=n.disabled,a=n.disabledClassName,s=(n.focus,n.id),c=n.panelId,l=n.selected,u=n.selectedClassName,p=n.tabIndex,d=n.tabRef,h=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"]);return w.a.createElement("li",v({},h,{className:S()(i,(e={},e[u]=l,e[a]=o,e)),ref:function(e){t.node=e,d&&d(e)},role:"tab",id:s,"aria-selected":l?"true":"false","aria-disabled":o?"true":"false","aria-controls":c,tabIndex:p||(l?"0":null)}),r)},t}(E.Component);j.defaultProps={className:k,disabledClassName:k+"--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:k+"--selected"},j.propTypes={},j.tabsRole="Tab";var T="react-tabs__tab-panel",A=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);return t.prototype.render=function(){var e,t=this.props,n=t.children,r=t.className,i=t.forceRender,o=t.id,a=t.selected,s=t.selectedClassName,c=t.tabId,l=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["children","className","forceRender","id","selected","selectedClassName","tabId"]);return w.a.createElement("div",y({},l,{className:S()(r,(e={},e[s]=a,e)),role:"tabpanel",id:o,"aria-labelledby":c}),i||a?n:null)},t}(E.Component);A.defaultProps={className:T,forceRender:!1,selectedClassName:T+"--selected"},A.propTypes={},A.tabsRole="TabPanel",n.d(t,"a",function(){return j}),n.d(t,"b",function(){return x}),n.d(t,"c",function(){return A}),n.d(t,"d",function(){return O}),n.d(t,!1,function(){return p})},216:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o});var r=2,i=function(e){return e?void 0:"Please enter a description"},o=function(e){return e&&e.text&&e.text.length<r?"Please enter at least "+r+" characters":void 0}},217:function(e,t,n){"use strict";var r=n(1),i=n.n(r);i.a.shape({value:i.a.string,onChange:i.a.func,onFocus:i.a.func,onBlur:i.a.func}),i.a.shape({touched:i.a.bool,error:i.a.string,invalid:i.a.bool}),i.a.shape({touched:i.a.bool,error:i.a.string,invalid:i.a.bool})},218:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(44),h=n.n(d),f=n(8),m=n.n(f),g=n(30),v=n.n(g),y=n(157),b=(n(217),n(2)),E=n(34),w=n(254),_=n(276),S=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleLabelClick=function(){r.input.focus()},r.handleFocus=function(){r.input.focus(),h.a.findDOMNode(r.input).scrollIntoView()},o=n,a()(r,o)}return c()(t,e),t.prototype.componentDidMount=function(){Object(E.c)("TopicPostCommentEditor:obtainFocus",this.handleFocus)},t.prototype.componentWillUnmount=function(){Object(E.a)("TopicPostCommentEditor:obtainFocus",this.handleFocus)},t.prototype.shouldComponentUpdate=function(e){var t=this.props.meta,n=t.touched,r=t.error,i=t.invalid,o=e.meta,a=o.touched,s=o.error,c=o.invalid;return n!==a||r!==s||i!==c},t.prototype.componentDidUpdate=function(){var e=this.props.input.value,t=e.text,n=e.struct;null===t&&null===n&&this.input.clear()},t.prototype.renderConverseEditor=function(){var e=this,t=this.props,n=t.input,r=n.value,i=r.text,o=r.struct,a=n.onFocus,s=n.onBlur,c=t.meta,l=c.touched,u=c.error,d=c.invalid,h=t.showRichTextOptionsOnMount,f=t.blockModifier,m=t.placeholder,g=t.referenceResearchDialogUrl,v=t.prefilledMentions,y=t.onEditorChange,b=t.showRichTextControlsUnderInput,E=t.mentionDecorator;return p.a.createElement(w.b,{editorRef:function(t){e.input=t},onChange:y,placeholder:m,text:i,structuredData:o,showRichTextOptionsOnMount:h,blockModifier:f,referenceResearchDialogUrl:g,prefilledMentions:v,onFocus:a,onBlur:s,useMentionControls:!1,useHotKeyManager:!1,hasError:l&&d&&!!u,showRichTextControlsUnderInput:b,mentionDecorator:E})},t.prototype.renderConversePlainTextEditor=function(){var e=this,t=this.props,n=t.input,r=n.value.text,i=n.onFocus,o=n.onBlur,a=t.meta,s=a.touched,c=a.error,l=a.invalid,u=t.blockModifier,d=t.placeholder,h=t.onEditorChange;return p.a.createElement(_.a,{ref:function(t){e.input=t},onChange:h,placeholder:d,text:r,blockModifier:u,onFocus:i,onBlur:o,hasError:s&&l&&!!c})},t.prototype.renderInput=function(){return y.a?this.renderConversePlainTextEditor():this.renderConverseEditor()},t.prototype.renderInputWithTooltip=function(){return p.a.createElement(b.Tooltip,{spacing:"m",position:"right-top",mode:"focus",target:this.renderInput()},p.a.createElement(b.Tooltip.Body,null,this.props.tooltipBody))},t.prototype.render=function(){var e=this.props,t=e.meta,n=t.touched,r=t.error,i=t.invalid,o=e.label,a=e.tooltipBody;return p.a.createElement("div",null,p.a.createElement(b.Label,{status:n&&i&&r?"invalid":null,errorMessage:r||null,onClick:this.handleLabelClick},o),a?this.renderInputWithTooltip():this.renderInput())},t}(u.Component);t.a=m()(v()({onEditorChange:function(e){var t=e.input.onChange;return function(e,n){n&&t(e)}}}))(S)},226:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(33),d=n.n(p),h=n(15),f=n.n(h),m=n(2),g=n(59),v=n(180),y=n(322),b=n(130),E=n(143),w=n(203),_=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.state={isRemoved:!1},r.handleViewFile=r.handleViewFile.bind(r),r.handleRemoveAttachment=r.handleRemoveAttachment.bind(r),r.handleUndoRemoveAttachment=r.handleUndoRemoveAttachment.bind(r),r}return c()(t,e),t.prototype.handleViewFile=function(){var e=this.props.link.id,t=this.props.link.metadata.filename;Object(b.p)(this.props.link.id);var n=window.location.pathname,r=n.indexOf(b.a);-1!==r&&(n=n.substring(0,r)),history.pushState(null,null,n.replace(/\/$/,"")+"/"+b.a+e+"/"+t)},t.prototype.handleRemoveAttachment=function(e){this.setState({isRemoved:!0}),this.props.onRemoveAttachment&&this.props.onRemoveAttachment(e)},t.prototype.handleUndoRemoveAttachment=function(){this.setState({isRemoved:!1}),this.props.onUndoRemoveAttachment&&this.props.onUndoRemoveAttachment()},t.prototype.getIconFileExtension=function(){if("bio_sequence"===this.props.link.metadata.assetType)return u.a.createElement(m.Icon,{identifier:"dna"});if(!this.props.link.metadata.mimetype)return null;var e=this.props.link.metadata.mimetype.split("/").pop();return e.length>4?null:e},t.prototype.getSubline=function(){var e=Object(v.a)(this.props.link.metadata.filesize);return u.a.createElement("span",{className:"item-size"},e)},t.prototype.isFilePreviewEnabled=function(){return this.props.isTextFilePreviewEnabled&&"bio_sequence"===this.props.link.metadata.assetType},t.prototype.getImageLargeUrl=function(){return this.props.link.metadata.imageLargeUrl},t.prototype.isImage=function(){return!!this.getImageLargeUrl()},t.prototype.getImagePreviewAction=function(){return u.a.createElement(w.a,{downloadUrl:Object(y.b)(this.props.link,this.props.context),imageUrl:this.getImageLargeUrl(),entityId:this.props.link.entityId,iepl:this.props.ieplView},u.a.createElement(m.Button,{type:"button",theme:"bare",color:"grey"},"View"))},t.prototype.getActions=function(){var e=[];return this.isFilePreviewEnabled()?e.push(u.a.createElement(m.Button,{theme:"bare",color:"grey",onClick:this.handleViewFile},"View")):this.isImage()&&e.push(this.getImagePreviewAction()),this.props.downloadable&&this.props.link.metadata&&this.props.link.metadata.assetDownloadUrl&&e.push(u.a.createElement(m.Button,{type:"button",theme:"bare",color:"grey",href:Object(y.b)(this.props.link,this.props.context,this.props.ieplDownload)},"Download")),this.props.onRemoveAttachment&&(this.state.isRemoved?e.push(u.a.createElement(m.Button,{type:"button",theme:"bare",color:"grey",onClick:this.handleUndoRemoveAttachment},"Undo")):e.push(u.a.createElement(m.Button,{type:"button",theme:"bare",color:"grey",onClick:this.handleRemoveAttachment},"Remove"))),e},t.prototype.render=function(){return u.a.createElement(E.a,{headline:this.props.link.metadata.filename,subline:this.getSubline(),actions:this.getActions(),iconText:this.getIconFileExtension(),isFilePreviewEnabled:this.isFilePreviewEnabled(),isInactive:this.state.isRemoved,attachmentId:this.props.link.id,viewAction:this.handleViewFile})},t}(l.Component);_.defaultProps={downloadable:!0};var S=_,I=n(6),C=n(88),O=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.state={isRemoved:!1},r.handleRemoveAttachment=r.handleRemoveAttachment.bind(r),r.handleUndoRemoveAttachment=r.handleUndoRemoveAttachment.bind(r),r}return c()(t,e),t.prototype.handleRemoveAttachment=function(e){this.setState({isRemoved:!0}),this.props.onRemoveAttachment&&this.props.onRemoveAttachment(e)},t.prototype.handleUndoRemoveAttachment=function(){this.setState({isRemoved:!1}),this.props.onUndoRemoveAttachment&&this.props.onUndoRemoveAttachment()},t.prototype.getHeadline=function(){var e=this.props.title;return this.props.publicationType&&(e=this.props.publicationType+" · "+this.props.title),e},t.prototype.getIconText=function(){return this.props.hasFulltext&&this.props.hasLiteralFulltext?u.a.createElement("span",null,"FULL",u.a.createElement("br",null),"TEXT"):this.props.hasSlurpedFulltext?u.a.createElement("span",null,"PRE-",u.a.createElement("br",null),"VIEW"):u.a.createElement("span",null,"R",u.a.createElement("sup",null,"G"))},t.prototype.getIconClass=function(){return this.props.hasFulltext&&this.props.hasLiteralFulltext||this.props.hasSlurpedFulltext?"attachment-publication-icon-2-line":null},t.prototype.getActions=function(){var e=[],t=f()("action-remove-attachment remove-link");return this.props.publicationUrl&&e.push(u.a.createElement("a",{className:t,href:this.props.publicationUrl},"View")),this.props.onRemoveAttachment&&(this.state.isRemoved?e.push(u.a.createElement("a",{className:t,onClick:this.handleUndoRemoveAttachment},"Undo")):e.push(u.a.createElement("a",{className:t,onClick:this.handleRemoveAttachment},"Remove"))),e},t.prototype.render=function(){return this.props.title?u.a.createElement(E.a,{headline:this.getHeadline(),titleUrl:this.props.publicationUrl,actions:this.getActions(),iconText:this.getIconText(),iconClass:this.getIconClass(),isInactive:this.state.isRemoved,attachmentId:this.props.link.id}):null},t}(l.Component),x=Object(I.connectWidget)(function(e,t){var n=Object(C.c)(e,t);return n?{title:n.title,publicationUrl:n.publicationUrl,publicationType:n.displayablePublicationType,hasSlurpedFulltext:n.hasSlurpedFulltext,hasFulltext:n.hasFulltext,hasLiteralFulltext:n.hasLiteralFulltext}:{}})(O),k=n(227),j=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.state={isRemoved:!1},r.handleRemoveAttachment=r.handleRemoveAttachment.bind(r),r.handleUndoRemoveAttachment=r.handleUndoRemoveAttachment.bind(r),r}return c()(t,e),t.prototype.handleRemoveAttachment=function(e){this.setState({isRemoved:!0}),this.props.onRemoveAttachment&&this.props.onRemoveAttachment(e)},t.prototype.handleUndoRemoveAttachment=function(){this.setState({isRemoved:!1}),this.props.onUndoRemoveAttachment&&this.props.onUndoRemoveAttachment()},t.prototype.getIconText=function(){return u.a.createElement("span",null,"Q&A")},t.prototype.getActions=function(){var e=[],t=f()("action-remove-attachment remove-link");return this.props.postUrl&&e.push(u.a.createElement("a",{className:t,href:this.props.postUrl},"Answer")),this.props.onRemoveAttachment&&(this.state.isRemoved?e.push(u.a.createElement("a",{className:t,onClick:this.handleUndoRemoveAttachment},"Undo")):e.push(u.a.createElement("a",{className:t,onClick:this.handleRemoveAttachment},"Remove"))),e},t.prototype.render=function(){return this.props.title?u.a.createElement(E.a,{headline:""+this.props.title,titleUrl:this.props.postUrl,iconText:this.getIconText(),actions:this.getActions(),isInactive:this.state.isRemoved,attachmentId:this.props.link.id}):null},t}(l.Component),T=Object(I.connectWidget)(function(e,t){var n=Object(k.a)(e,t);return n?{title:n.title,postUrl:n.postUrl}:{}})(j),A=n(17),P=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.state={areAttachmentsExpanded:!1},r.expandAttachments=r.expandAttachments.bind(r),r}return c()(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.areAttachmentsExpanded!==this.state.areAttachmentsExpanded||this.props.links!==e.links},t.prototype.expandAttachments=function(){this.setState({areAttachmentsExpanded:!0})},t.prototype.getAttachmentListItem=function(e){if(!e)return null;var t=A.a.parse(e.entityId);switch(t.type){case A.b.TYPE_ASSET:return this.getAssetListItem(e);case A.b.TYPE_PUBLICATION:return u.a.createElement(x,{key:e.id,link:e,publicationUid:t.id,onRemoveAttachment:this.props.onRemoveAttachment,onUndoRemoveAttachment:this.props.onUndoRemoveAttachment});case A.b.TYPE_POST:return u.a.createElement(T,{key:e.id,link:e,topicPostId:t.id,onRemoveAttachment:this.props.onRemoveAttachment,onUndoRemoveAttachment:this.props.onUndoRemoveAttachment})}return null},t.prototype.getAssetListItem=function(e){return-1===[g.b.ATTACHMENT].indexOf(e.type)?null:u.a.createElement(S,{key:e.id,link:e,context:this.props.context,isTextFilePreviewEnabled:this.props.isTextFilePreviewEnabled,onRemoveAttachment:this.props.onRemoveAttachment,onUndoRemoveAttachment:this.props.onUndoRemoveAttachment,ieplView:this.props.ieplView,ieplDownload:this.props.ieplDownload,downloadable:this.props.areLinksDownloadable})},t.prototype.render=function(){var e=this,t=this.props.links.filter(function(e){return!d()(e)}).map(function(t){return e.getAttachmentListItem(t)}).filter(function(e){return null!==e});if(0===t.length)return null;var n=this.state.areAttachmentsExpanded?t:t.slice(0,this.props.attachmentsLimit),r=n.length<t.length?u.a.createElement(m.Button,{onClick:this.expandAttachments,theme:"bare",color:"grey"},"More"):null,i=f()(this.props.className,{"research-update-item":!0});return u.a.createElement("div",{className:i},n,r)},t}(l.Component);t.a=P;P.defaultProps={attachmentsLimit:3}},227:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){return e.topicsGlobalTopicPosts[t.topicPostId]}},229:function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return h});var r=n(542),i=n.n(r),o=n(232),a=n.n(o),s=n(21),c=(n.n(s),function(e,t){var n=t.publicationUid;return e.publicationFigure[n]}),l=Object(s.createSelector)(c,i()("position")),u=Object(s.createSelector)(c,a.a),p=function(e){return e.publicationFigureStub},d=Object(s.createSelector)(p,Object.values),h=Object(s.createSelector)(p,a.a)},232:function(e,t,n){var r=n(415),i=n(416),o=n(219),a=n(376),s=n(511),c="[object Map]",l="[object Set]";e.exports=function(e){if(null==e)return 0;if(o(e))return a(e)?s(e):e.length;var t=i(e);return t==c||t==l?e.size:r(e).length}},234:function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return m}),n.d(t,"a",function(){return g}),n.d(t,"f",function(){return v}),n.d(t,"e",function(){return y});var r=n(46),i=n.n(r),o=n(43),a=n.n(o),s=n(19),c=n.n(s),l=n(353),u=n.n(l),p=n(126),d=n.n(p),h=function(e,t){var n=a()(e).format();return t?n+" "+c()(t,e):n},f=function(e){return i()(e).format("YYYY-MM-DD")},m=function(e){return a()(e).format("0.00%")},g=function(e){return d()(u()(e))},v=function(e,t){return e.reduce(function(e,n){return n[t]+e},0)},y=function(e,t){return!e||!t||-1!==e.indexOf(t)}},241:function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=(n(1),n(6)),a=n(7),s=n.n(a),c=n(181),l=n(2),u=function(e){var t=e.className,n=e.children;return i.a.createElement("div",{className:t},n)},p=new s.a({name:"double-ad-slot"}),d=Object(o.connectWidget)(function(e,t){var n=t.children;return{items:i.a.Children.map(n,function(t){return{slotId:t.props.slotId,isRendered:Object(c.e)(e,{slotId:t.props.slotId}),item:t}})}})(function(e){var t=e.items,n=t.reduce(function(e,t){return e+t.isRendered},0),r=n>0,o=t.map(function(e){var t=e.slotId,n=e.isRendered,r=e.item;return i.a.createElement("div",Object.assign({key:t},p("slot",n?"ready":"collapsed")),r)}),a=r?i.a.createElement("div",p("header"),i.a.createElement(l.Text,{size:"l"},n>1?"Ads":"Ad"," you may be interested in")):null;return i.a.createElement("div",p({modifier:{ready:r}}),a,o)});d.Item=u;t.a=d},242:function(e,t,n){"use strict";function r(){return x||(T(i),x=j.now()+k)}function i(){x=0}function o(){this._call=this._time=this._next=null}function a(e,t,n){var r=new o;return r.restart(e,t,n),r}function s(){x=(O=j.now())+k,_=S=0;try{!function(){r(),++_;for(var e,t=y;t;)(e=x-t._time)>=0&&t._call.call(null,e),t=t._next;--_}()}finally{_=0,function(){var e,t,n=y,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:y=t);b=e,l(r)}(),x=0}}function c(){var e=j.now(),t=e-O;t>C&&(k-=t,O=e)}function l(e){if(!_){S&&(S=clearTimeout(S));e-x>24?(e<1/0&&(S=setTimeout(s,e-j.now()-k)),I&&(I=clearInterval(I))):(I||(O=j.now(),I=setInterval(c,C)),_=1,T(s))}}function u(e,t){var n=d(e,t);if(n.state>D)throw new Error("too late; already scheduled");return n}function p(e,t){var n=d(e,t);if(n.state>N)throw new Error("too late; already started");return n}function d(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function h(e,t,n){var r=e._id;return e.each(function(){var e=p(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return d(e,r).value[t]}}function f(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function m(e){return Object(E.h)().transition(e)}function g(){return++K}function v(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return $.time=r(),$;return n}var y,b,E=n(36),w=n(348),_=0,S=0,I=0,C=1e3,O=0,x=0,k=0,j="object"==typeof performance&&performance.now?performance:Date,T="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};o.prototype=a.prototype={constructor:o,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?r():+n)+(null==t?0:+t),this._next||b===this||(b?b._next=this:y=this,b=this),this._call=e,this._time=n,l()},stop:function(){this._call&&(this._call=null,this._time=1/0,l())}};var A=function(e,t,n){var r=new o;return t=null==t?0:+t,r.restart(function(n){r.stop(),e(n+t)},t,n),r},P=Object(w.a)("start","end","interrupt"),M=[],D=0,R=1,N=2,L=3,F=4,U=5,B=6,q=function(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){function r(a){var l,u,p,d;if(n.state!==R)return o();for(l in c)if((d=c[l]).name===n.name){if(d.state===L)return A(r);d.state===F?(d.state=B,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete c[l]):+l<t&&(d.state=B,d.timer.stop(),delete c[l])}if(A(function(){n.state===L&&(n.state=F,n.timer.restart(i,n.delay,n.time),i(a))}),n.state=N,n.on.call("start",e,e.__data__,n.index,n.group),n.state===N){for(n.state=L,s=new Array(p=n.tween.length),l=0,u=-1;l<p;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(s[++u]=d);s.length=u+1}}function i(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(o),n.state=U,1),i=-1,a=s.length;++i<a;)s[i].call(null,r);n.state===U&&(n.on.call("end",e,e.__data__,n.index,n.group),o())}function o(){n.state=B,n.timer.stop(),delete c[t];for(var r in c)return;delete e.__transition}var s,c=e.__transition;c[t]=n,n.timer=a(function(e){n.state=R,n.timer.restart(r,n.delay,n.time),n.delay<=e&&r(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:i,on:P,tween:M,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:D})},V=function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){t=null==t?null:t+"";for(i in o)(n=o[i]).name===t?(r=n.state>N&&n.state<U,n.state=B,n.timer.stop(),r&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}},W=n(60),z=n(58),H=function(e,t){var n;return("number"==typeof t?W.c:t instanceof z.a?W.d:(n=Object(z.a)(t))?(t=n,W.d):W.f)(e,t)},Y=E.h.prototype.constructor,K=0,G=E.h.prototype;f.prototype=m.prototype={constructor:f,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(E.i)(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,c,l=r[a],u=l.length,p=o[a]=new Array(u),h=0;h<u;++h)(s=l[h])&&(c=e.call(s,s.__data__,h,l))&&("__data__"in s&&(c.__data__=s.__data__),p[h]=c,q(p[h],t,n,h,p,d(s,n)));return new f(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(E.j)(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,l=r[s],u=l.length,p=0;p<u;++p)if(c=l[p]){for(var h,m=e.call(c,c.__data__,p,l),g=d(c,n),v=0,y=m.length;v<y;++v)(h=m[v])&&q(h,t,n,v,m,g);o.push(m),a.push(c)}return new f(o,a,t,n)},filter:function(e){"function"!=typeof e&&(e=Object(E.c)(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&c.push(o);return new f(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=t[s],u=n[s],p=l.length,d=a[s]=new Array(p),h=0;h<p;++h)(c=l[h]||u[h])&&(d[h]=c);for(;s<r;++s)a[s]=t[s];return new f(a,this._parents,this._name,this._id)},selection:function(){return new Y(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=g(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=d(a,t);q(a,e,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new f(r,this._parents,e,n)},call:G.call,nodes:G.nodes,node:G.node,size:G.size,empty:G.empty,each:G.each,on:function(e,t){var n=this._id;return arguments.length<2?d(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=(t+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?u:p;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}(n,e,t))},attr:function(e,t){var n=Object(E.e)(e),r="transform"===n?W.h:H;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(e.space,e.local))===s?null:a===r&&s===i?o:o=t(r=a,i=s);this.removeAttributeNS(e.space,e.local)}}:function(e,t,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(e))===s?null:a===r&&s===i?o:o=t(r=a,i=s);this.removeAttribute(e)}})(n,r,h(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===r?i:i=t(r=o,n)}}:function(e,t,n){var r,i;return function(){var o=this.getAttribute(e);return o===n?null:o===r?i:i=t(r=o,n)}})(n,r,t+""))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Object(E.e)(e);return this.tween(n,(r.local?function(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttributeNS(e.space,e.local,r(t))}}return n._value=t,n}:function(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttribute(e,r(t))}}return n._value=t,n})(r,t))},style:function(e,t,n){var r="transform"==(e+="")?W.g:H;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=Object(E.k)(this,e),a=(this.style.removeProperty(e),Object(E.k)(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,function(e){return function(){this.style.removeProperty(e)}}(e)):this.styleTween(e,"function"==typeof t?function(e,t,n){var r,i,o;return function(){var a=Object(E.k)(this,e),s=n(this);return null==s&&(this.style.removeProperty(e),s=Object(E.k)(this,e)),a===s?null:a===r&&s===i?o:o=t(r=a,i=s)}}(e,r,h(this,"style."+e,t)):function(e,t,n){var r,i;return function(){var o=Object(E.k)(this,e);return o===n?null:o===r?i:i=t(r=o,n)}}(e,r,t+""),n)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){function r(){var r=this,i=t.apply(r,arguments);return i&&function(t){r.style.setProperty(e,i(t),n)}}return r._value=t,r}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(h(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=d(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var i=p(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=p(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===t){i[c]=s;break}c===l&&i.push(s)}o.tween=i}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){u(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){u(this,e).delay=t}})(t,e)):d(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){p(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){p(this,e).duration=t}})(t,e)):d(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){p(this,e).ease=t}}(t,e)):d(this.node(),t).ease}};(function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n})(3),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),Math.PI,function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158);var Q=2*Math.PI,$=(function e(t,n){function r(e){return t*Math.pow(2,10*--e)*Math.sin((i-e)/n)}var i=Math.asin(1/(t=Math.max(1,t)))*(n/=Q);return r.amplitude=function(t){return e(t,n*Q)},r.period=function(n){return e(t,n)},r}(1,.3),function e(t,n){function r(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+i)/n)}var i=Math.asin(1/(t=Math.max(1,t)))*(n/=Q);return r.amplitude=function(t){return e(t,n*Q)},r.period=function(n){return e(t,n)},r}(1,.3),function e(t,n){function r(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((i-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((i+e)/n))/2}var i=Math.asin(1/(t=Math.max(1,t)))*(n/=Q);return r.amplitude=function(t){return e(t,n*Q)},r.period=function(n){return e(t,n)},r}(1,.3),{time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}});E.h.prototype.interrupt=function(e){return this.each(function(){V(this,e)})},E.h.prototype.transition=function(e){var t,n;e instanceof f?(t=e._id,e=e._name):(t=g(),(n=$).time=r(),e=null==e?null:e+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var s,c=i[a],l=c.length,u=0;u<l;++u)(s=c[u])&&q(s,e,t,u,c,n||v(s,t));return new f(i,this._parents,e,t)};var X=[null],J=function(e,t){var n,r,i=e.__transition;if(i){t=null==t?null:t+"";for(r in i)if((n=i[r]).state>R&&n.name===t)return new f([[e]],X,t,+r)}return null};n.d(t,!1,function(){return m}),n.d(t,!1,function(){return J}),n.d(t,"a",function(){return V})},243:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(20)),p=n(0),d=n.n(p),h=n(2),f=n(196),m=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={isFollowing:r.props.isFollowing},r.openMessageDialog=function(){var e=r.props.sendMessageUrl;widgetLoader.loadWidgetInDialog(e)},r.toggleFollow=function(){var e=r.props,t=e.accountId,n=e.dispatch,i=e.context,o=e.ieplFollow,a=r.state.isFollowing;if(a)n(Object(f.d)(t));else{var s=[t,null,i||null,null,null,null,o||null];n(f.c.apply(void 0,s))}r.setState({isFollowing:!a})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.additionalInfoHeader,n=e.additionalInfoText,r=e.className,i=e.department,o=e.departmentUrl,a=e.fullName,s=e.imageUrl,c=e.institution,l=e.isActionVisible,u=e.metrics,p=e.profileUrl,f=e.reputation,m=e.skills,g=this.state.isFollowing,v=c||f;return d.a.createElement("div",{className:r},d.a.createElement(h.PersonItem,null,d.a.createElement(h.PersonItem.Image,{href:p,imageUrl:s,alt:""}),d.a.createElement(h.PersonItem.Fullname,{href:p},a),v&&d.a.createElement(h.PersonItem.MetaItems,null,f&&d.a.createElement(h.PersonItem.MetaItem,{href:p},d.a.createElement(h.Icon,{identifier:"rg-score"})," ",f),c&&d.a.createElement(h.PersonItem.MetaItem,null,c)),i&&d.a.createElement(h.PersonItem.Info,{title:"Department"},d.a.createElement(h.PersonItem.InfoItem,{href:o},i)),m&&m.length>0&&d.a.createElement(h.PersonItem.Info,{title:"Skills and Expertise"},m.map(function(e,t){return d.a.createElement(h.PersonItem.InfoItem,{key:t,href:e.link},e.name)})),t&&n&&d.a.createElement(h.PersonItem.Info,{title:t},d.a.createElement(h.PersonItem.InfoItem,null,n)),l&&d.a.createElement(h.PersonItem.Actions,null,!0!==this.props.isFollowing&&d.a.createElement(h.PersonItem.Action,{onClick:this.toggleFollow,priority:"tertiary"},g?"Unfollow":"Follow"),!0===this.props.forceFollowButton&&!0===this.props.isFollowing&&d.a.createElement(h.PersonItem.Action,{onClick:this.toggleFollow,priority:"tertiary"},g?"Following":"Follow"),d.a.createElement(h.PersonItem.Action,{onClick:this.openMessageDialog,priority:"tertiary"},"Message")),u&&u.length>0&&d.a.createElement(h.PersonItem.Metrics,null,u.map(function(e,t){return d.a.createElement(h.PersonItem.Metric,{key:t,href:p},e)}))))},t}(p.Component);m.defaultProps={isActionVisible:!0},t.a=Object(u.connect)()(m)},2459:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Arrow=t.Popper=t.Target=t.Manager=void 0;var i=r(n(2460)),o=r(n(2461)),a=r(n(2462)),s=r(n(2464));t.Manager=i.default,t.Target=o.default,t.Popper=a.default,t.Arrow=s.default},2460:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=(r(a),r(n(1))),c=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r._setTargetNode=function(e){r._targetNode=e},r._getTargetNode=function(){return r._targetNode},o=n,i(r,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"getChildContext",value:function(){return{popperManager:{setTargetNode:this._setTargetNode,getTargetNode:this._getTargetNode}}}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.children,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["tag","children"]);return!1!==t?(0,a.createElement)(t,r,n):n}}]),t}();c.childContextTypes={popperManager:s.default.object.isRequired},c.propTypes={tag:s.default.oneOfType([s.default.string,s.default.bool])},c.defaultProps={tag:"div"},t.default=c},2461:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=(r(o),r(n(1))),s=function(e,t){var n=e.component,r=void 0===n?"div":n,a=e.innerRef,s=e.children,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["component","innerRef","children"]),l=t.popperManager,u=function(e){l.setTargetNode(e),"function"==typeof a&&a(e)};if("function"==typeof s){return s({targetProps:{ref:u},restProps:c})}var p=i({},c);return"string"==typeof r?p.ref=u:p.innerRef=u,(0,o.createElement)(r,p,s)};s.contextTypes={popperManager:a.default.object.isRequired},s.propTypes={component:a.default.oneOfType([a.default.node,a.default.func]),innerRef:a.default.func,children:a.default.oneOfType([a.default.node,a.default.func])},t.default=s},2462:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(r(c),r(n(1))),u=r(n(2463)),p=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={},r._setArrowNode=function(e){r._arrowNode=e},r._getTargetNode=function(){return r.context.popperManager.getTargetNode()},r._getOffsets=function(e){return Object.keys(e.offsets).map(function(t){return e.offsets[t]})},r._isDataDirty=function(e){return!r.state.data||JSON.stringify(r._getOffsets(r.state.data))!==JSON.stringify(r._getOffsets(e))},r._updateStateModifier={enabled:!0,order:900,fn:function(e){return r._isDataDirty(e)&&r.setState({data:e}),e}},r._getPopperStyle=function(){var e=r.state.data;if(!r._popper||!e)return{position:"absolute",pointerEvents:"none",opacity:0};var t=e.offsets.popper,n=(t.top,t.left,t.position);return a({position:n},e.styles)},r._getPopperPlacement=function(){return r.state.data?r.state.data.placement:void 0},r._getPopperHide=function(){return r.state.data&&r.state.data.hide?"":void 0},r._getArrowStyle=function(){if(r.state.data&&r.state.data.offsets.arrow){var e=r.state.data.offsets.arrow;return{top:e.top,left:e.left}}return{}},i=n,o(r,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),s(t,[{key:"getChildContext",value:function(){return{popper:{setArrowNode:this._setArrowNode,getArrowStyle:this._getArrowStyle}}}},{key:"componentDidMount",value:function(){this._updatePopper()}},{key:"componentDidUpdate",value:function(e){e.placement===this.props.placement&&e.eventsEnabled===this.props.eventsEnabled||this._updatePopper(),this._popper&&e.children!==this.props.children&&this._popper.scheduleUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyPopper()}},{key:"_updatePopper",value:function(){this._destroyPopper(),this._node&&this._createPopper()}},{key:"_createPopper",value:function(){var e=this.props,t=e.placement,n=e.eventsEnabled,r=a({},this.props.modifiers,{applyStyle:{enabled:!1},updateState:this._updateStateModifier});this._arrowNode&&(r.arrow={element:this._arrowNode}),this._popper=new u.default(this._getTargetNode(),this._node,{placement:t,eventsEnabled:n,modifiers:r}),this._popper.scheduleUpdate()}},{key:"_destroyPopper",value:function(){this._popper&&this._popper.destroy()}},{key:"render",value:function(){var e=this,t=this.props,n=t.component,r=t.innerRef,o=(t.placement,t.eventsEnabled,t.modifiers,t.children),s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["component","innerRef","placement","eventsEnabled","modifiers","children"]),l=function(t){e._node=t,"function"==typeof r&&r(t)},u=this._getPopperStyle(),p=this._getPopperPlacement(),d=this._getPopperHide();if("function"==typeof o){var h;return o({popperProps:(h={ref:l,style:u},i(h,"data-placement",p),i(h,"data-x-out-of-boundaries",d),h),restProps:s,scheduleUpdate:this._popper&&this._popper.scheduleUpdate})}var f=a({},s,{style:a({},s.style,u),"data-placement":p,"data-x-out-of-boundaries":d});return"string"==typeof n?f.ref=l:f.innerRef=l,(0,c.createElement)(n,f,o)}}]),t}();p.contextTypes={popperManager:l.default.object.isRequired},p.childContextTypes={popper:l.default.object.isRequired},p.propTypes={component:l.default.oneOfType([l.default.node,l.default.func]),innerRef:l.default.func,placement:l.default.oneOf(u.default.placements),eventsEnabled:l.default.bool,modifiers:l.default.object,children:l.default.oneOfType([l.default.node,l.default.func])},p.defaultProps={component:"div",placement:"bottom",eventsEnabled:!0,modifiers:{}},t.default=p},2463:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function n(e){return e&&"[object Function]"==={}.toString.call(e)}function r(e,t){if(1!==e.nodeType)return[];var n=getComputedStyle(e,null);return t?n[t]:n}function i(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function o(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=r(e),n=t.overflow,a=t.overflowX,s=t.overflowY;return/(auto|scroll)/.test(n+s+a)?e:o(i(e))}function a(e){var t=e&&e.offsetParent,n=t&&t.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===r(t,"position")?a(t):t:e?e.ownerDocument.documentElement:document.documentElement}function s(e){return null!==e.parentNode?s(e.parentNode):e}function c(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var l=o.commonAncestorContainer;if(e!==l&&t!==l||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||a(e.firstElementChild)===e)}(l)?l:a(l);var u=s(e);return u.host?c(u.host,t):c(e,s(t).host)}function l(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function u(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function p(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],V()?n["offset"+e]+r["margin"+("Height"===e?"Top":"Left")]+r["margin"+("Height"===e?"Bottom":"Right")]:0)}function d(){var e=document.body,t=document.documentElement,n=V()&&getComputedStyle(t);return{height:p("Height",e,t,n),width:p("Width",e,t,n)}}function h(e){return Y({},e,{right:e.left+e.width,bottom:e.top+e.height})}function f(e){var t={};if(V())try{t=e.getBoundingClientRect();var n=l(e,"top"),i=l(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}catch(e){}else t=e.getBoundingClientRect();var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?d():{},s=a.width||e.clientWidth||o.right-o.left,c=a.height||e.clientHeight||o.bottom-o.top,p=e.offsetWidth-s,f=e.offsetHeight-c;if(p||f){var m=r(e);p-=u(m,"x"),f-=u(m,"y"),o.width-=p,o.height-=f}return h(o)}function m(e,t){var n=V(),i="HTML"===t.nodeName,a=f(e),s=f(t),c=o(e),u=r(t),p=parseFloat(u.borderTopWidth,10),d=parseFloat(u.borderLeftWidth,10),m=h({top:a.top-s.top-p,left:a.left-s.left-d,width:a.width,height:a.height});if(m.marginTop=0,m.marginLeft=0,!n&&i){var g=parseFloat(u.marginTop,10),v=parseFloat(u.marginLeft,10);m.top-=p-g,m.bottom-=p-g,m.left-=d-v,m.right-=d-v,m.marginTop=g,m.marginLeft=v}return(n?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=l(t,"top"),i=l(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}(m,t)),m}function g(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===r(e,"position")||g(i(e)))}function v(e,t,n,r){var a={top:0,left:0},s=c(e,t);if("viewport"===r)a=function(e){var t=e.ownerDocument.documentElement,n=m(e,t),r=Math.max(t.clientWidth,window.innerWidth||0),i=Math.max(t.clientHeight,window.innerHeight||0),o=l(t),a=l(t,"left");return h({top:o-n.top+n.marginTop,left:a-n.left+n.marginLeft,width:r,height:i})}(s);else{var u=void 0;"scrollParent"===r?"BODY"===(u=o(i(t))).nodeName&&(u=e.ownerDocument.documentElement):u="window"===r?e.ownerDocument.documentElement:r;var p=m(u,s);if("HTML"!==u.nodeName||g(s))a=p;else{var f=d(),v=f.height,y=f.width;a.top+=p.top-p.marginTop,a.bottom=v+p.top,a.left+=p.left-p.marginLeft,a.right=y+p.left}}return a.left+=n,a.top+=n,a.right-=n,a.bottom-=n,a}function y(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=v(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},c=Object.keys(s).map(function(e){return Y({key:e},s[e],{area:function(e){return e.width*e.height}(s[e])})}).sort(function(e,t){return t.area-e.area}),l=c.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),u=l.length>0?l[0].key:c[0].key,p=e.split("-")[1];return u+(p?"-"+p:"")}function b(e,t,n){return m(n,c(t,n))}function E(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function w(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function _(e,t,n){n=n.split("-")[0];var r=E(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",c=o?"height":"width",l=o?"width":"height";return i[a]=t[a]+t[c]/2-r[c]/2,i[s]=n===s?t[s]-r[l]:t[w(s)],i}function S(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function I(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=S(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",r))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&n(r)&&(t.offsets.popper=h(t.offsets.popper),t.offsets.reference=h(t.offsets.reference),t=r(t,e))}),t}function C(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function O(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length-1;r++){var i=t[r],o=i?""+i+n:e;if(void 0!==document.body.style[o])return o}return null}function x(e){var t=e.ownerDocument;return t?t.defaultView:window}function k(e,t,n,r){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),i||k(o(a.parentNode),t,n,r),r.push(a)}function j(){this.state.eventsEnabled||(this.state=function(e,t,n,r){n.updateBound=r,x(e).addEventListener("resize",n.updateBound,{passive:!0});var i=o(e);return k(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}(this.reference,this.options,this.state,this.scheduleUpdate))}function T(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return x(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function A(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function P(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&A(t[n])&&(r="px"),e.style[n]=t[n]+r})}function M(e,t,n){var r=S(e,function(e){return e.name===t}),i=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function D(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=G.indexOf(e),r=G.slice(n+1).concat(G.slice(0,n));return t?r.reverse():r}function R(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(S(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(c)[0]]),[a[s].split(c)[1]].concat(a.slice(s+1))]:[a];return(l=l.map(function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return h(s)[t]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,i,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){A(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))})}),i}for(var N="undefined"!=typeof window&&"undefined"!=typeof document,L=["Edge","Trident","Firefox"],F=0,U=0;U<L.length;U+=1)if(N&&navigator.userAgent.indexOf(L[U])>=0){F=1;break}var B=N&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},F))}},q=void 0,V=function(){return void 0===q&&(q=-1!==navigator.appVersion.indexOf("MSIE 10")),q},W=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),H=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],G=K.slice(3),Q={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},$={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",l=s?"width":"height",u={start:H({},c,o[c]),end:H({},c,o[c]+o[l]-a[l])};e.offsets.popper=Y({},a,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],c=void 0;return c=A(+n)?[+n,0]:R(n,o,a,s),"left"===s?(o.top+=c[0],o.left-=c[1]):"right"===s?(o.top+=c[0],o.left+=c[1]):"top"===s?(o.left+=c[0],o.top-=c[1]):"bottom"===s&&(o.left+=c[0],o.top+=c[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||a(e.instance.popper);e.instance.reference===n&&(n=a(n));var r=v(e.instance.popper,e.instance.reference,t.padding,n);t.boundaries=r;var i=t.priority,o=e.offsets.popper,s={primary:function(e){var n=o[e];return o[e]<r[e]&&!t.escapeWithReference&&(n=Math.max(o[e],r[e])),H({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=o[n];return o[e]>r[e]&&!t.escapeWithReference&&(i=Math.min(o[n],r[e]-("right"===e?o.width:o.height))),H({},n,i)}};return i.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";o=Y({},o,s[t](e))}),e.offsets.popper=o,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",c=a?"left":"top",l=a?"width":"height";return n[s]<o(r[c])&&(e.offsets.popper[c]=o(r[c])-n[l]),n[c]>o(r[s])&&(e.offsets.popper[c]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!M(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],a=e.offsets,s=a.popper,c=a.reference,l=-1!==["left","right"].indexOf(o),u=l?"height":"width",p=l?"Top":"Left",d=p.toLowerCase(),f=l?"left":"top",m=l?"bottom":"right",g=E(i)[u];c[m]-g<s[d]&&(e.offsets.popper[d]-=s[d]-(c[m]-g)),c[d]+g>s[m]&&(e.offsets.popper[d]+=c[d]+g-s[m]),e.offsets.popper=h(e.offsets.popper);var v=c[d]+c[u]/2-g/2,y=r(e.instance.popper),b=parseFloat(y["margin"+p],10),w=parseFloat(y["border"+p+"Width"],10),_=v-e.offsets.popper[d]-b-w;return _=Math.max(Math.min(s[u]-g,_),0),e.arrowElement=i,e.offsets.arrow=(n={},H(n,d,Math.round(_)),H(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(C(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=v(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),r=e.placement.split("-")[0],i=w(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case Q.FLIP:a=[r,i];break;case Q.CLOCKWISE:a=D(r);break;case Q.COUNTERCLOCKWISE:a=D(r,!0);break;default:a=t.behavior}return a.forEach(function(s,c){if(r!==s||a.length===c+1)return e;r=e.placement.split("-")[0],i=w(r);var l=e.offsets.popper,u=e.offsets.reference,p=Math.floor,d="left"===r&&p(l.right)>p(u.left)||"right"===r&&p(l.left)<p(u.right)||"top"===r&&p(l.bottom)>p(u.top)||"bottom"===r&&p(l.top)<p(u.bottom),h=p(l.left)<p(n.left),f=p(l.right)>p(n.right),m=p(l.top)<p(n.top),g=p(l.bottom)>p(n.bottom),v="left"===r&&h||"right"===r&&f||"top"===r&&m||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===o&&h||y&&"end"===o&&f||!y&&"start"===o&&m||!y&&"end"===o&&g);(d||v||b)&&(e.flipped=!0,(d||v)&&(r=a[c+1]),b&&(o="end"===o?"start":"start"===o?"end":o),e.placement=r+(o?"-"+o:""),e.offsets.popper=Y({},e.offsets.popper,_(e.instance.popper,e.offsets.reference,e.placement)),e=I(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=w(t),e.offsets.popper=h(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!M(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=S(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=S(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,c=f(a(e.instance.popper)),l={position:i.position},u={left:Math.floor(i.left),top:Math.floor(i.top),bottom:Math.floor(i.bottom),right:Math.floor(i.right)},p="bottom"===n?"top":"bottom",d="right"===r?"left":"right",h=O("transform"),m=void 0,g=void 0;if(g="bottom"===p?-c.height+u.bottom:u.top,m="right"===d?-c.width+u.right:u.left,s&&h)l[h]="translate3d("+m+"px, "+g+"px, 0)",l[p]=0,l[d]=0,l.willChange="transform";else{var v="bottom"===p?-1:1,y="right"===d?-1:1;l[p]=g*v,l[d]=m*y,l.willChange=p+", "+d}var b={"x-placement":e.placement};return e.attributes=Y({},b,e.attributes),e.styles=Y({},l,e.styles),e.arrowStyles=Y({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return P(e.instance.popper,e.styles),function(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&P(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=b(0,t,e),a=y(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),P(t,{position:"absolute"}),n},gpuAcceleration:void 0}}},X=function(){function e(t,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};W(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=B(this.update.bind(this)),this.options=Y({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(Y({},e.Defaults.modifiers,o.modifiers)).forEach(function(t){i.options.modifiers[t]=Y({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return Y({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&n(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return z(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=b(this.state,this.popper,this.reference),e.placement=y(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=_(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=I(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,C(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[O("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return j.call(this)}},{key:"disableEventListeners",value:function(){return T.call(this)}}]),e}();X.Utils=("undefined"!=typeof window?window:e).PopperUtils,X.placements=K,X.Defaults=$,t.default=X}.call(t,n(81))},2464:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=(r(o),r(n(1))),s=function(e,t){var n=e.component,r=void 0===n?"span":n,a=e.innerRef,s=e.children,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["component","innerRef","children"]),l=t.popper,u=function(e){l.setArrowNode(e),"function"==typeof a&&a(e)},p=l.getArrowStyle();if("function"==typeof s){return s({arrowProps:{ref:u,style:p},restProps:c})}var d=i({},c,{style:i({},p,c.style)});return"string"==typeof r?d.ref=u:d.innerRef=u,(0,o.createElement)(r,d,s)};s.contextTypes={popper:a.default.object.isRequired},s.propTypes={component:a.default.oneOfType([a.default.node,a.default.func]),innerRef:a.default.func,children:a.default.oneOfType([a.default.node,a.default.func])},t.default=s},2589:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},2590:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},263:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return u}),t.c=function(e){return o.a.parse(e).type===o.b.TYPE_ACCOUNT};var r,i,o=n(17),a={CITED:"cited",FOLLOWED:"followed",READ:"read",RECOMMENDED:"recommended",VIEWED:"viewed",DOWNLOADED:"downloaded"},s={MOST_MONTHLY:"most_monthly",MOST_WEEKLY:"most_weekly",MILESTONE:"milestone"},c={PUBLICATIONS:"publications",PROJECTS:"projects",QUESTIONS:"questions",ANSWERS:"answers",PROJECT_UPDATES:"projectUpdates",RESEARCH:"research"},l=(r={},r[o.b.TYPE_INSTITUTION]=o.b.TYPE_INSTITUTION,r[o.b.TYPE_DEPARTMENT]=o.b.TYPE_DEPARTMENT,r[o.b.TYPE_SCIENCE]=o.b.TYPE_SCIENCE,r[o.b.TYPE_COUNTRY]=o.b.TYPE_COUNTRY,r),u=(i={},i[o.b.TYPE_ACCOUNT]=o.b.TYPE_ACCOUNT,i[o.b.TYPE_PUBLICATION]=o.b.TYPE_PUBLICATION,i[o.b.TYPE_PROJECT]=o.b.TYPE_PROJECT,i[o.b.TYPE_POST]=o.b.TYPE_POST,i[o.b.TYPE_MESSAGE]=o.b.TYPE_MESSAGE,i)},264:function(e,t,n){"use strict";var r=n(1),i=n.n(r);i.a.shape({shown:i.a.bool.isRequired,title:i.a.string,description:i.a.string,context:i.a.string,UIDs:i.a.array.isRequired})},265:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e.projectsShare.get("recommendAlert")}},266:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(15),d=n.n(p),h=n(6),f=n(21),m=n(19),g=n.n(m),v=n(43),y=n.n(v),b=n(22),E=n.n(b),w=n(2),_=n(88),S=n(395),I=n(281),C=n(7),O=n.n(C),x=n(24),k=new O.a("project-updates-rich-attachment-item"),j=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.handleRemoveAttachment=function(e){r.setState({isRemoved:!0}),r.props.onRemoveAttachment&&r.props.onRemoveAttachment(e)},r.handleUndoRemoveAttachment=function(){r.setState({isRemoved:!1}),r.props.onUndoRemoveAttachment&&r.props.onUndoRemoveAttachment()},r.state={isRemoved:!1},r}return c()(t,e),t.prototype.getActions=function(){if(!this.props.shouldShowActions)return null;var e=[];return this.props.publicationUrl&&e.push(u.a.createElement(w.PublicationItem.Action,{key:"view",href:this.props.publicationUrl},"View")),this.props.onRemoveAttachment&&(this.state.isRemoved?e.push(u.a.createElement(w.PublicationItem.Action,{key:"undo",onClick:this.handleUndoRemoveAttachment},"Undo")):e.push(u.a.createElement(w.PublicationItem.Action,{key:"remove",onClick:this.handleRemoveAttachment},"Remove"))),u.a.createElement(w.PublicationItem.Actions,null,e)},t.prototype.render=function(){var e=this.props,t=e.publicationUid,n=e.publicationUrl,r=e.title,i=e.displayablePublicationType,o=e.metaItems,a=e.commentsCount,s=e.citationsCount,c=e.className;return n?u.a.createElement("div",k({extra:c}),u.a.createElement(w.PublicationItem,null,u.a.createElement(w.PublicationItem.Title,{href:n},r),u.a.createElement(w.PublicationItem.Type,null,i),o&&o.length>0&&u.a.createElement(w.PublicationItem.MetaItems,null,o.map(function(e,t){return u.a.createElement(w.PublicationItem.MetaItem,{key:t},e)})),u.a.createElement(I.a,{publicationUid:t}),this.getActions(),(a||s)&&u.a.createElement(w.PublicationItem.Metrics,null,a>0&&u.a.createElement(w.PublicationItem.Metric,null,y()(a).format("0,0")+" "+g()("Comment",a)),s>0&&u.a.createElement(w.PublicationItem.Metric,null,y()(s).format("0,0")+" "+g()("Citation",s))))):u.a.createElement("div",{className:"project-updates-rich-attachment-item"},u.a.createElement(w.Text,{size:"l",spacing:"xs"},r))},t}(l.Component);j.defaultProps={shouldShowActions:!0};var T=Object(f.createSelector)([_.c,S.a,S.b],function(e,t,n){if(!e)return{};var r=E()(e,"journal.title",""),i=[];return e.displayablePublicationDate&&i.push(e.displayablePublicationDate),r&&i.push(r),{title:e.title,publicationUrl:Object(x.a)(e.publicationUrl,{ev:"project"}),displayablePublicationType:e.displayablePublicationType,metaItems:i,commentsCount:t,citationsCount:n}}),A=Object(h.connectWidget)(T)(j),P=n(227),M=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.handleRemoveAttachment=function(e){r.setState({isRemoved:!0}),r.props.onRemoveAttachment&&r.props.onRemoveAttachment(e)},r.handleUndoRemoveAttachment=function(){r.setState({isRemoved:!1}),r.props.onUndoRemoveAttachment&&r.props.onUndoRemoveAttachment()},r.state={isRemoved:!1},r}return c()(t,e),t.prototype.getActions=function(){if(!this.props.shouldShowActions)return null;var e=[];return this.props.postUrl&&e.push(u.a.createElement(w.PublicationItem.Action,{key:"view",href:this.props.postUrl},"View")),this.props.onRemoveAttachment&&(this.state.isRemoved?e.push(u.a.createElement(w.PublicationItem.Action,{key:"undo",onClick:this.handleUndoRemoveAttachment},"Undo")):e.push(u.a.createElement(w.PublicationItem.Action,{key:"remove",onClick:this.handleRemoveAttachment},"Remove"))),u.a.createElement(w.PublicationItem.Actions,null,e)},t.prototype.render=function(){var e=this.props,t=e.postUrl,n=e.title,r=e.displayablePostDate;return t?u.a.createElement("div",{className:"project-updates-rich-attachment-item"},u.a.createElement(w.PublicationItem,null,u.a.createElement(w.PublicationItem.Title,{href:t},n),u.a.createElement(w.PublicationItem.Type,null,"Question"),u.a.createElement(w.PublicationItem.MetaItems,null,u.a.createElement(w.PublicationItem.MetaItem,null,r)),this.getActions())):u.a.createElement("div",{className:"project-updates-rich-attachment-item"},u.a.createElement(w.Text,{size:"l",spacing:"xs"},n))},t}(l.Component),D=Object(f.createSelector)(P.a,function(e){return e?{title:e.title,postUrl:e.postUrl,displayablePostDate:e.displayablePostDate}:{}}),R=Object(h.connectWidget)(D)(M),N=n(17),L=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.links!==e.links},t.prototype.getAttachmentListItem=function(e){var t=N.a.parse(e.entityId);switch(t.type){case N.b.TYPE_PUBLICATION:return u.a.createElement(A,{key:e.id,link:e,publicationUid:t.id,onRemoveAttachment:this.props.onRemoveAttachment,onUndoRemoveAttachment:this.props.onUndoRemoveAttachment,shouldShowActions:this.props.shouldShowActions});case N.b.TYPE_POST:return u.a.createElement(R,{key:e.id,link:e,topicPostId:t.id,onRemoveAttachment:this.props.onRemoveAttachment,onUndoRemoveAttachment:this.props.onUndoRemoveAttachment,shouldShowActions:this.props.shouldShowActions})}return null},t.prototype.render=function(){var e=this,t=this.props.links;this.props.attachmentsLimit&&(t=t.slice(0,this.props.attachmentsLimit));var n=t.map(function(t){return e.getAttachmentListItem(t)}).filter(function(e){return null!==e});if(0===n.length)return null;var r=d()(this.props.className,{"research-update-item":!0});return u.a.createElement("div",{className:r},n)},t}(l.Component);t.a=L;L.defaultProps={shouldShowActions:!0}},2711:function(e,t,n){(function(e,r){var i;(function(){function o(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function c(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function l(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function u(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function p(e,t){return!!(null==e?0:e.length)&&b(e,t,0)>-1}function d(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function h(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function f(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function m(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function g(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function v(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function y(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function b(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):y(e,E,n)}function E(e){return e!=e}function w(e,t){var n=null==e?0:e.length;return n?C(e,t)/n:ve}function _(e){return function(t){return null==t?B:t[e]}}function S(e){return function(t){return null==e?B:e[t]}}function I(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function C(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==B&&(n=n===B?o:n+o)}return n}function O(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function x(e){return function(t){return e(t)}}function k(e,t){return h(t,function(t){return e[t]})}function j(e,t){return e.has(t)}function T(e,t){for(var n=-1,r=e.length;++n<r&&b(t,e[n],0)>-1;);return n}function A(e,t){for(var n=e.length;n--&&b(t,e[n],0)>-1;);return n}function P(e){return"\\"+gn[e]}function M(e){return un.test(e)}function D(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function R(e,t){return function(n){return e(t(n))}}function N(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Y||(e[n]=Y,o[i++]=n)}return o}function L(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function F(e){return M(e)?function(e){var t=cn.lastIndex=0;for(;cn.test(e);)++t;return t}(e):Mn(e)}function U(e){return M(e)?function(e){return e.match(cn)||[]}(e):function(e){return e.split("")}(e)}var B,q=200,V="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",W="Expected a function",z="__lodash_hash_undefined__",H=500,Y="__lodash_placeholder__",K=1,G=2,Q=4,$=1,X=2,J=1,Z=2,ee=4,te=8,ne=16,re=32,ie=64,oe=128,ae=256,se=512,ce=30,le="...",ue=800,pe=16,de=1,he=2,fe=1/0,me=9007199254740991,ge=1.7976931348623157e308,ve=NaN,ye=4294967295,be=ye-1,Ee=ye>>>1,we=[["ary",oe],["bind",J],["bindKey",Z],["curry",te],["curryRight",ne],["flip",se],["partial",re],["partialRight",ie],["rearg",ae]],_e="[object Arguments]",Se="[object Array]",Ie="[object AsyncFunction]",Ce="[object Boolean]",Oe="[object Date]",xe="[object DOMException]",ke="[object Error]",je="[object Function]",Te="[object GeneratorFunction]",Ae="[object Map]",Pe="[object Number]",Me="[object Null]",De="[object Object]",Re="[object Proxy]",Ne="[object RegExp]",Le="[object Set]",Fe="[object String]",Ue="[object Symbol]",Be="[object Undefined]",qe="[object WeakMap]",Ve="[object WeakSet]",We="[object ArrayBuffer]",ze="[object DataView]",He="[object Float32Array]",Ye="[object Float64Array]",Ke="[object Int8Array]",Ge="[object Int16Array]",Qe="[object Int32Array]",$e="[object Uint8Array]",Xe="[object Uint8ClampedArray]",Je="[object Uint16Array]",Ze="[object Uint32Array]",et=/\b__p \+= '';/g,tt=/\b(__p \+=) '' \+/g,nt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,rt=/&(?:amp|lt|gt|quot|#39);/g,it=/[&<>"']/g,ot=RegExp(rt.source),at=RegExp(it.source),st=/<%-([\s\S]+?)%>/g,ct=/<%([\s\S]+?)%>/g,lt=/<%=([\s\S]+?)%>/g,ut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pt=/^\w*$/,dt=/^\./,ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ft=/[\\^$.*+?()[\]{}|]/g,mt=RegExp(ft.source),gt=/^\s+|\s+$/g,vt=/^\s+/,yt=/\s+$/,bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Et=/\{\n\/\* \[wrapped with (.+)\] \*/,wt=/,? & /,_t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,St=/\\(\\)?/g,It=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ct=/\w*$/,Ot=/^[-+]0x[0-9a-f]+$/i,xt=/^0b[01]+$/i,kt=/^\[object .+?Constructor\]$/,jt=/^0o[0-7]+$/i,Tt=/^(?:0|[1-9]\d*)$/,At=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pt=/($^)/,Mt=/['\n\r\u2028\u2029\\]/g,Dt="\\ud800-\\udfff",Rt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Nt="a-z\\xdf-\\xf6\\xf8-\\xff",Lt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ft="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ut="["+Dt+"]",Bt="["+Ft+"]",qt="["+Rt+"]",Vt="\\d+",Wt="[\\u2700-\\u27bf]",zt="["+Nt+"]",Ht="[^"+Dt+Ft+Vt+"\\u2700-\\u27bf"+Nt+Lt+"]",Yt="\\ud83c[\\udffb-\\udfff]",Kt="[^"+Dt+"]",Gt="(?:\\ud83c[\\udde6-\\uddff]){2}",Qt="[\\ud800-\\udbff][\\udc00-\\udfff]",$t="["+Lt+"]",Xt="(?:"+zt+"|"+Ht+")",Jt="(?:"+$t+"|"+Ht+")",Zt="(?:['’](?:d|ll|m|re|s|t|ve))?",en="(?:['’](?:D|LL|M|RE|S|T|VE))?",tn="(?:"+qt+"|"+Yt+")"+"?",nn="[\\ufe0e\\ufe0f]?"+tn+("(?:\\u200d(?:"+[Kt,Gt,Qt].join("|")+")[\\ufe0e\\ufe0f]?"+tn+")*"),rn="(?:"+[Wt,Gt,Qt].join("|")+")"+nn,on="(?:"+[Kt+qt+"?",qt,Gt,Qt,Ut].join("|")+")",an=RegExp("['’]","g"),sn=RegExp(qt,"g"),cn=RegExp(Yt+"(?="+Yt+")|"+on+nn,"g"),ln=RegExp([$t+"?"+zt+"+"+Zt+"(?="+[Bt,$t,"$"].join("|")+")",Jt+"+"+en+"(?="+[Bt,$t+Xt,"$"].join("|")+")",$t+"?"+Xt+"+"+Zt,$t+"+"+en,"\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Vt,rn].join("|"),"g"),un=RegExp("[\\u200d"+Dt+Rt+"\\ufe0e\\ufe0f]"),pn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,dn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hn=-1,fn={};fn[He]=fn[Ye]=fn[Ke]=fn[Ge]=fn[Qe]=fn[$e]=fn[Xe]=fn[Je]=fn[Ze]=!0,fn[_e]=fn[Se]=fn[We]=fn[Ce]=fn[ze]=fn[Oe]=fn[ke]=fn[je]=fn[Ae]=fn[Pe]=fn[De]=fn[Ne]=fn[Le]=fn[Fe]=fn[qe]=!1;var mn={};mn[_e]=mn[Se]=mn[We]=mn[ze]=mn[Ce]=mn[Oe]=mn[He]=mn[Ye]=mn[Ke]=mn[Ge]=mn[Qe]=mn[Ae]=mn[Pe]=mn[De]=mn[Ne]=mn[Le]=mn[Fe]=mn[Ue]=mn[$e]=mn[Xe]=mn[Je]=mn[Ze]=!0,mn[ke]=mn[je]=mn[qe]=!1;var gn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vn=parseFloat,yn=parseInt,bn="object"==typeof e&&e&&e.Object===Object&&e,En="object"==typeof self&&self&&self.Object===Object&&self,wn=bn||En||Function("return this")(),_n="object"==typeof t&&t&&!t.nodeType&&t,Sn=_n&&"object"==typeof r&&r&&!r.nodeType&&r,In=Sn&&Sn.exports===_n,Cn=In&&bn.process,On=function(){try{return Cn&&Cn.binding&&Cn.binding("util")}catch(e){}}(),xn=On&&On.isArrayBuffer,kn=On&&On.isDate,jn=On&&On.isMap,Tn=On&&On.isRegExp,An=On&&On.isSet,Pn=On&&On.isTypedArray,Mn=_("length"),Dn=S({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Rn=S({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Nn=S({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ln=function e(t){function n(e){if(eo(e)&&!zs(e)&&!(e instanceof S)){if(e instanceof i)return e;if(zo.call(e,"__wrapped__"))return Si(e)}return new i(e)}function r(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=B}function S(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ye,this.__views__=[]}function Dt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Nt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Lt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Nt;++t<n;)this.add(e[t])}function Ft(e){var t=this.__data__=new Rt(e);this.size=t.size}function Ut(e,t){var n=zs(e),r=!n&&Ws(e),i=!n&&!r&&Ys(e),o=!n&&!r&&!i&&Xs(e),a=n||r||i||o,s=a?O(e.length,Lo):[],c=s.length;for(var l in e)!t&&!zo.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||li(l,c))||s.push(l);return s}function Bt(e){var t=e.length;return t?e[Jn(0,t-1)]:B}function qt(e,t,n){(n===B||Yi(e[t],n))&&(n!==B||t in e)||Ht(e,t,n)}function Vt(e,t,n){var r=e[t];zo.call(e,t)&&Yi(r,n)&&(n!==B||t in e)||Ht(e,t,n)}function Wt(e,t){for(var n=e.length;n--;)if(Yi(e[n][0],t))return n;return-1}function zt(e,t){return e&&Or(t,mo(t),e)}function Ht(e,t,n){"__proto__"==t&&ca?ca(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Yt(e,t){for(var n=-1,r=t.length,i=To(r),o=null==e;++n<r;)i[n]=o?B:ho(e,t[n]);return i}function Kt(e,t,n){return e==e&&(n!==B&&(e=e<=n?e:n),t!==B&&(e=e>=t?e:t)),e}function Gt(e,t,n,r,i,s){var l,u=t&K,p=t&G,d=t&Q;if(n&&(l=i?n(e,r,i,s):n(e)),l!==B)return l;if(!Zi(e))return e;var h=zs(e);if(h){if(l=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&zo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return Cr(e,l)}else{var f=es(e),g=f==je||f==Te;if(Ys(e))return br(e,u);if(f==De||f==_e||g&&!i){if(l=p||g?{}:si(e),!u)return p?function(e,t){return Or(e,Za(e),t)}(e,function(t,n){return t&&Or(e,go(e),t)}(l)):function(e,t){return Or(e,Ja(e),t)}(e,zt(l,e))}else{if(!mn[f])return i?e:{};l=function(e,t,n,r){var i=e.constructor;switch(t){case We:return Er(e);case Ce:case Oe:return new i(+e);case ze:return function(e,t){var n=r?Er(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e);case He:case Ye:case Ke:case Ge:case Qe:case $e:case Xe:case Je:case Ze:return wr(e,r);case Ae:return function(e,t,i){return m(r?n(D(e),K):D(e),o,new e.constructor)}(e);case Pe:case Fe:return new i(e);case Ne:return function(e){var t=new e.constructor(e.source,Ct.exec(e));return t.lastIndex=e.lastIndex,t}(e);case Le:return function(e,t,i){return m(r?n(L(e),K):L(e),a,new e.constructor)}(e);case Ue:return function(e){return Ua?Ro(Ua.call(e)):{}}(e)}}(e,f,Gt,u)}}s||(s=new Ft);var v=s.get(e);if(v)return v;s.set(e,l);var y=h?B:(d?p?Zr:Jr:p?go:mo)(e);return c(y||e,function(r,i){y&&(r=e[i=r]),Vt(l,i,Gt(r,t,n,i,e,s))}),l}function Qt(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ro(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===B&&!(i in e)||!o(a))return!1}return!0}function $t(e,t,n){if("function"!=typeof e)throw new Fo(W);return rs(function(){e.apply(B,n)},t)}function Xt(e,t,n,r){var i=-1,o=p,a=!0,s=e.length,c=[],l=t.length;if(!s)return c;n&&(t=h(t,x(n))),r?(o=d,a=!1):t.length>=q&&(o=j,a=!1,t=new Lt(t));e:for(;++i<s;){var u=e[i],f=null==n?u:n(u);if(u=r||0!==u?u:0,a&&f==f){for(var m=l;m--;)if(t[m]===f)continue e;c.push(u)}else o(t,f,r)||c.push(u)}return c}function Jt(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===B?a==a&&!io(a):n(a,s)))var s=a,c=o}return c}function Zt(e,t){var n=[];return Va(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function en(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=ci),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?en(s,t-1,n,r,i):f(i,s):r||(i[i.length]=s)}return i}function tn(e,t){return e&&za(e,t,mo)}function nn(e,t){return e&&Ha(e,t,mo)}function rn(e,t){return u(t,function(t){return $i(e[t])})}function on(e,t){for(var n=0,r=(t=vr(t,e)).length;null!=e&&n<r;)e=e[wi(t[n++])];return n&&n==r?e:B}function cn(e,t,n){var r=t(e);return zs(e)?r:f(r,n(e))}function un(e){return null==e?e===B?Be:Me:sa&&sa in Ro(e)?function(e){var t=zo.call(e,sa),n=e[sa];try{e[sa]=B;var r=!0}catch(e){}var i=Ko.call(e);return r&&(t?e[sa]=n:delete e[sa]),i}(e):function(e){return Ko.call(e)}(e)}function gn(e,t){return e>t}function bn(e,t){return null!=e&&zo.call(e,t)}function En(e,t){return null!=e&&t in Ro(e)}function _n(e,t,n){for(var r=n?d:p,i=e[0].length,o=e.length,a=o,s=To(o),c=1/0,l=[];a--;){var u=e[a];a&&t&&(u=h(u,x(t))),c=Ea(u.length,c),s[a]=!n&&(t||i>=120&&u.length>=120)?new Lt(a&&u):B}u=e[0];var f=-1,m=s[0];e:for(;++f<i&&l.length<c;){var g=u[f],v=t?t(g):g;if(g=n||0!==g?g:0,!(m?j(m,v):r(l,v,n))){for(a=o;--a;){var y=s[a];if(!(y?j(y,v):r(e[a],v,n)))continue e}m&&m.push(v),l.push(g)}}return l}function Sn(e,t,n){var r=null==(e=vi(e,t=vr(t,e)))?e:e[wi(ki(t))];return null==r?B:s(r,e,n)}function Cn(e){return eo(e)&&un(e)==_e}function On(e,t,n,r,i){return e===t||(null==e||null==t||!eo(e)&&!eo(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var a=zs(e),s=zs(t),c=a?Se:es(e),l=s?Se:es(t),u=(c=c==_e?De:c)==De,p=(l=l==_e?De:l)==De,d=c==l;if(d&&Ys(e)){if(!Ys(t))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new Ft),a||Xs(e)?$r(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(c){case ze:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case We:return!(e.byteLength!=t.byteLength||!o(new Zo(e),new Zo(t)));case Ce:case Oe:case Pe:return Yi(+e,+t);case ke:return e.name==t.name&&e.message==t.message;case Ne:case Fe:return e==t+"";case Ae:var s=D;case Le:var l=r&$;if(s||(s=L),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=X,a.set(e,t);var p=$r(s(e),s(t),r,i,o,a);return a.delete(e),p;case Ue:if(Ua)return Ua.call(e)==Ua.call(t)}return!1}(e,t,0,n,r,i,o);if(!(n&$)){var h=u&&zo.call(e,"__wrapped__"),f=p&&zo.call(t,"__wrapped__");if(h||f){var m=h?e.value():e,g=f?t.value():t;return o||(o=new Ft),i(m,g,n,r,o)}}return!!d&&(o||(o=new Ft),function(e,t,n,r,i,o){var a=n&$,s=Jr(e),c=s.length,l=Jr(t).length;if(c!=l&&!a)return!1;for(var u=c;u--;){var p=s[u];if(!(a?p in t:zo.call(t,p)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);for(var f=a;++u<c;){p=s[u];var m=e[p],g=t[p];if(r)var v=a?r(g,m,p,t,e,o):r(m,g,p,e,t,o);if(!(v===B?m===g||i(m,g,n,r,o):v)){h=!1;break}f||(f="constructor"==p)}if(h&&!f){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,i,o))}(e,t,n,r,On,i))}function Mn(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Ro(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var c=(s=n[i])[0],l=e[c],u=s[1];if(a&&s[2]){if(l===B&&!(c in e))return!1}else{var p=new Ft;if(r)var d=r(l,u,c,e,t,p);if(!(d===B?On(u,l,$|X,r,p):d))return!1}}return!0}function Fn(e){return!(!Zi(e)||!!Yo&&Yo in e)&&($i(e)?$o:kt).test(_i(e))}function Un(e){return"function"==typeof e?e:null==e?So:"object"==typeof e?zs(e)?Hn(e[0],e[1]):zn(e):xo(e)}function Bn(e){if(!hi(e))return ya(e);var t=[];for(var n in Ro(e))zo.call(e,n)&&"constructor"!=n&&t.push(n);return t}function qn(e){if(!Zi(e))return function(e){var t=[];if(null!=e)for(var n in Ro(e))t.push(n);return t}(e);var t=hi(e),n=[];for(var r in e)("constructor"!=r||!t&&zo.call(e,r))&&n.push(r);return n}function Vn(e,t){return e<t}function Wn(e,t){var n=-1,r=Ki(e)?To(e.length):[];return Va(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function zn(e){var t=ii(e);return 1==t.length&&t[0][2]?mi(t[0][0],t[0][1]):function(n){return n===e||Mn(n,e,t)}}function Hn(e,t){return pi(e)&&fi(t)?mi(wi(e),t):function(n){var r=ho(n,e);return r===B&&r===t?fo(n,e):On(t,r,$|X)}}function Yn(e,t,n,r,i){e!==t&&za(t,function(o,a){if(Zi(o))i||(i=new Ft),function(e,t,n,r,i,o,a){var s=e[n],c=t[n],l=a.get(c);if(l)qt(e,n,l);else{var u=o?o(s,c,n+"",e,t,a):B,p=u===B;if(p){var d=zs(c),h=!d&&Ys(c),f=!d&&!h&&Xs(c);u=c,d||h||f?zs(s)?u=s:Gi(s)?u=Cr(s):h?(p=!1,u=br(c,!0)):f?(p=!1,u=wr(c,!0)):u=[]:no(c)||Ws(c)?(u=s,Ws(s)?u=uo(s):(!Zi(s)||r&&$i(s))&&(u=si(c))):p=!1}p&&(a.set(c,u),i(u,c,r,o,a),a.delete(c)),qt(e,n,u)}}(e,t,a,n,Yn,r,i);else{var s=r?r(e[a],o,a+"",e,t,i):B;s===B&&(s=o),qt(e,a,s)}},go)}function Kn(e,t){var n=e.length;if(n)return t+=t<0?n:0,li(t,n)?e[t]:B}function Gn(e,t,n){var r=-1;return t=h(t.length?t:[So],x(ni())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Wn(e,function(e,n,i){return{criteria:h(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var c=_r(i[r],o[r]);if(c){if(r>=s)return c;var l=n[r];return c*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)})}function Qn(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=on(e,a);n(s,a)&&tr(o,vr(a,e),s)}return o}function $n(e,t,n,r){var i=r?function(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}:b,o=-1,a=t.length,s=e;for(e===t&&(t=Cr(t)),n&&(s=h(e,x(n)));++o<a;)for(var c=0,l=t[o],u=n?n(l):l;(c=i(s,u,c,r))>-1;)s!==e&&ia.call(s,c,1),ia.call(e,c,1);return e}function Xn(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;li(i)?ia.call(e,i,1):lr(e,i)}}return e}function Jn(e,t){return e+ha(Sa()*(t-e+1))}function Zn(e,t){var n="";if(!e||t<1||t>me)return n;do{t%2&&(n+=e),(t=ha(t/2))&&(e+=e)}while(t);return n}function er(e,t){return is(gi(e,t,So),e+"")}function tr(e,t,n,r){if(!Zi(e))return e;for(var i=-1,o=(t=vr(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var c=wi(t[i]),l=n;if(i!=a){var u=s[c];(l=r?r(u,c,s):B)===B&&(l=Zi(u)?u:li(t[i+1])?[]:{})}Vt(s,c,l),s=s[c]}return e}function nr(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=To(i);++r<i;)o[r]=e[r+t];return o}function rr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=Ee){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!io(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ir(e,t,So,n)}function ir(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!=t,s=null===t,c=io(t),l=t===B;i<o;){var u=ha((i+o)/2),p=n(e[u]),d=p!==B,h=null===p,f=p==p,m=io(p);if(a)var g=r||f;else g=l?f&&(r||d):s?f&&d&&(r||!h):c?f&&d&&!h&&(r||!m):!h&&!m&&(r?p<=t:p<t);g?i=u+1:o=u}return Ea(o,be)}function or(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Yi(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function ar(e){return"number"==typeof e?e:io(e)?ve:+e}function sr(e){if("string"==typeof e)return e;if(zs(e))return h(e,sr)+"";if(io(e))return Ba?Ba.call(e):"";var t=e+"";return"0"==t&&1/e==-fe?"-0":t}function cr(e,t,n){var r=-1,i=p,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=d;else if(o>=q){var l=t?null:$a(e);if(l)return L(l);a=!1,i=j,c=new Lt}else c=t?[]:s;e:for(;++r<o;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,a&&h==h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),s.push(u)}else i(c,h,n)||(c!==s&&c.push(h),s.push(u))}return s}function lr(e,t){return t=vr(t,e),null==(e=vi(e,t))||delete e[wi(ki(t))]}function ur(e,t,n,r){return tr(e,t,n(on(e,t)),r)}function pr(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?nr(e,r?0:o,r?o+1:i):nr(e,r?o+1:0,r?i:o)}function dr(e,t){var n=e;return n instanceof S&&(n=n.value()),m(t,function(e,t){return t.func.apply(t.thisArg,f([e],t.args))},n)}function hr(e,t,n){var r=e.length;if(r<2)return r?cr(e[0]):[];for(var i=-1,o=To(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=Xt(o[i]||a,e[s],t,n));return cr(en(o,1),t,n)}function fr(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:B;n(a,e[r],s)}return a}function mr(e){return Gi(e)?e:[]}function gr(e){return"function"==typeof e?e:So}function vr(e,t){return zs(e)?e:pi(e,t)?[e]:os(po(e))}function yr(e,t,n){var r=e.length;return n=n===B?r:n,!t&&n>=r?e:nr(e,t,n)}function br(e,t){if(t)return e.slice();var n=e.length,r=ea?ea(n):new e.constructor(n);return e.copy(r),r}function Er(e){var t=new e.constructor(e.byteLength);return new Zo(t).set(new Zo(e)),t}function wr(e,t){var n=t?Er(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function _r(e,t){if(e!==t){var n=e!==B,r=null===e,i=e==e,o=io(e),a=t!==B,s=null===t,c=t==t,l=io(t);if(!s&&!l&&!o&&e>t||o&&a&&c&&!s&&!l||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!c)return-1}return 0}function Sr(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,c=t.length,l=ba(o-a,0),u=To(c+l),p=!r;++s<c;)u[s]=t[s];for(;++i<a;)(p||i<o)&&(u[n[i]]=e[i]);for(;l--;)u[s++]=e[i++];return u}function Ir(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,c=-1,l=t.length,u=ba(o-s,0),p=To(u+l),d=!r;++i<u;)p[i]=e[i];for(var h=i;++c<l;)p[h+c]=t[c];for(;++a<s;)(d||i<o)&&(p[h+n[a]]=e[i++]);return p}function Cr(e,t){var n=-1,r=e.length;for(t||(t=To(r));++n<r;)t[n]=e[n];return t}function Or(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):B;c===B&&(c=e[s]),i?Ht(n,s,c):Vt(n,s,c)}return n}function xr(e,t){return function(n,r){var i=zs(n)?function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}:function(e,t,n,r){return Va(e,function(e,i,o){t(r,e,n(e),o)}),r},o=t?t():{};return i(n,e,ni(r,2),o)}}function kr(e){return er(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:B,a=i>2?n[2]:B;for(o=e.length>3&&"function"==typeof o?(i--,o):B,a&&ui(n[0],n[1],a)&&(o=i<3?B:o,i=1),t=Ro(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function jr(e,t){return function(n,r){if(null==n)return n;if(!Ki(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ro(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Tr(e){return function(t,n,r){for(var i=-1,o=Ro(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}function Ar(e){return function(t){var n=M(t=po(t))?U(t):B,r=n?n[0]:t.charAt(0),i=n?yr(n,1).join(""):t.slice(1);return r[e]()+i}}function Pr(e){return function(t){return m(wo(Eo(t).replace(an,"")),e,"")}}function Mr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=qa(e.prototype),r=e.apply(n,t);return Zi(r)?r:n}}function Dr(e){return function(t,n,r){var i=Ro(t);if(!Ki(t)){var o=ni(n,3);t=mo(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:B}}function Rr(e){return Xr(function(t){var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Fo(W);if(o&&!s&&"wrapper"==ei(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){var c=ei(a=t[r]),l="wrapper"==c?Xa(a):B;s=l&&di(l[0])&&l[1]==(oe|te|re|ae)&&!l[4].length&&1==l[9]?s[ei(l[0])].apply(s,l[3]):1==a.length&&di(a)?s[c]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&zs(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Nr(e,t,n,r,i,o,a,s,c,l){function u(){for(var v=arguments.length,y=To(v),b=v;b--;)y[b]=arguments[b];if(f)var E=ti(u),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,E);if(r&&(y=Sr(y,r,i,f)),o&&(y=Ir(y,o,a,f)),v-=w,f&&v<l){var _=N(y,E);return Wr(e,t,Nr,u.placeholder,n,y,_,s,c,l-v)}var S=d?n:this,I=h?S[e]:e;return v=y.length,s?y=function(e,t){for(var n=e.length,r=Ea(t.length,n),i=Cr(e);r--;){var o=t[r];e[r]=li(o,n)?i[o]:B}return e}(y,s):m&&v>1&&y.reverse(),p&&c<v&&(y.length=c),this&&this!==wn&&this instanceof u&&(I=g||Mr(I)),I.apply(S,y)}var p=t&oe,d=t&J,h=t&Z,f=t&(te|ne),m=t&se,g=h?B:Mr(e);return u}function Lr(e,t){return function(n,r){return function(e,t,n,r){return tn(e,function(e,i,o){t(r,n(e),i,o)}),r}(n,e,t(r),{})}}function Fr(e,t){return function(n,r){var i;if(n===B&&r===B)return t;if(n!==B&&(i=n),r!==B){if(i===B)return r;"string"==typeof n||"string"==typeof r?(n=sr(n),r=sr(r)):(n=ar(n),r=ar(r)),i=e(n,r)}return i}}function Ur(e){return Xr(function(t){return t=h(t,x(ni())),er(function(n){var r=this;return e(t,function(e){return s(e,r,n)})})})}function Br(e,t){var n=(t=t===B?" ":sr(t)).length;if(n<2)return n?Zn(t,e):t;var r=Zn(t,da(e/F(t)));return M(t)?yr(U(r),0,e).join(""):r.slice(0,e)}function qr(e){return function(t,n,r){return r&&"number"!=typeof r&&ui(t,n,r)&&(n=r=B),t=ao(t),n===B?(n=t,t=0):n=ao(n),r=r===B?t<n?1:-1:ao(r),function(e,t,r,i){for(var o=-1,a=ba(da((n-e)/(r||1)),0),s=To(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,0,r,e)}}function Vr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=lo(t),n=lo(n)),e(t,n)}}function Wr(e,t,n,r,i,o,a,s,c,l){var u=t&te;t|=u?re:ie,(t&=~(u?ie:re))&ee||(t&=~(J|Z));var p=[e,t,i,u?o:B,u?a:B,u?B:o,u?B:a,s,c,l],d=n.apply(B,p);return di(e)&&ns(d,p),d.placeholder=r,yi(d,e,t)}function zr(e){var t=Do[e];return function(e,n){if(e=lo(e),n=null==n?0:Ea(so(n),292)){var r=(po(e)+"e").split("e");return+((r=(po(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}function Hr(e){return function(t){var n=es(t);return n==Ae?D(t):n==Le?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(t):function(n,r){return h(e(t),function(e){return[e,n[e]]})}(t)}}function Yr(e,t,n,r,i,o,a,c){var l=t&Z;if(!l&&"function"!=typeof e)throw new Fo(W);var u=r?r.length:0;if(u||(t&=~(re|ie),r=i=B),a=a===B?a:ba(so(a),0),c=c===B?c:so(c),u-=i?i.length:0,t&ie){var p=r,d=i;r=i=B}var h=l?B:Xa(e),f=[e,t,n,r,i,p,d,o,a,c];if(h&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(J|Z|oe),a=r==oe&&n==te||r==oe&&n==ae&&e[7].length<=t[8]||r==(oe|ae)&&t[7].length<=t[8]&&n==te;if(!o&&!a)return e;r&J&&(e[2]=t[2],i|=n&J?0:ee);var s=t[3];if(s){var c=e[3];e[3]=c?Sr(c,s,t[4]):s,e[4]=c?N(e[3],Y):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Ir(c,s,t[6]):s,e[6]=c?N(e[5],Y):t[6]),(s=t[7])&&(e[7]=s),r&oe&&(e[8]=null==e[8]?t[8]:Ea(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(f,h),e=f[0],t=f[1],n=f[2],r=f[3],i=f[4],!(c=f[9]=f[9]===B?l?0:e.length:ba(f[9]-u,0))&&t&(te|ne)&&(t&=~(te|ne)),t&&t!=J)m=t==te||t==ne?function(e,t,n){function r(){for(var o=arguments.length,a=To(o),c=o,l=ti(r);c--;)a[c]=arguments[c];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:N(a,l);return(o-=u.length)<n?Wr(e,t,Nr,r.placeholder,B,a,u,B,B,n-o):s(this&&this!==wn&&this instanceof r?i:e,this,a)}var i=Mr(e);return r}(e,t,c):t!=re&&t!=(J|re)||i.length?Nr.apply(B,f):function(e,n,r,i){function o(){for(var t=-1,n=arguments.length,l=-1,u=i.length,p=To(u+n),d=this&&this!==wn&&this instanceof o?c:e;++l<u;)p[l]=i[l];for(;n--;)p[l++]=arguments[++t];return s(d,a?r:this,p)}var a=t&J,c=Mr(e);return o}(e,0,n,r);else var m=function(e,n,r){function i(){return(this&&this!==wn&&this instanceof i?a:e).apply(o?r:this,arguments)}var o=t&J,a=Mr(e);return i}(e,0,n);return yi((h?Ya:ns)(m,f),e,t)}function Kr(e,t,n,r){return e===B||Yi(e,qo[n])&&!zo.call(r,n)?t:e}function Gr(e,t,n,r,i,o){return Zi(e)&&Zi(t)&&(o.set(t,e),Yn(e,t,B,Gr,o),o.delete(t)),e}function Qr(e){return no(e)?B:e}function $r(e,t,n,r,i,o){var a=n&$,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=o.get(e);if(l&&o.get(t))return l==t;var u=-1,p=!0,d=n&X?new Lt:B;for(o.set(e,t),o.set(t,e);++u<s;){var h=e[u],f=t[u];if(r)var m=a?r(f,h,u,t,e,o):r(h,f,u,e,t,o);if(m!==B){if(m)continue;p=!1;break}if(d){if(!g(t,function(e,t){if(!j(d,t)&&(h===e||i(h,e,n,r,o)))return d.push(t)})){p=!1;break}}else if(h!==f&&!i(h,f,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function Xr(e){return is(gi(e,B,Oi),e+"")}function Jr(e){return cn(e,mo,Ja)}function Zr(e){return cn(e,go,Za)}function ei(e){for(var t=e.name+"",n=Pa[t],r=zo.call(Pa,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function ti(e){return(zo.call(n,"placeholder")?n:e).placeholder}function ni(){var e=n.iteratee||Io;return e=e===Io?Un:e,arguments.length?e(arguments[0],arguments[1]):e}function ri(e,t){var n=e.__data__;return function(e){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}()?n["string"==typeof t?"string":"hash"]:n.map}function ii(e){for(var t=mo(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fi(i)]}return t}function oi(e,t){var n=null==e?B:e[t];return Fn(n)?n:B}function ai(e,t,n){for(var r=-1,i=(t=vr(t,e)).length,o=!1;++r<i;){var a=wi(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ji(i)&&li(a,i)&&(zs(e)||Ws(e))}function si(e){return"function"!=typeof e.constructor||hi(e)?{}:qa(ta(e))}function ci(e){return zs(e)||Ws(e)||!!(oa&&e&&e[oa])}function li(e,t){return!!(t=null==t?me:t)&&("number"==typeof e||Tt.test(e))&&e>-1&&e%1==0&&e<t}function ui(e,t,n){if(!Zi(n))return!1;var r=typeof t;return!!("number"==r?Ki(n)&&li(t,n.length):"string"==r&&t in n)&&Yi(n[t],e)}function pi(e,t){if(zs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!io(e))||pt.test(e)||!ut.test(e)||null!=t&&e in Ro(t)}function di(e){var t=ei(e),r=n[t];if("function"!=typeof r||!(t in S.prototype))return!1;if(e===r)return!0;var i=Xa(r);return!!i&&e===i[0]}function hi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||qo)}function fi(e){return e==e&&!Zi(e)}function mi(e,t){return function(n){return null!=n&&n[e]===t&&(t!==B||e in Ro(n))}}function gi(e,t,n){return t=ba(t===B?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=ba(r.length-t,0),a=To(o);++i<o;)a[i]=r[t+i];i=-1;for(var c=To(t+1);++i<t;)c[i]=r[i];return c[t]=n(a),s(e,this,c)}}function vi(e,t){return t.length<2?e:on(e,nr(t,0,-1))}function yi(e,t,n){var r=t+"";return is(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(bt,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return c(we,function(n){var r="_."+n[0];t&n[1]&&!p(e,r)&&e.push(r)}),e.sort()}(function(e){var t=r.match(Et);return t?t[1].split(wt):[]}(),n)))}function bi(e){var t=0,n=0;return function(){var r=wa(),i=pe-(r-n);if(n=r,i>0){if(++t>=ue)return arguments[0]}else t=0;return e.apply(B,arguments)}}function Ei(e,t){var n=-1,r=e.length,i=r-1;for(t=t===B?r:t;++n<t;){var o=Jn(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function wi(e){if("string"==typeof e||io(e))return e;var t=e+"";return"0"==t&&1/e==-fe?"-0":t}function _i(e){if(null!=e){try{return Wo.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Si(e){if(e instanceof S)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=Cr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Ii(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:so(n);return i<0&&(i=ba(r+i,0)),y(e,ni(t,3),i)}function Ci(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==B&&(i=so(n),i=n<0?ba(r+i,0):Ea(i,r-1)),y(e,ni(t,3),i,!0)}function Oi(e){return(null==e?0:e.length)?en(e,1):[]}function xi(e){return e&&e.length?e[0]:B}function ki(e){var t=null==e?0:e.length;return t?e[t-1]:B}function ji(e,t){return e&&e.length&&t&&t.length?$n(e,t):e}function Ti(e){return null==e?e:Ia.call(e)}function Ai(e){if(!e||!e.length)return[];var t=0;return e=u(e,function(e){if(Gi(e))return t=ba(e.length,t),!0}),O(t,function(t){return h(e,_(t))})}function Pi(e,t){if(!e||!e.length)return[];var n=Ai(e);return null==t?n:h(n,function(e){return s(t,B,e)})}function Mi(e){var t=n(e);return t.__chain__=!0,t}function Di(e,t){return t(e)}function Ri(){return this}function Ni(e,t){return(zs(e)?c:Va)(e,ni(t,3))}function Li(e,t){return(zs(e)?function(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}:Wa)(e,ni(t,3))}function Fi(e,t){return(zs(e)?h:Wn)(e,ni(t,3))}function Ui(e,t,n){return t=n?B:t,t=e&&null==t?e.length:t,Yr(e,oe,B,B,B,B,t)}function Bi(e,t){var n;if("function"!=typeof t)throw new Fo(W);return e=so(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=B),n}}function qi(e,t,n){var r=Yr(e,te,B,B,B,B,B,t=n?B:t);return r.placeholder=qi.placeholder,r}function Vi(e,t,n){var r=Yr(e,ne,B,B,B,B,B,t=n?B:t);return r.placeholder=Vi.placeholder,r}function Wi(e,t,n){function r(t){var n=c,r=l;return c=l=B,f=t,p=e.apply(r,n)}function i(e){var n=e-h;return h===B||n>=t||n<0||g&&e-f>=u}function o(){var e=Ps();if(i(e))return a(e);d=rs(o,function(n){var r=t-(e-h);return g?Ea(r,u-(e-f)):r}())}function a(e){return d=B,v&&c?r(e):(c=l=B,p)}function s(){var e=Ps(),n=i(e);if(c=arguments,l=this,h=e,n){if(d===B)return function(e){return f=e,d=rs(o,t),m?r(e):p}(h);if(g)return d=rs(o,t),r(h)}return d===B&&(d=rs(o,t)),p}var c,l,u,p,d,h,f=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new Fo(W);return t=lo(t)||0,Zi(n)&&(m=!!n.leading,u=(g="maxWait"in n)?ba(lo(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),s.cancel=function(){d!==B&&Qa(d),f=0,c=h=l=d=B},s.flush=function(){return d===B?p:a(Ps())},s}function zi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Fo(W);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(zi.Cache||Nt),n}function Hi(e){if("function"!=typeof e)throw new Fo(W);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Yi(e,t){return e===t||e!=e&&t!=t}function Ki(e){return null!=e&&Ji(e.length)&&!$i(e)}function Gi(e){return eo(e)&&Ki(e)}function Qi(e){if(!eo(e))return!1;var t=un(e);return t==ke||t==xe||"string"==typeof e.message&&"string"==typeof e.name&&!no(e)}function $i(e){if(!Zi(e))return!1;var t=un(e);return t==je||t==Te||t==Ie||t==Re}function Xi(e){return"number"==typeof e&&e==so(e)}function Ji(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=me}function Zi(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eo(e){return null!=e&&"object"==typeof e}function to(e){return"number"==typeof e||eo(e)&&un(e)==Pe}function no(e){if(!eo(e)||un(e)!=De)return!1;var t=ta(e);if(null===t)return!0;var n=zo.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Wo.call(n)==Go}function ro(e){return"string"==typeof e||!zs(e)&&eo(e)&&un(e)==Fe}function io(e){return"symbol"==typeof e||eo(e)&&un(e)==Ue}function oo(e){if(!e)return[];if(Ki(e))return ro(e)?U(e):Cr(e);if(aa&&e[aa])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[aa]());var t=es(e);return(t==Ae?D:t==Le?L:yo)(e)}function ao(e){return e?(e=lo(e))===fe||e===-fe?(e<0?-1:1)*ge:e==e?e:0:0===e?e:0}function so(e){var t=ao(e),n=t%1;return t==t?n?t-n:t:0}function co(e){return e?Kt(so(e),0,ye):0}function lo(e){if("number"==typeof e)return e;if(io(e))return ve;if(Zi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Zi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(gt,"");var n=xt.test(e);return n||jt.test(e)?yn(e.slice(2),n?2:8):Ot.test(e)?ve:+e}function uo(e){return Or(e,go(e))}function po(e){return null==e?"":sr(e)}function ho(e,t,n){var r=null==e?B:on(e,t);return r===B?n:r}function fo(e,t){return null!=e&&ai(e,t,En)}function mo(e){return Ki(e)?Ut(e):Bn(e)}function go(e){return Ki(e)?Ut(e,!0):qn(e)}function vo(e,t){if(null==e)return{};var n=h(Zr(e),function(e){return[e]});return t=ni(t),Qn(e,n,function(e,n){return t(e,n[0])})}function yo(e){return null==e?[]:k(e,mo(e))}function bo(e){return Sc(po(e).toLowerCase())}function Eo(e){return(e=po(e))&&e.replace(At,Dn).replace(sn,"")}function wo(e,t,n){return e=po(e),(t=n?B:t)===B?function(e){return pn.test(e)}(e)?e.match(ln)||[]:e.match(_t)||[]:e.match(t)||[]}function _o(e){return function(){return e}}function So(e){return e}function Io(e){return Un("function"==typeof e?e:Gt(e,K))}function Co(e,t,n){var r=mo(t),i=rn(t,r);null!=n||Zi(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=rn(t,mo(t)));var o=!(Zi(n)&&"chain"in n&&!n.chain),a=$i(e);return c(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Cr(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,f([this.value()],arguments))})}),e}function Oo(){}function xo(e){return pi(e)?_(wi(e)):function(e){return function(t){return on(t,e)}}(e)}function ko(){return[]}function jo(){return!1}var To=(t=null==t?wn:Ln.defaults(wn.Object(),t,Ln.pick(wn,dn))).Array,Ao=t.Date,Po=t.Error,Mo=t.Function,Do=t.Math,Ro=t.Object,No=t.RegExp,Lo=t.String,Fo=t.TypeError,Uo=To.prototype,Bo=Mo.prototype,qo=Ro.prototype,Vo=t["__core-js_shared__"],Wo=Bo.toString,zo=qo.hasOwnProperty,Ho=0,Yo=function(){var e=/[^.]+$/.exec(Vo&&Vo.keys&&Vo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ko=qo.toString,Go=Wo.call(Ro),Qo=wn._,$o=No("^"+Wo.call(zo).replace(ft,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xo=In?t.Buffer:B,Jo=t.Symbol,Zo=t.Uint8Array,ea=Xo?Xo.allocUnsafe:B,ta=R(Ro.getPrototypeOf,Ro),na=Ro.create,ra=qo.propertyIsEnumerable,ia=Uo.splice,oa=Jo?Jo.isConcatSpreadable:B,aa=Jo?Jo.iterator:B,sa=Jo?Jo.toStringTag:B,ca=function(){try{var e=oi(Ro,"defineProperty");return e({},"",{}),e}catch(e){}}(),la=t.clearTimeout!==wn.clearTimeout&&t.clearTimeout,ua=Ao&&Ao.now!==wn.Date.now&&Ao.now,pa=t.setTimeout!==wn.setTimeout&&t.setTimeout,da=Do.ceil,ha=Do.floor,fa=Ro.getOwnPropertySymbols,ma=Xo?Xo.isBuffer:B,ga=t.isFinite,va=Uo.join,ya=R(Ro.keys,Ro),ba=Do.max,Ea=Do.min,wa=Ao.now,_a=t.parseInt,Sa=Do.random,Ia=Uo.reverse,Ca=oi(t,"DataView"),Oa=oi(t,"Map"),xa=oi(t,"Promise"),ka=oi(t,"Set"),ja=oi(t,"WeakMap"),Ta=oi(Ro,"create"),Aa=ja&&new ja,Pa={},Ma=_i(Ca),Da=_i(Oa),Ra=_i(xa),Na=_i(ka),La=_i(ja),Fa=Jo?Jo.prototype:B,Ua=Fa?Fa.valueOf:B,Ba=Fa?Fa.toString:B,qa=function(){function e(){}return function(t){if(!Zi(t))return{};if(na)return na(t);e.prototype=t;var n=new e;return e.prototype=B,n}}();n.templateSettings={escape:st,evaluate:ct,interpolate:lt,variable:"",imports:{_:n}},(n.prototype=r.prototype).constructor=n,(i.prototype=qa(r.prototype)).constructor=i,(S.prototype=qa(r.prototype)).constructor=S,Dt.prototype.clear=function(){this.__data__=Ta?Ta(null):{},this.size=0},Dt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Dt.prototype.get=function(e){var t=this.__data__;if(Ta){var n=t[e];return n===z?B:n}return zo.call(t,e)?t[e]:B},Dt.prototype.has=function(e){var t=this.__data__;return Ta?t[e]!==B:zo.call(t,e)},Dt.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ta&&t===B?z:t,this},Rt.prototype.clear=function(){this.__data__=[],this.size=0},Rt.prototype.delete=function(e){var t=this.__data__,n=Wt(t,e);return!(n<0||(n==t.length-1?t.pop():ia.call(t,n,1),--this.size,0))},Rt.prototype.get=function(e){var t=this.__data__,n=Wt(t,e);return n<0?B:t[n][1]},Rt.prototype.has=function(e){return Wt(this.__data__,e)>-1},Rt.prototype.set=function(e,t){var n=this.__data__,r=Wt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Nt.prototype.clear=function(){this.size=0,this.__data__={hash:new Dt,map:new(Oa||Rt),string:new Dt}},Nt.prototype.delete=function(e){var t=ri(this,e).delete(e);return this.size-=t?1:0,t},Nt.prototype.get=function(e){return ri(this,e).get(e)},Nt.prototype.has=function(e){return ri(this,e).has(e)},Nt.prototype.set=function(e,t){var n=ri(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Lt.prototype.add=Lt.prototype.push=function(e){return this.__data__.set(e,z),this},Lt.prototype.has=function(e){return this.__data__.has(e)},Ft.prototype.clear=function(){this.__data__=new Rt,this.size=0},Ft.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ft.prototype.get=function(e){return this.__data__.get(e)},Ft.prototype.has=function(e){return this.__data__.has(e)},Ft.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Rt){var r=n.__data__;if(!Oa||r.length<q-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Nt(r)}return n.set(e,t),this.size=n.size,this};var Va=jr(tn),Wa=jr(nn,!0),za=Tr(),Ha=Tr(!0),Ya=Aa?function(e,t){return Aa.set(e,t),e}:So,Ka=ca?function(e,t){return ca(e,"toString",{configurable:!0,enumerable:!1,value:_o(t),writable:!0})}:So,Ga=er,Qa=la||function(e){return wn.clearTimeout(e)},$a=ka&&1/L(new ka([,-0]))[1]==fe?function(e){return new ka(e)}:Oo,Xa=Aa?function(e){return Aa.get(e)}:Oo,Ja=fa?function(e){return null==e?[]:(e=Ro(e),u(fa(e),function(t){return ra.call(e,t)}))}:ko,Za=fa?function(e){for(var t=[];e;)f(t,Ja(e)),e=ta(e);return t}:ko,es=un;(Ca&&es(new Ca(new ArrayBuffer(1)))!=ze||Oa&&es(new Oa)!=Ae||xa&&"[object Promise]"!=es(xa.resolve())||ka&&es(new ka)!=Le||ja&&es(new ja)!=qe)&&(es=function(e){var t=un(e),n=t==De?e.constructor:B,r=n?_i(n):"";if(r)switch(r){case Ma:return ze;case Da:return Ae;case Ra:return"[object Promise]";case Na:return Le;case La:return qe}return t});var ts=Vo?$i:jo,ns=bi(Ya),rs=pa||function(e,t){return wn.setTimeout(e,t)},is=bi(Ka),os=function(e){var t=zi(function(e){var t=[];return dt.test(e)&&t.push(""),e.replace(ht,function(e,n,r,i){t.push(r?i.replace(St,"$1"):n||e)}),t},function(e){return n.size===H&&n.clear(),e}),n=t.cache;return t}(),as=er(function(e,t){return Gi(e)?Xt(e,en(t,1,Gi,!0)):[]}),ss=er(function(e,t){var n=ki(t);return Gi(n)&&(n=B),Gi(e)?Xt(e,en(t,1,Gi,!0),ni(n,2)):[]}),cs=er(function(e,t){var n=ki(t);return Gi(n)&&(n=B),Gi(e)?Xt(e,en(t,1,Gi,!0),B,n):[]}),ls=er(function(e){var t=h(e,mr);return t.length&&t[0]===e[0]?_n(t):[]}),us=er(function(e){var t=ki(e),n=h(e,mr);return t===ki(n)?t=B:n.pop(),n.length&&n[0]===e[0]?_n(n,ni(t,2)):[]}),ps=er(function(e){var t=ki(e),n=h(e,mr);return(t="function"==typeof t?t:B)&&n.pop(),n.length&&n[0]===e[0]?_n(n,B,t):[]}),ds=er(ji),hs=Xr(function(e,t){var n=null==e?0:e.length,r=Yt(e,t);return Xn(e,h(t,function(e){return li(e,n)?+e:e}).sort(_r)),r}),fs=er(function(e){return cr(en(e,1,Gi,!0))}),ms=er(function(e){var t=ki(e);return Gi(t)&&(t=B),cr(en(e,1,Gi,!0),ni(t,2))}),gs=er(function(e){var t=ki(e);return t="function"==typeof t?t:B,cr(en(e,1,Gi,!0),B,t)}),vs=er(function(e,t){return Gi(e)?Xt(e,t):[]}),ys=er(function(e){return hr(u(e,Gi))}),bs=er(function(e){var t=ki(e);return Gi(t)&&(t=B),hr(u(e,Gi),ni(t,2))}),Es=er(function(e){var t=ki(e);return t="function"==typeof t?t:B,hr(u(e,Gi),B,t)}),ws=er(Ai),_s=er(function(e){var t=e.length,n=t>1?e[t-1]:B;return n="function"==typeof n?(e.pop(),n):B,Pi(e,n)}),Ss=Xr(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return Yt(t,e)};return!(t>1||this.__actions__.length)&&r instanceof S&&li(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Di,args:[o],thisArg:B}),new i(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(B),e})):this.thru(o)}),Is=xr(function(e,t,n){zo.call(e,n)?++e[n]:Ht(e,n,1)}),Cs=Dr(Ii),Os=Dr(Ci),xs=xr(function(e,t,n){zo.call(e,n)?e[n].push(t):Ht(e,n,[t])}),ks=er(function(e,t,n){var r=-1,i="function"==typeof t,o=Ki(e)?To(e.length):[];return Va(e,function(e){o[++r]=i?s(t,e,n):Sn(e,t,n)}),o}),js=xr(function(e,t,n){Ht(e,n,t)}),Ts=xr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),As=er(function(e,t){if(null==e)return[];var n=t.length;return n>1&&ui(e,t[0],t[1])?t=[]:n>2&&ui(t[0],t[1],t[2])&&(t=[t[0]]),Gn(e,en(t,1),[])}),Ps=ua||function(){return wn.Date.now()},Ms=er(function(e,t,n){var r=J;if(n.length){var i=N(n,ti(Ms));r|=re}return Yr(e,r,t,n,i)}),Ds=er(function(e,t,n){var r=J|Z;if(n.length){var i=N(n,ti(Ds));r|=re}return Yr(t,r,e,n,i)}),Rs=er(function(e,t){return $t(e,1,t)}),Ns=er(function(e,t,n){return $t(e,lo(t)||0,n)});zi.Cache=Nt;var Ls=Ga(function(e,t){var n=(t=1==t.length&&zs(t[0])?h(t[0],x(ni())):h(en(t,1),x(ni()))).length;return er(function(r){for(var i=-1,o=Ea(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return s(e,this,r)})}),Fs=er(function(e,t){var n=N(t,ti(Fs));return Yr(e,re,B,t,n)}),Us=er(function(e,t){var n=N(t,ti(Us));return Yr(e,ie,B,t,n)}),Bs=Xr(function(e,t){return Yr(e,ae,B,B,B,t)}),qs=Vr(gn),Vs=Vr(function(e,t){return e>=t}),Ws=Cn(function(){return arguments}())?Cn:function(e){return eo(e)&&zo.call(e,"callee")&&!ra.call(e,"callee")},zs=To.isArray,Hs=xn?x(xn):function(e){return eo(e)&&un(e)==We},Ys=ma||jo,Ks=kn?x(kn):function(e){return eo(e)&&un(e)==Oe},Gs=jn?x(jn):function(e){return eo(e)&&es(e)==Ae},Qs=Tn?x(Tn):function(e){return eo(e)&&un(e)==Ne},$s=An?x(An):function(e){return eo(e)&&es(e)==Le},Xs=Pn?x(Pn):function(e){return eo(e)&&Ji(e.length)&&!!fn[un(e)]},Js=Vr(Vn),Zs=Vr(function(e,t){return e<=t}),ec=kr(function(e,t){if(hi(t)||Ki(t))Or(t,mo(t),e);else for(var n in t)zo.call(t,n)&&Vt(e,n,t[n])}),tc=kr(function(e,t){Or(t,go(t),e)}),nc=kr(function(e,t,n,r){Or(t,go(t),e,r)}),rc=kr(function(e,t,n,r){Or(t,mo(t),e,r)}),ic=Xr(Yt),oc=er(function(e){return e.push(B,Kr),s(nc,B,e)}),ac=er(function(e){return e.push(B,Gr),s(pc,B,e)}),sc=Lr(function(e,t,n){e[t]=n},_o(So)),cc=Lr(function(e,t,n){zo.call(e,t)?e[t].push(n):e[t]=[n]},ni),lc=er(Sn),uc=kr(function(e,t,n){Yn(e,t,n)}),pc=kr(function(e,t,n,r){Yn(e,t,n,r)}),dc=Xr(function(e,t){var n={};if(null==e)return n;var r=!1;t=h(t,function(t){return t=vr(t,e),r||(r=t.length>1),t}),Or(e,Zr(e),n),r&&(n=Gt(n,K|G|Q,Qr));for(var i=t.length;i--;)lr(n,t[i]);return n}),hc=Xr(function(e,t){return null==e?{}:function(e,n){return Qn(e,t,function(t,n){return fo(e,n)})}(e)}),fc=Hr(mo),mc=Hr(go),gc=Pr(function(e,t,n){return t=t.toLowerCase(),e+(n?bo(t):t)}),vc=Pr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),yc=Pr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),bc=Ar("toLowerCase"),Ec=Pr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),wc=Pr(function(e,t,n){return e+(n?" ":"")+Sc(t)}),_c=Pr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Sc=Ar("toUpperCase"),Ic=er(function(e,t){try{return s(e,B,t)}catch(e){return Qi(e)?e:new Po(e)}}),Cc=Xr(function(e,t){return c(t,function(t){t=wi(t),Ht(e,t,Ms(e[t],e))}),e}),Oc=Rr(),xc=Rr(!0),kc=er(function(e,t){return function(n){return Sn(n,e,t)}}),jc=er(function(e,t){return function(n){return Sn(e,n,t)}}),Tc=Ur(h),Ac=Ur(l),Pc=Ur(g),Mc=qr(),Dc=qr(!0),Rc=Fr(function(e,t){return e+t},0),Nc=zr("ceil"),Lc=Fr(function(e,t){return e/t},1),Fc=zr("floor"),Uc=Fr(function(e,t){return e*t},1),Bc=zr("round"),qc=Fr(function(e,t){return e-t},0);return n.after=function(e,t){if("function"!=typeof t)throw new Fo(W);return e=so(e),function(){if(--e<1)return t.apply(this,arguments)}},n.ary=Ui,n.assign=ec,n.assignIn=tc,n.assignInWith=nc,n.assignWith=rc,n.at=ic,n.before=Bi,n.bind=Ms,n.bindAll=Cc,n.bindKey=Ds,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return zs(e)?e:[e]},n.chain=Mi,n.chunk=function(e,t,n){t=(n?ui(e,t,n):t===B)?1:ba(so(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=To(da(r/t));i<r;)a[o++]=nr(e,i,i+=t);return a},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=To(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return f(zs(n)?Cr(n):[n],en(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=ni();return e=t?h(e,function(e){if("function"!=typeof e[1])throw new Fo(W);return[n(e[0]),e[1]]}):[],er(function(n){for(var r=-1;++r<t;){var i=e[r];if(s(i[0],this,n))return s(i[1],this,n)}})},n.conforms=function(e){return function(e){var t=mo(e);return function(n){return Qt(n,e,t)}}(Gt(e,K))},n.constant=_o,n.countBy=Is,n.create=function(e,t){var n=qa(e);return null==t?n:zt(n,t)},n.curry=qi,n.curryRight=Vi,n.debounce=Wi,n.defaults=oc,n.defaultsDeep=ac,n.defer=Rs,n.delay=Ns,n.difference=as,n.differenceBy=ss,n.differenceWith=cs,n.drop=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===B?1:so(t),nr(e,t<0?0:t,r)):[]},n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===B?1:so(t),t=r-t,nr(e,0,t<0?0:t)):[]},n.dropRightWhile=function(e,t){return e&&e.length?pr(e,ni(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?pr(e,ni(t,3),!0):[]},n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ui(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=so(n))<0&&(n=-n>i?0:i+n),(r=r===B||r>i?i:so(r))<0&&(r+=i),r=n>r?0:co(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},n.filter=function(e,t){return(zs(e)?u:Zt)(e,ni(t,3))},n.flatMap=function(e,t){return en(Fi(e,t),1)},n.flatMapDeep=function(e,t){return en(Fi(e,t),fe)},n.flatMapDepth=function(e,t,n){return n=n===B?1:so(n),en(Fi(e,t),n)},n.flatten=Oi,n.flattenDeep=function(e){return(null==e?0:e.length)?en(e,fe):[]},n.flattenDepth=function(e,t){return(null==e?0:e.length)?(t=t===B?1:so(t),en(e,t)):[]},n.flip=function(e){return Yr(e,se)},n.flow=Oc,n.flowRight=xc,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},n.functions=function(e){return null==e?[]:rn(e,mo(e))},n.functionsIn=function(e){return null==e?[]:rn(e,go(e))},n.groupBy=xs,n.initial=function(e){return(null==e?0:e.length)?nr(e,0,-1):[]},n.intersection=ls,n.intersectionBy=us,n.intersectionWith=ps,n.invert=sc,n.invertBy=cc,n.invokeMap=ks,n.iteratee=Io,n.keyBy=js,n.keys=mo,n.keysIn=go,n.map=Fi,n.mapKeys=function(e,t){var n={};return t=ni(t,3),tn(e,function(e,r,i){Ht(n,t(e,r,i),e)}),n},n.mapValues=function(e,t){var n={};return t=ni(t,3),tn(e,function(e,r,i){Ht(n,r,t(e,r,i))}),n},n.matches=function(e){return zn(Gt(e,K))},n.matchesProperty=function(e,t){return Hn(e,Gt(t,K))},n.memoize=zi,n.merge=uc,n.mergeWith=pc,n.method=kc,n.methodOf=jc,n.mixin=Co,n.negate=Hi,n.nthArg=function(e){return e=so(e),er(function(t){return Kn(t,e)})},n.omit=dc,n.omitBy=function(e,t){return vo(e,Hi(ni(t)))},n.once=function(e){return Bi(2,e)},n.orderBy=function(e,t,n,r){return null==e?[]:(zs(t)||(t=null==t?[]:[t]),n=r?B:n,zs(n)||(n=null==n?[]:[n]),Gn(e,t,n))},n.over=Tc,n.overArgs=Ls,n.overEvery=Ac,n.overSome=Pc,n.partial=Fs,n.partialRight=Us,n.partition=Ts,n.pick=hc,n.pickBy=vo,n.property=xo,n.propertyOf=function(e){return function(t){return null==e?B:on(e,t)}},n.pull=ds,n.pullAll=ji,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?$n(e,t,ni(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?$n(e,t,B,n):e},n.pullAt=hs,n.range=Mc,n.rangeRight=Dc,n.rearg=Bs,n.reject=function(e,t){return(zs(e)?u:Zt)(e,Hi(ni(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=ni(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Xn(e,i),n},n.rest=function(e,t){if("function"!=typeof e)throw new Fo(W);return t=t===B?t:so(t),er(e,t)},n.reverse=Ti,n.sampleSize=function(e,t,n){return t=(n?ui(e,t,n):t===B)?1:so(t),(zs(e)?function(e,t){return Ei(Cr(e),Kt(t,0,e.length))}:function(e,t){var n=yo(e);return Ei(n,Kt(t,0,n.length))})(e,t)},n.set=function(e,t,n){return null==e?e:tr(e,t,n)},n.setWith=function(e,t,n,r){return r="function"==typeof r?r:B,null==e?e:tr(e,t,n,r)},n.shuffle=function(e){return(zs(e)?function(e){return Ei(Cr(e))}:function(e){return Ei(yo(e))})(e)},n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ui(e,t,n)?(t=0,n=r):(t=null==t?0:so(t),n=n===B?r:so(n)),nr(e,t,n)):[]},n.sortBy=As,n.sortedUniq=function(e){return e&&e.length?or(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?or(e,ni(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&ui(e,t,n)&&(t=n=B),(n=n===B?ye:n>>>0)?(e=po(e))&&("string"==typeof t||null!=t&&!Qs(t))&&!(t=sr(t))&&M(e)?yr(U(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new Fo(W);return t=null==t?0:ba(so(t),0),er(function(n){var r=n[t],i=yr(n,0,t);return r&&f(i,r),s(e,this,i)})},n.tail=function(e){var t=null==e?0:e.length;return t?nr(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?(t=n||t===B?1:so(t),nr(e,0,t<0?0:t)):[]},n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===B?1:so(t),t=r-t,nr(e,t<0?0:t,r)):[]},n.takeRightWhile=function(e,t){return e&&e.length?pr(e,ni(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?pr(e,ni(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Fo(W);return Zi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Wi(e,t,{leading:r,maxWait:t,trailing:i})},n.thru=Di,n.toArray=oo,n.toPairs=fc,n.toPairsIn=mc,n.toPath=function(e){return zs(e)?h(e,wi):io(e)?[e]:Cr(os(po(e)))},n.toPlainObject=uo,n.transform=function(e,t,n){var r=zs(e),i=r||Ys(e)||Xs(e);if(t=ni(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Zi(e)&&$i(o)?qa(ta(e)):{}}return(i?c:tn)(e,function(e,r,i){return t(n,e,r,i)}),n},n.unary=function(e){return Ui(e,1)},n.union=fs,n.unionBy=ms,n.unionWith=gs,n.uniq=function(e){return e&&e.length?cr(e):[]},n.uniqBy=function(e,t){return e&&e.length?cr(e,ni(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:B,e&&e.length?cr(e,B,t):[]},n.unset=function(e,t){return null==e||lr(e,t)},n.unzip=Ai,n.unzipWith=Pi,n.update=function(e,t,n){return null==e?e:ur(e,t,gr(n))},n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:B,null==e?e:ur(e,t,gr(n),r)},n.values=yo,n.valuesIn=function(e){return null==e?[]:k(e,go(e))},n.without=vs,n.words=wo,n.wrap=function(e,t){return Fs(gr(t),e)},n.xor=ys,n.xorBy=bs,n.xorWith=Es,n.zip=ws,n.zipObject=function(e,t){return fr(e||[],t||[],Vt)},n.zipObjectDeep=function(e,t){return fr(e||[],t||[],tr)},n.zipWith=_s,n.entries=fc,n.entriesIn=mc,n.extend=tc,n.extendWith=nc,Co(n,n),n.add=Rc,n.attempt=Ic,n.camelCase=gc,n.capitalize=bo,n.ceil=Nc,n.clamp=function(e,t,n){return n===B&&(n=t,t=B),n!==B&&(n=(n=lo(n))==n?n:0),t!==B&&(t=(t=lo(t))==t?t:0),Kt(lo(e),t,n)},n.clone=function(e){return Gt(e,Q)},n.cloneDeep=function(e){return Gt(e,K|Q)},n.cloneDeepWith=function(e,t){return t="function"==typeof t?t:B,Gt(e,K|Q,t)},n.cloneWith=function(e,t){return t="function"==typeof t?t:B,Gt(e,Q,t)},n.conformsTo=function(e,t){return null==t||Qt(e,t,mo(t))},n.deburr=Eo,n.defaultTo=function(e,t){return null==e||e!=e?t:e},n.divide=Lc,n.endsWith=function(e,t,n){e=po(e),t=sr(t);var r=e.length,i=n=n===B?r:Kt(so(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},n.eq=Yi,n.escape=function(e){return(e=po(e))&&at.test(e)?e.replace(it,Rn):e},n.escapeRegExp=function(e){return(e=po(e))&&mt.test(e)?e.replace(ft,"\\$&"):e},n.every=function(e,t,n){var r=zs(e)?l:function(e,t){var n=!0;return Va(e,function(e,r,i){return n=!!t(e,r,i)}),n};return n&&ui(e,t,n)&&(t=B),r(e,ni(t,3))},n.find=Cs,n.findIndex=Ii,n.findKey=function(e,t){return v(e,ni(t,3),tn)},n.findLast=Os,n.findLastIndex=Ci,n.findLastKey=function(e,t){return v(e,ni(t,3),nn)},n.floor=Fc,n.forEach=Ni,n.forEachRight=Li,n.forIn=function(e,t){return null==e?e:za(e,ni(t,3),go)},n.forInRight=function(e,t){return null==e?e:Ha(e,ni(t,3),go)},n.forOwn=function(e,t){return e&&tn(e,ni(t,3))},n.forOwnRight=function(e,t){return e&&nn(e,ni(t,3))},n.get=ho,n.gt=qs,n.gte=Vs,n.has=function(e,t){return null!=e&&ai(e,t,bn)},n.hasIn=fo,n.head=xi,n.identity=So,n.includes=function(e,t,n,r){e=Ki(e)?e:yo(e),n=n&&!r?so(n):0;var i=e.length;return n<0&&(n=ba(i+n,0)),ro(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&b(e,t,n)>-1},n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:so(n);return i<0&&(i=ba(r+i,0)),b(e,t,i)},n.inRange=function(e,t,n){return t=ao(t),n===B?(n=t,t=0):n=ao(n),e=lo(e),function(e,t,n){return e>=Ea(t,n)&&e<ba(t,n)}(e,t,n)},n.invoke=lc,n.isArguments=Ws,n.isArray=zs,n.isArrayBuffer=Hs,n.isArrayLike=Ki,n.isArrayLikeObject=Gi,n.isBoolean=function(e){return!0===e||!1===e||eo(e)&&un(e)==Ce},n.isBuffer=Ys,n.isDate=Ks,n.isElement=function(e){return eo(e)&&1===e.nodeType&&!no(e)},n.isEmpty=function(e){if(null==e)return!0;if(Ki(e)&&(zs(e)||"string"==typeof e||"function"==typeof e.splice||Ys(e)||Xs(e)||Ws(e)))return!e.length;var t=es(e);if(t==Ae||t==Le)return!e.size;if(hi(e))return!Bn(e).length;for(var n in e)if(zo.call(e,n))return!1;return!0},n.isEqual=function(e,t){return On(e,t)},n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:B)?n(e,t):B;return r===B?On(e,t,B,n):!!r},n.isError=Qi,n.isFinite=function(e){return"number"==typeof e&&ga(e)},n.isFunction=$i,n.isInteger=Xi,n.isLength=Ji,n.isMap=Gs,n.isMatch=function(e,t){return e===t||Mn(e,t,ii(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:B,Mn(e,t,ii(t),n)},n.isNaN=function(e){return to(e)&&e!=+e},n.isNative=function(e){if(ts(e))throw new Po(V);return Fn(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=to,n.isObject=Zi,n.isObjectLike=eo,n.isPlainObject=no,n.isRegExp=Qs,n.isSafeInteger=function(e){return Xi(e)&&e>=-me&&e<=me},n.isSet=$s,n.isString=ro,n.isSymbol=io,n.isTypedArray=Xs,n.isUndefined=function(e){return e===B},n.isWeakMap=function(e){return eo(e)&&es(e)==qe},n.isWeakSet=function(e){return eo(e)&&un(e)==Ve},n.join=function(e,t){return null==e?"":va.call(e,t)},n.kebabCase=vc,n.last=ki,n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==B&&(i=(i=so(n))<0?ba(r+i,0):Ea(i,r-1)),t==t?function(e,t,n){for(var r=i+1;r--;)if(e[r]===t)return r;return r}(e,t):y(e,E,i,!0)},n.lowerCase=yc,n.lowerFirst=bc,n.lt=Js,n.lte=Zs,n.max=function(e){return e&&e.length?Jt(e,So,gn):B},n.maxBy=function(e,t){return e&&e.length?Jt(e,ni(t,2),gn):B},n.mean=function(e){return w(e,So)},n.meanBy=function(e,t){return w(e,ni(t,2))},n.min=function(e){return e&&e.length?Jt(e,So,Vn):B},n.minBy=function(e,t){return e&&e.length?Jt(e,ni(t,2),Vn):B},n.stubArray=ko,n.stubFalse=jo,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Uc,n.nth=function(e,t){return e&&e.length?Kn(e,so(t)):B},n.noConflict=function(){return wn._===this&&(wn._=Qo),this},n.noop=Oo,n.now=Ps,n.pad=function(e,t,n){e=po(e);var r=(t=so(t))?F(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Br(ha(i),n)+e+Br(da(i),n)},n.padEnd=function(e,t,n){e=po(e);var r=(t=so(t))?F(e):0;return t&&r<t?e+Br(t-r,n):e},n.padStart=function(e,t,n){e=po(e);var r=(t=so(t))?F(e):0;return t&&r<t?Br(t-r,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_a(po(e).replace(vt,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ui(e,t,n)&&(t=n=B),n===B&&("boolean"==typeof t?(n=t,t=B):"boolean"==typeof e&&(n=e,e=B)),e===B&&t===B?(e=0,t=1):(e=ao(e),t===B?(t=e,e=0):t=ao(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Sa();return Ea(e+i*(t-e+vn("1e-"+((i+"").length-1))),t)}return Jn(e,t)},n.reduce=function(e,t,n){var r=zs(e)?m:I,i=arguments.length<3;return r(e,ni(t,4),n,i,Va)},n.reduceRight=function(e,t,n){var r=zs(e)?function(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}:I,i=arguments.length<3;return r(e,ni(t,4),n,i,Wa)},n.repeat=function(e,t,n){return t=(n?ui(e,t,n):t===B)?1:so(t),Zn(po(e),t)},n.replace=function(){var e=arguments,t=po(e[0]);return e.length<3?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var r=-1,i=(t=vr(t,e)).length;for(i||(i=1,e=B);++r<i;){var o=null==e?B:e[wi(t[r])];o===B&&(r=i,o=n),e=$i(o)?o.call(e):o}return e},n.round=Bc,n.runInContext=e,n.sample=function(e){return(zs(e)?Bt:function(e){return Bt(yo(e))})(e)},n.size=function(e){if(null==e)return 0;if(Ki(e))return ro(e)?F(e):e.length;var t=es(e);return t==Ae||t==Le?e.size:Bn(e).length},n.snakeCase=Ec,n.some=function(e,t,n){var r=zs(e)?g:function(e,t){var n;return Va(e,function(e,r,i){return!(n=t(e,r,i))}),!!n};return n&&ui(e,t,n)&&(t=B),r(e,ni(t,3))},n.sortedIndex=function(e,t){return rr(e,t)},n.sortedIndexBy=function(e,t,n){return ir(e,t,ni(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=rr(e,t);if(r<n&&Yi(e[r],t))return r}return-1},n.sortedLastIndex=function(e,t){return rr(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return ir(e,t,ni(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=rr(e,t,!0)-1;if(Yi(e[n],t))return n}return-1},n.startCase=wc,n.startsWith=function(e,t,n){return e=po(e),n=null==n?0:Kt(so(n),0,e.length),t=sr(t),e.slice(n,n+t.length)==t},n.subtract=qc,n.sum=function(e){return e&&e.length?C(e,So):0},n.sumBy=function(e,t){return e&&e.length?C(e,ni(t,2)):0},n.template=function(e,t,r){var i=n.templateSettings;r&&ui(e,t,r)&&(t=B),e=po(e),t=nc({},t,i,Kr);var o,a,s=nc({},t.imports,i.imports,Kr),c=mo(s),l=k(s,c),u=0,p=t.interpolate||Pt,d="__p += '",h=No((t.escape||Pt).source+"|"+p.source+"|"+(p===lt?It:Pt).source+"|"+(t.evaluate||Pt).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++hn+"]")+"\n";e.replace(h,function(t,n,r,i,s,c){return r||(r=i),d+=e.slice(u,c).replace(Mt,P),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t}),d+="';\n";var m=t.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(et,""):d).replace(tt,"$1").replace(nt,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Ic(function(){return Mo(c,f+"return "+d).apply(B,l)});if(g.source=d,Qi(g))throw g;return g},n.times=function(e,t){if((e=so(e))<1||e>me)return[];var n=ye,r=Ea(e,ye);t=ni(t),e-=ye;for(var i=O(r,t);++n<e;)t(n);return i},n.toFinite=ao,n.toInteger=so,n.toLength=co,n.toLower=function(e){return po(e).toLowerCase()},n.toNumber=lo,n.toSafeInteger=function(e){return e?Kt(so(e),-me,me):0===e?e:0},n.toString=po,n.toUpper=function(e){return po(e).toUpperCase()},n.trim=function(e,t,n){if((e=po(e))&&(n||t===B))return e.replace(gt,"");if(!e||!(t=sr(t)))return e;var r=U(e),i=U(t);return yr(r,T(r,i),A(r,i)+1).join("")},n.trimEnd=function(e,t,n){if((e=po(e))&&(n||t===B))return e.replace(yt,"");if(!e||!(t=sr(t)))return e;var r=U(e);return yr(r,0,A(r,U(t))+1).join("")},n.trimStart=function(e,t,n){if((e=po(e))&&(n||t===B))return e.replace(vt,"");if(!e||!(t=sr(t)))return e;var r=U(e);return yr(r,T(r,U(t))).join("")},n.truncate=function(e,t){var n=ce,r=le;if(Zi(t)){var i="separator"in t?t.separator:i;n="length"in t?so(t.length):n,r="omission"in t?sr(t.omission):r}var o=(e=po(e)).length;if(M(e)){var a=U(e);o=a.length}if(n>=o)return e;var s=n-F(r);if(s<1)return r;var c=a?yr(a,0,s).join(""):e.slice(0,s);if(i===B)return c+r;if(a&&(s+=c.length-s),Qs(i)){if(e.slice(s).search(i)){var l,u=c;for(i.global||(i=No(i.source,po(Ct.exec(i))+"g")),i.lastIndex=0;l=i.exec(u);)var p=l.index;c=c.slice(0,p===B?s:p)}}else if(e.indexOf(sr(i),s)!=s){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+r},n.unescape=function(e){return(e=po(e))&&ot.test(e)?e.replace(rt,Nn):e},n.uniqueId=function(e){var t=++Ho;return po(e)+t},n.upperCase=_c,n.upperFirst=Sc,n.each=Ni,n.eachRight=Li,n.first=xi,Co(n,function(){var e={};return tn(n,function(t,r){zo.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION="4.17.4",c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),c(["drop","take"],function(e,t){S.prototype[e]=function(n){n=n===B?1:ba(so(n),0);var r=this.__filtered__&&!t?new S(this):this.clone();return r.__filtered__?r.__takeCount__=Ea(n,r.__takeCount__):r.__views__.push({size:Ea(n,ye),type:e+(r.__dir__<0?"Right":"")}),r},S.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),c(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==de||3==n;S.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ni(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),c(["head","last"],function(e,t){var n="take"+(t?"Right":"");S.prototype[e]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");S.prototype[e]=function(){return this.__filtered__?new S(this):this[n](1)}}),S.prototype.compact=function(){return this.filter(So)},S.prototype.find=function(e){return this.filter(e).head()},S.prototype.findLast=function(e){return this.reverse().find(e)},S.prototype.invokeMap=er(function(e,t){return"function"==typeof e?new S(this):this.map(function(n){return Sn(n,e,t)})}),S.prototype.reject=function(e){return this.filter(Hi(ni(e)))},S.prototype.slice=function(e,t){e=so(e);var n=this;return n.__filtered__&&(e>0||t<0)?new S(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==B&&(n=(t=so(t))<0?n.dropRight(-t):n.take(t-e)),n)},S.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},S.prototype.toArray=function(){return this.take(ye)},tn(S.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),a=n[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);a&&(n.prototype[t]=function(){var t=this.__wrapped__,c=o?[1]:arguments,l=t instanceof S,u=c[0],p=l||zs(t),d=function(e){var t=a.apply(n,f([e],c));return o&&h?t[0]:t};p&&r&&"function"==typeof u&&1!=u.length&&(l=p=!1);var h=this.__chain__,m=!!this.__actions__.length,g=s&&!h,v=l&&!m;if(!s&&p){t=v?t:new S(this);var y=e.apply(t,c);return y.__actions__.push({func:Di,args:[d],thisArg:B}),new i(y,h)}return g&&v?e.apply(this,c):(y=this.thru(d),g?o?y.value()[0]:y.value():y)})}),c(["pop","push","shift","sort","splice","unshift"],function(e){var t=Uo[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(zs(n)?n:[],e)}return this[r](function(n){return t.apply(zs(n)?n:[],e)})}}),tn(S.prototype,function(e,t){var r=n[t];if(r){var i=r.name+"";(Pa[i]||(Pa[i]=[])).push({name:t,func:r})}}),Pa[Nr(B,Z).name]=[{name:"wrapper",func:B}],S.prototype.clone=function(){var e=new S(this.__wrapped__);return e.__actions__=Cr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Cr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Cr(this.__views__),e},S.prototype.reverse=function(){if(this.__filtered__){var e=new S(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},S.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=zs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Ea(t,e+a);break;case"takeRight":e=ba(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,c=s-a,l=r?s:a-1,u=this.__iteratees__,p=u.length,d=0,h=Ea(c,this.__takeCount__);if(!n||!r&&i==c&&h==c)return dr(e,this.__actions__);var f=[];e:for(;c--&&d<h;){for(var m=-1,g=e[l+=t];++m<p;){var v=u[m],y=v.iteratee,b=v.type,E=y(g);if(b==he)g=E;else if(!E){if(b==de)continue e;break e}}f[d++]=g}return f},n.prototype.at=Ss,n.prototype.chain=function(){return Mi(this)},n.prototype.commit=function(){return new i(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===B&&(this.__values__=oo(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?B:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof r;){var i=Si(n);i.__index__=0,i.__values__=B,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof S){var t=e;return this.__actions__.length&&(t=new S(this)),(t=t.reverse()).__actions__.push({func:Di,args:[Ti],thisArg:B}),new i(t,this.__chain__)}return this.thru(Ti)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return dr(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,aa&&(n.prototype[aa]=Ri),n}();wn._=Ln,(i=function(){return Ln}.call(t,n,t,r))!==B&&(r.exports=i)}).call(this)}).call(t,n(81),n(258)(e))},274:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(7),h=n.n(d),f=n(6),m=n(2),g=n(57),v=(n.n(g),n(372)),y=n.n(v),b=n(37),E=n(15),w=n.n(E),_=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.optionRenderer=function(e){var t={disabled:e.disabled};return p.a.createElement("div",{className:w()(t)},p.a.createElement(m.Text,{size:"l",className:"title truncate-single-line"},e.title),e.disabledTooltip&&p.a.createElement(m.Text,null,e.disabledTooltip))},r.handleBlur=function(e){r.props.newProjectOptionOnBlur&&r.onChange({title:e.target.value,id:e.target.value,isNewProject:!0})},r.state={currentValue:n.preselectedProjectId||null,isNewProject:!1},r.bem=new h.a(n.className),r.onChange=r.onChange.bind(r),r}return c()(t,e),t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.onChange=function(e){this.setState({currentValue:e,isNewProject:!!e&&!!e.isNewProject}),this.props.onChange(e)},t.prototype.newOptionCreator=function(e){var t,n=e.label,r=e.labelKey,i=e.valueKey;return t={},t[r]=n,t[i]=n,t.isNewProject=!0,t},t.prototype.promptTextCreator=function(e){return'Create new project "'+e+'"'},t.prototype.shouldKeyDownEventCreateNewOption=function(e){switch(e.keyCode){case 13:return!0}return!1},t.prototype.getNewProjectHiddenInput=function(){if(this.state.isNewProject)return p.a.createElement("input",{type:"hidden",name:"isNewProject",value:this.state.isNewProject})},t.prototype.render=function(){var e=this,t=this.bem("",{invalid:"invalid"===this.props.status});return p.a.createElement("div",t,p.a.createElement(g.Creatable,{onBlur:this.handleBlur,onBlurResetsInput:!1,newOptionCreator:this.newOptionCreator,promptTextCreator:this.promptTextCreator,shouldKeyDownEventCreateNewOption:this.shouldKeyDownEventCreateNewOption,name:this.props.name,options:this.props.options,onChange:this.onChange,menuRenderer:y.a,optionRenderer:this.optionRenderer,valueKey:"id",labelKey:"title",value:this.state.currentValue,placeholder:this.props.placeholder}),p.a.createElement("div",{ref:function(t){e.selectMenu=t}}),this.getNewProjectHiddenInput())},t}(u.Component);_.defaultProps={onChange:function(){},name:"project",className:"project-selector",placeholder:"Select a project or enter the title of a new one",disabledProjectIds:[],disabledTooltip:p.a.createElement("span",null,"Project is disabled for selection"),newProjectOptionOnBlur:!1},t.a=Object(f.connectWidget)(function(e,t){var n=t.disabledProjectIds,r=t.disabledTooltip;return{options:t.projectIds.map(function(t){var i=Object(b.g)(e,{projectId:t}),o=!!Array.isArray(n)&&n.includes(t);return{id:i.id,title:i.title,disabled:o,disabledTooltip:o?r:null}})}})(_)},281:function(e,t,n){"use strict";var r=n(8),i=n.n(r),o=n(6),a=n(491),s=n(42),c=n(374),l=n(2),u=n(532);u.a.role=l.PublicationItem.Authors.role,t.a=i()(Object(o.connectWidget)(function(e,t){var n=Object(a.c)(e,t),r=n.length,i=Math.min(r,3),o=Math.min(r-i,1),l=n.map(function(n){return function(e,t,n){var r=Object(a.b)(t),i=Object(c.a)(t,{authorUid:e.authorUid}),o=Object(s.c)(t,{accountId:e.accountId});return o.accountId&&"Deleted Profile"!==o.fullName?Object.assign({name:o.fullName,url:o.accountURL},n&&{imageUrl:o.profile.imageURL}):Object.assign({name:e.nameOnPublication,url:i.authorUid?i.authorURL:null},n&&{imageUrl:r})}(n,e,t.showImages)});return{headAuthorships:l.slice(0,3),tailAuthorships:o?l.slice(-o):[],countLeft:r-i-o}}))(u.a)},282:function(e,t,n){"use strict";t.a=function(e,t,n,r){var o=e.projectId,a=e.defaultConversationKey,s=i()(e,["projectId","defaultConversationKey"]),l=new p.a(o,p.b.TYPE_PROJECT).getFullKey(),u=Object.assign({rootId:l,parentId:a},s);return function(e){return e(Object(c.k)(u,t,n,r))}},n.d(t,"c",function(){return f}),t.b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=t.offset;return function(t){return Object(l.e)(e,{offset:r,limit:n}).then(function(e){t(Object(u.b)(e))})}};var r=n(16),i=n.n(r),o=n(0),a=n.n(o),s=n(31),c=n(120),l=n(316),u=n(49),p=n(17),d=n(12),h=n(2),f=function(e,t){return function(n){return n(Object(c.n)(e,t)).then(function(){Object(s.d)("Update deleted",s.a)}).catch(function(e){var t=e.message,r=a.a.createElement(h.Alert,{color:"red",title:"Update could not be deleted",description:t});n(Object(d.pushAlert)(function(){return r}))})}}},302:function(e,t,n){"use strict";function r(e){return I+e}function i(e){var t=r(e);f.a.remove(t)}function o(e){if(null===e.title)throw new Error("alertObject.title not set");if(null===e.description)throw new Error("alertObject.description not set")}Object.defineProperty(t,"__esModule",{value:!0}),t.storeDelayedAlert=function(e,t){var n=r(t),i=f.a.get(n);i||(i=[]),o(e),i.push(e),f.a.set(n,i)},t.removeDelayedAlert=i,n.d(t,"AlertObjectBuilder",function(){return O});var a=n(3),s=n.n(a),c=n(4),l=n.n(c),u=n(5),p=n.n(u),d=n(1),h=(n.n(d),n(477)),f=n.n(h),m=n(0),g=n.n(m),v=n(6),y=n(2),b=n(12),E=n(47),w=n(14),_=n(10),S=n(24),I="1:delayedAlertStore:",C=function(e){function t(){var n,r,i;s()(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(a))),r.state={buttonUrl:""},r.clickButton=function(e){e.preventDefault(),Object(w.a)(r.props.buttonClickedMilestoneUrl),Object(S.b)(r.state.buttonUrl)},i=n,l()(r,i)}return p()(t,e),t.prototype.startExperiment=function(){Object(_.default)(this.props.startExperimentUrl,{method:"POST",query:{viewId:this.props.viewId}})},t.prototype.componentDidMount=function(){var e=this,t=r(this.props.currentAccountId),n=f.a.get(t);if(n)for(var a=function(t){var r=n[t];o(r);var a=window.location.pathname;if(-1!==r.removeOnUrlPaths.indexOf(a))return i(e.props.currentAccountId),"continue";var s=r.button.text?g.a.createElement(y.Button,{type:"button",theme:"inverted",onClick:e.clickButton},r.button.text):null,c=r.iconName?g.a.createElement(y.Icon,{identifier:r.iconName,size:"l"}):null,l=g.a.createElement(y.Alert,{title:r.title,description:r.description,color:r.color},s,c);e.props.dispatch(Object(b.pushAlert)(function(){return l})),i(e.props.currentAccountId),r.button.url&&e.setState({buttonUrl:r.button.url}),r.startExperiment&&e.startExperiment()},s=0;s<n.length;s++){a(s)}},t.prototype.render=function(){return null},t}(m.Component),O=function(){function e(){s()(this,e),this.alertObject={title:null,description:null,button:{text:null,url:null},color:"blue",removeOnUrlPaths:[],iconName:null,startExperiment:!1}}return e.prototype.setTitle=function(e){this.alertObject.title=e},e.prototype.setDescription=function(e){this.alertObject.description=e},e.prototype.setButtonText=function(e){this.alertObject.button.text=e},e.prototype.setButtonUrl=function(e){this.alertObject.button.url=e},e.prototype.setColor=function(e){this.alertObject.color=e},e.prototype.setRemoveOnUrlPaths=function(e){this.alertObject.removeOnUrlPaths=e},e.prototype.setStartExperiment=function(e){this.alertObject.startExperiment=e},e.prototype.setIcon=function(e){this.alertObject.iconName=e},e.prototype.build=function(){return this.alertObject},e}();t.default=Object(v.connectWidget)(function(e){return{currentAccountId:Object(E.b)(e)}})(C)},305:function(e,t,n){"use strict";var r=n(11),i=n.n(r),o=n(16),a=n.n(o),s=n(0),c=n.n(s),l=(n(1),n(13)),u=n(256),p=n(8),d=n.n(p),h=n(116),f=n.n(h),m=n(17),g=n(660),v=i()(["\n            query GraphQLInlinePublication($id: ID!) {\n                publication(id: $id) {\n                    id\n                    title\n                    publicationUrl: url\n                    displayablePublicationType\n                    hasFulltext: hasPublicFulltexts\n                }\n            }\n        "],["\n            query GraphQLInlinePublication($id: ID!) {\n                publication(id: $id) {\n                    id\n                    title\n                    publicationUrl: url\n                    displayablePublicationType\n                    hasFulltext: hasPublicFulltexts\n                }\n            }\n        "]),y=d()(f()(function(e){var t=e.data;return{id:new m.a(t.publicationUid,m.b.TYPE_PUBLICATION).getFullKey()}}),Object(l.withQuery)(Object(l.gql)(v),{mapDataToProps:function(e){var t=e.publication;return Object.assign({},t)}}))(g.a),b=i()(["\n        query GraphQLMessageBody($id: ID!) {\n            message(id: $id) {\n                struct {\n                    data\n                }\n                body\n                mentionedPublications {\n                    ...GraphQLInlinePublication @embed\n                }\n            }\n        }\n    "],["\n        query GraphQLMessageBody($id: ID!) {\n            message(id: $id) {\n                struct {\n                    data\n                }\n                body\n                mentionedPublications {\n                    ...GraphQLInlinePublication @embed\n                }\n            }\n        }\n    "]);t.a=Object(l.withQuery)(Object(l.gql)(b))(function(e){var t=a()(e,[]);return c.a.createElement(u.a,Object.assign({entityRendererPublicationComponent:y},t))})},323:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=(n(106),n(2)),h=n(186),f=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={visible:!1,status:""},r.toggle=function(){r.setState({visible:!r.state.visible})},r.handleConfirm=function(){r.setState({visible:!0,status:"busy"}),r.props.onConfirm(r.props.message,r.props.context).catch(r.toggle)},o=n,a()(r,o)}return c()(t,e),t.prototype.getButton=function(){var e=this.props.className;return p.a.createElement(d.Button,{type:"button",className:e,onClick:this.toggle},p.a.createElement(d.Button.Label,{className:this.props.className+"-label"},"Delete"))},t.prototype.getLink=function(){var e=this.props.className;return p.a.createElement(d.Link,{theme:"bare",className:e,onClick:this.toggle},"Delete")},t.prototype.getButtonOrLink=function(){return this.props.renderAsLink?this.getLink():this.getButton()},t.prototype.render=function(){var e=this.props.showButton,t=p.a.createElement(h.a,Object.assign({className:"message-item-confirm-modal",title:this.props.title,onConfirm:this.handleConfirm,onCancel:this.toggle},this.state));return p.a.createElement("span",null,t,e?this.getButtonOrLink():null)},t}(u.Component);f.defaultProps={showButton:!0,renderAsLink:!1},t.a=f},324:function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(8),a=n.n(o),s=n(30),c=n.n(s),l=n(253),u=n.n(l),p=n(239),d=n(20),h=n(267);i.a.string.isRequired,i.a.string,i.a.string,i.a.func,i.a.string,i.a.string;t.a=a()(u()({labelReport:"Report",labelReported:"Reported"}),Object(d.connect)(function(e,t){var n=t.entityId,r=t.labelReport,i=t.labelReported,o=Object(h.a)(e,n);return{status:o?"disabled":null,label:o?i:r}}),c()({onClick:function(e){var t=e.entityId,n=e.dispatch;return function(){return n(Object(p.f)(t))}}}))},325:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(2),d=function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"followed ",e.storyTargetArticle," ",e.storyTargetName):u.a.createElement("span",null,"followed ",e.entityTotalCount," research items")},h=function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"answered a question"):u.a.createElement("span",null,"answered ",e.entityTotalCount," questions")},f=function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"added a ",e.storyTargetObject," to ",e.storyTargetArticle," ",e.storyTargetName):u.a.createElement("span",null,"added files to ",e.entityTotalCount," research items")},m=function(e){return u.a.createElement("span",null,"recommended an update in the project ",u.a.createElement(p.Link,{href:e.storyTargetUrl},e.storyTargetName))},g=function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"recommended a question"):u.a.createElement("span",null,"recommended ",e.entityTotalCount," questions")},v=function(e){return e.isObjectFollowed?u.a.createElement("span",null,"recommended feedback on ",e.storyTargetArticle," ",e.storyTargetName," you follow"):u.a.createElement("span",null,"recommended feedback on ",e.storyTargetArticle," ",e.storyTargetName)},y=function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"recommended ",e.storyTargetArticle," ",e.storyTargetName):u.a.createElement("span",null,"recommended ",e.entityTotalCount," research items")},b={AccountAddBookmarkPublication:d,AccountAddCommentFeedback:function(e){return e.isObjectFollowed?u.a.createElement("span",null,"commented on ",e.storyTargetArticle," ",e.storyTargetName," you follow"):u.a.createElement("span",null,"commented on ",e.storyTargetArticle," ",e.storyTargetName)},AccountAddCommentPost:h,AccountAddFeedbackPublication:function(e){return e.isObjectFollowed?u.a.createElement("span",null,"commented on ",e.storyTargetArticle," ",e.storyTargetName," you follow"):u.a.createElement("span",null,"commented on ",e.storyTargetArticle," ",e.storyTargetName)},AccountAddPostPost:h,AccountAddPublication:function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"added ",e.storyTargetArticle," ",e.storyTargetName):u.a.createElement("span",null,"added ",e.entityTotalCount," research items")},AccountAddFilePublication:f,AccountAddPublicationlinkPublication:f,AccountFollowPost:function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"followed a question"):u.a.createElement("span",null,"followed ",e.entityTotalCount," questions")},AccountFollowProject:function(e){return e.entityTotalCount>1?u.a.createElement("span",null,"followed ",e.entityTotalCount," projects"):u.a.createElement("span",null,"followed a project")},AccountFollowPublication:d,AccountJoinProject:function(e){var t=e.storySubjectSecondaryName?"were":"was";return e.entityTotalCount>1?u.a.createElement("span",null,t," added to ",e.entityTotalCount," projects"):u.a.createElement("span",null,t," added to a project")},AccountLikeMessageProject:m,AccountLikeMessagePublication:v,AccountLikePost:g,AccountLikePublication:y,AccountRecommendMessageProject:m,AccountRecommendMessagePublication:v,AccountRecommendPost:g,AccountRecommendPublication:y,AccountMentionAccountMessage:function(e){return u.a.createElement("span",null,"was mentioned in a ",e.storyTargetName)},AccountPostMessageProjectReply:function(e){return u.a.createElement("span",null,"commented on an update in the project ",u.a.createElement(p.Link,{href:e.storyTargetUrl},e.storyTargetName))},AccountPostMessageProjectUpdate:function(e){return u.a.createElement("span",null,"added an update in the project ",u.a.createElement(p.Link,{href:e.storyTargetUrl},e.storyTargetName))},AccountPostPost:function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"asked a question"):u.a.createElement("span",null,"asked ",e.entityTotalCount," questions")},AccountPostProject:function(e){return e.entityTotalCount>1?u.a.createElement("span",null,"created ",e.entityTotalCount," projects"):u.a.createElement("span",null,"created a project")},AccountProducePostProject:function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"added a research item to the project ",u.a.createElement(p.Link,{href:e.storyTargetUrl},e.storyTargetName)):u.a.createElement("span",null,"added ",e.entityTotalCount," research items to the project ",u.a.createElement(p.Link,{href:e.storyTargetUrl},e.storyTargetName))},AccountProducePublicationProject:function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"added a research item to the project ",u.a.createElement(p.Link,{href:e.storyTargetUrl},e.storyTargetName)):u.a.createElement("span",null,"added ",e.entityTotalCount," research items to the project ",u.a.createElement(p.Link,{href:e.storyTargetUrl},e.storyTargetName))},AccountPublishPublication:function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"added ",e.storyTargetArticle," ",e.storyTargetName):u.a.createElement("span",null,"added ",e.entityTotalCount," research items")}},E={AccountPostGoalProject:function(){return u.a.createElement("span",null,"added a ",u.a.createElement("b",null,"project goal"))},AccountPostMessageProject:function(){return u.a.createElement("span",null,"added an ",u.a.createElement("b",null,"update"))},AccountProducePostProject:function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"added a ",u.a.createElement("b",null,"research item")):u.a.createElement("span",null,"added ",u.a.createElement("b",null,e.entityTotalCount," research items"))},AccountProducePublicationProject:function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"added a ",u.a.createElement("b",null,"research item")):u.a.createElement("span",null,"added ",u.a.createElement("b",null,e.entityTotalCount," research items"))},AccountReferencePublicationProject:function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"added a ",u.a.createElement("b",null,"project reference")):u.a.createElement("span",null,"added ",u.a.createElement("b",null,e.entityTotalCount," project references"))},AccountReferenceQuestionProject:function(e){return 1===e.entityTotalCount?u.a.createElement("span",null,"added a ",u.a.createElement("b",null,"project reference")):u.a.createElement("span",null,"added ",u.a.createElement("b",null,e.entityTotalCount," project references"))}},w=n(18);n.d(t,"a",function(){return _}),n.d(t,"b",function(){return S});var _="homeFeed",S="projectUpdatesLog",I=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.getStorySubjectImage=function(){var e=this.props,t=e.storySubjectImageUrl,n=e.storySubjectName,r=e.storySubjectProfileUrl;return t?u.a.createElement(p.ActivityItem.StoryImage,{href:r,alt:n,imageUrl:t}):null},t.prototype.getStorySubjectName=function(e,t){return e?t?u.a.createElement(p.Link,{color:"blue",theme:"bare",href:t},e):u.a.createElement("span",null,e):null},t.prototype.getStorySubjectNameList=function(){var e=this.props,t=e.storySubjectName,n=e.storySubjectProfileUrl,r=e.storySubjectSecondaryName,i=e.storySubjectSecondaryProfileUrl,o=e.storySubjectAdditionalCount,a=this.getStorySubjectName(t,n),s=this.getStorySubjectName(r,i);return null===s?u.a.createElement(p.ActivityItem.StorySubject,null,a):o?u.a.createElement(p.ActivityItem.StorySubject,null,u.a.createElement("span",null,a," and ",o," others")):u.a.createElement(p.ActivityItem.StorySubject,null,u.a.createElement("span",null,a," and ",s))},t.prototype.getStoryBodyText=function(){var e=this.props,t=e.renderContext,n=e.storyBodyIdentifier,r={};switch(t){case _:r=b;break;case S:r=E}if(!r.hasOwnProperty(n))return null;var i=r[n];return u.a.createElement(i,this.props)},t.prototype.render=function(){var e=this.getStoryBodyText();return u.a.createElement(p.ActivityItem.Story,{metaContext:this.props.metaContext},this.getStorySubjectImage(),this.getStorySubjectNameList(),e&&u.a.createElement(p.ActivityItem.StoryBody,{clamp:"2"},e))},t}(l.Component);t.c=Object(w.a)(p.ActivityItem.Story)(I)},326:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var r=n(43),i=n.n(r),o=function(e){return i()(e).format()},a=function(e,t){return i()(e?t/e:0).format("0.00%")},s=function(e){return i()(e).format("0.00%")},c=function(e){return i()(e).format("0,0.00")},l=function(e){return i()(e).format("0,0")}},327:function(e,t,n){var r=n(571);e.exports=function(e){return e&&e.length?r(e):[]}},329:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=r(a),c=r(n(1)),l=r(n(330)),u=r(n(331)),p=n(338),d=function(e){function t(e){var n=e.alwaysRenderSuggestions;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return h.call(r),r.state={isFocused:!1,isCollapsed:!n,highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null},r.justPressedUpDown=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"componentWillReceiveProps",value:function(e){(0,l.default)(e.suggestions,this.props.suggestions)?e.highlightFirstSuggestion&&e.suggestions.length>0&&!1===this.justPressedUpDown&&this.highlightFirstSuggestion():this.willRenderSuggestions(e)?(e.highlightFirstSuggestion&&this.highlightFirstSuggestion(),this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions()):this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.onSuggestionHighlighted;if(n){var r=this.state,i=r.highlightedSectionIndex,o=r.highlightedSuggestionIndex;if(i!==t.highlightedSectionIndex||o!==t.highlightedSuggestionIndex){n({suggestion:this.getHighlightedSuggestion()})}}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown)}},{key:"updateHighlightedSuggestion",value:function(e,t,n){this.setState(function(r){var i=r.valueBeforeUpDown;return null===t?i=null:null===i&&void 0!==n&&(i=n),{highlightedSectionIndex:e,highlightedSuggestionIndex:t,valueBeforeUpDown:i}})}},{key:"resetHighlightedSuggestion",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState(function(t){var n=t.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:e?null:n}})}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(e,t){var n=this.props,r=n.suggestions,i=n.multiSection,o=n.getSectionSuggestions;return i?o(r[e])[t]:r[t]}},{key:"getHighlightedSuggestion",value:function(){var e=this.state,t=e.highlightedSectionIndex,n=e.highlightedSuggestionIndex;return null===n?null:this.getSuggestion(t,n)}},{key:"getSuggestionValueByIndex",value:function(e,t){return(0,this.props.getSuggestionValue)(this.getSuggestion(e,t))}},{key:"getSuggestionIndices",value:function(e){var t=e.getAttribute("data-section-index"),n=e.getAttribute("data-suggestion-index");return{sectionIndex:"string"==typeof t?parseInt(t,10):null,suggestionIndex:parseInt(n,10)}}},{key:"findSuggestionElement",value:function(e){var t=e;do{if(null!==t.getAttribute("data-suggestion-index"))return t;t=t.parentNode}while(null!==t);throw console.error("Clicked element:",e),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(e,t,n){var r=this.props.inputProps,i=r.value,o=r.onChange;t!==i&&o(e,{newValue:t,method:n})}},{key:"willRenderSuggestions",value:function(e){var t=e.suggestions,n=e.inputProps,r=e.shouldRenderSuggestions,i=n.value;return t.length>0&&r(i)}},{key:"getQuery",value:function(){var e=this.props.inputProps.value;return(this.state.valueBeforeUpDown||e).trim()}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestions,r=t.renderInputComponent,o=t.onSuggestionsFetchRequested,a=t.renderSuggestion,c=t.inputProps,l=t.multiSection,d=t.renderSectionTitle,h=t.id,f=t.getSectionSuggestions,m=t.theme,g=t.getSuggestionValue,v=t.alwaysRenderSuggestions,y=this.state,b=y.isFocused,E=y.isCollapsed,w=y.highlightedSectionIndex,_=y.highlightedSuggestionIndex,S=y.valueBeforeUpDown,I=v?function(){return!0}:this.props.shouldRenderSuggestions,C=c.value,O=c.onFocus,x=c.onKeyDown,k=this.willRenderSuggestions(this.props),j=v||b&&!E&&k,T=j?n:[],A=i({},c,{onFocus:function(t){if(!e.justSelectedSuggestion&&!e.justClickedOnSuggestionsContainer){var n=I(C);e.setState({isFocused:!0,isCollapsed:!n}),O&&O(t),n&&o({value:C,reason:"input-focused"})}},onBlur:function(t){e.justClickedOnSuggestionsContainer?e.input.focus():(e.blurEvent=t,e.justSelectedSuggestion||(e.onBlur(),e.onSuggestionsClearRequested()))},onChange:function(t){var n=t.target.value,r=I(n);e.maybeCallOnChange(t,n,"type"),e.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null,isCollapsed:!r}),r?o({value:n,reason:"input-changed"}):e.onSuggestionsClearRequested()},onKeyDown:function(t,r){var i=t.keyCode;switch(i){case 40:case 38:if(E)I(C)&&(o({value:C,reason:"suggestions-revealed"}),e.revealSuggestions());else if(n.length>0){var a=r.newHighlightedSectionIndex,s=r.newHighlightedItemIndex,c=void 0;c=null===s?null===S?C:S:e.getSuggestionValueByIndex(a,s),e.updateHighlightedSuggestion(a,s,C),e.maybeCallOnChange(t,c,40===i?"down":"up")}t.preventDefault(),e.justPressedUpDown=!0,setTimeout(function(){e.justPressedUpDown=!1});break;case 13:if(229===t.keyCode)break;var l=e.getHighlightedSuggestion();if(j&&!v&&e.closeSuggestions(),null!==l){var u=g(l);e.maybeCallOnChange(t,u,"enter"),e.onSuggestionSelected(t,{suggestion:l,suggestionValue:u,suggestionIndex:_,sectionIndex:w,method:"enter"}),e.justSelectedSuggestion=!0,setTimeout(function(){e.justSelectedSuggestion=!1})}break;case 27:j&&t.preventDefault();var p=j&&!v;if(null===S){if(!p){e.maybeCallOnChange(t,"","escape"),I("")?o({value:"",reason:"escape-pressed"}):e.onSuggestionsClearRequested()}}else e.maybeCallOnChange(t,S,"escape");p?(e.onSuggestionsClearRequested(),e.closeSuggestions()):e.resetHighlightedSuggestion()}x&&x(t)}}),P={query:this.getQuery()};return s.default.createElement(u.default,{multiSection:l,items:T,renderInputComponent:r,renderItemsContainer:this.renderSuggestionsContainer,renderItem:a,renderItemData:P,renderSectionTitle:d,getSectionItems:f,highlightedSectionIndex:w,highlightedItemIndex:_,inputProps:A,itemProps:this.itemProps,theme:(0,p.mapToAutowhateverTheme)(m),id:h,ref:this.storeAutowhateverRef})}}]),t}();d.propTypes={suggestions:c.default.array.isRequired,onSuggestionsFetchRequested:function(e,t){var n=e[t];if("function"!=typeof n)throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(e,t){var n=e[t];if(!1===e.alwaysRenderSuggestions&&"function"!=typeof n)throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},onSuggestionSelected:c.default.func,onSuggestionHighlighted:c.default.func,renderInputComponent:c.default.func,renderSuggestionsContainer:c.default.func,getSuggestionValue:c.default.func.isRequired,renderSuggestion:c.default.func.isRequired,inputProps:function(e,t){var n=e[t];if(!n.hasOwnProperty("value"))throw new Error("'inputProps' must have 'value'.");if(!n.hasOwnProperty("onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:c.default.func,alwaysRenderSuggestions:c.default.bool,multiSection:c.default.bool,renderSectionTitle:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:c.default.bool,highlightFirstSuggestion:c.default.bool,theme:c.default.object,id:c.default.string},d.defaultProps={renderSuggestionsContainer:function(e){var t=e.containerProps,n=e.children;return s.default.createElement("div",t,n)},shouldRenderSuggestions:function(e){return e.trim().length>0},alwaysRenderSuggestions:!1,multiSection:!1,focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:p.defaultTheme,id:"1"};var h=function(){var e=this;this.onDocumentMouseDown=function(t){e.justClickedOnSuggestionsContainer=!1;for(var n=t.detail&&t.detail.target||t.target;null!==n&&n!==document;){if(null!==n.getAttribute("data-suggestion-index"))return;if(n===e.suggestionsContainer)return void(e.justClickedOnSuggestionsContainer=!0);n=n.parentNode}},this.storeAutowhateverRef=function(t){null!==t&&(e.autowhatever=t)},this.onSuggestionMouseEnter=function(t,n){var r=n.sectionIndex,i=n.itemIndex;e.updateHighlightedSuggestion(r,i)},this.highlightFirstSuggestion=function(){e.updateHighlightedSuggestion(e.props.multiSection?0:null,0)},this.onSuggestionMouseDown=function(){e.justSelectedSuggestion=!0},this.onSuggestionsClearRequested=function(){var t=e.props.onSuggestionsClearRequested;t&&t()},this.onSuggestionSelected=function(t,n){var r=e.props,i=r.alwaysRenderSuggestions,o=r.onSuggestionSelected,a=r.onSuggestionsFetchRequested;o&&o(t,n),i?a({value:n.suggestionValue,reason:"suggestion-selected"}):e.onSuggestionsClearRequested(),e.resetHighlightedSuggestion()},this.onSuggestionClick=function(t){var n=e.props,r=n.alwaysRenderSuggestions,i=n.focusInputOnSuggestionClick,o=e.getSuggestionIndices(e.findSuggestionElement(t.target)),a=o.sectionIndex,s=o.suggestionIndex,c=e.getSuggestion(a,s),l=e.props.getSuggestionValue(c);e.maybeCallOnChange(t,l,"click"),e.onSuggestionSelected(t,{suggestion:c,suggestionValue:l,suggestionIndex:s,sectionIndex:a,method:"click"}),r||e.closeSuggestions(),!0===i?e.input.focus():e.onBlur(),setTimeout(function(){e.justSelectedSuggestion=!1})},this.onBlur=function(){var t=e.props,n=t.inputProps,r=t.shouldRenderSuggestions,i=n.value,o=n.onBlur,a=e.getHighlightedSuggestion(),s=r(i);e.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null,isCollapsed:!s}),o&&o(e.blurEvent,{highlightedSuggestion:a})},this.resetHighlightedSuggestionOnMouseLeave=function(){e.resetHighlightedSuggestion(!1)},this.itemProps=function(t){return{"data-section-index":t.sectionIndex,"data-suggestion-index":t.itemIndex,onMouseEnter:e.onSuggestionMouseEnter,onMouseLeave:e.resetHighlightedSuggestionOnMouseLeave,onMouseDown:e.onSuggestionMouseDown,onTouchStart:e.onSuggestionMouseDown,onClick:e.onSuggestionClick}},this.renderSuggestionsContainer=function(t){var n=t.containerProps,r=t.children;return(0,e.props.renderSuggestionsContainer)({containerProps:n,children:r,query:e.getQuery()})}};t.default=d},330:function(e,t){e.exports=function(e,t){if(e===t)return!0;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}},331:function(e,t,n){"use strict";e.exports=n(332).default},332:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),l=r(n(1)),u=r(n(333)),p=r(n(334)),d=r(n(335)),h=r(n(336)),f={},m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storeInputReference=function(e){null!==e&&(n.input=e)},n.storeItemsContainerReference=function(e){null!==e&&(n.itemsContainer=e)},n.onHighlightedItemChange=function(e){n.highlightedItem=e},n.getItemId=function(e,t){if(null===t)return null;return"react-autowhatever-"+n.props.id+"-"+(null===e?"":"section-"+e)+"-item-"+t},n.onFocus=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!0}),t.onFocus&&t.onFocus(e)},n.onBlur=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!1}),t.onBlur&&t.onBlur(e)},n.onKeyDown=function(e){var t=n.props,r=t.inputProps,i=t.highlightedSectionIndex,a=t.highlightedItemIndex;switch(e.key){case"ArrowDown":case"ArrowUp":var s="ArrowDown"===e.key?"next":"prev",c=n.sectionIterator[s]([i,a]),l=o(c,2),u=l[0],p=l[1];r.onKeyDown(e,{newHighlightedSectionIndex:u,newHighlightedItemIndex:p});break;default:r.onKeyDown(e,{highlightedSectionIndex:i,highlightedItemIndex:a})}},n.highlightedItem=null,n.state={isInputFocused:!1},n.setSectionsItems(e),n.setSectionIterator(e),n.setTheme(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"componentWillReceiveProps",value:function(e){e.items!==this.props.items&&this.setSectionsItems(e),e.items===this.props.items&&e.multiSection===this.props.multiSection||this.setSectionIterator(e),e.theme!==this.props.theme&&this.setTheme(e)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(e){e.multiSection&&(this.sectionsItems=e.items.map(function(t){return e.getSectionItems(t)}),this.sectionsLengths=this.sectionsItems.map(function(e){return e.length}),this.allSectionsAreEmpty=this.sectionsLengths.every(function(e){return 0===e}))}},{key:"setSectionIterator",value:function(e){this.sectionIterator=(0,u.default)({multiSection:e.multiSection,data:e.multiSection?this.sectionsLengths:e.items.length})}},{key:"setTheme",value:function(e){this.theme=(0,p.default)(e.theme)}},{key:"renderSections",value:function(){var e=this;if(this.allSectionsAreEmpty)return null;var t=this.theme,n=this.props,r=n.id,i=n.items,o=n.renderItem,a=n.renderItemData,s=n.renderSectionTitle,l=n.highlightedSectionIndex,u=n.highlightedItemIndex,p=n.itemProps;return i.map(function(n,i){var f="react-autowhatever-"+r+"-",m=f+"section-"+i+"-",g=0===i;return c.default.createElement("div",t(m+"container","sectionContainer",g&&"sectionContainerFirst"),c.default.createElement(d.default,{section:n,renderSectionTitle:s,theme:t,sectionKeyPrefix:m}),c.default.createElement(h.default,{items:e.sectionsItems[i],itemProps:p,renderItem:o,renderItemData:a,sectionIndex:i,highlightedItemIndex:l===i?u:null,onHighlightedItemChange:e.onHighlightedItemChange,getItemId:e.getItemId,theme:t,keyPrefix:f,ref:e.storeItemsListReference}))})}},{key:"renderItems",value:function(){var e=this.props.items;if(0===e.length)return null;var t=this.theme,n=this.props,r=n.id,i=n.renderItem,o=n.renderItemData,a=n.highlightedSectionIndex,s=n.highlightedItemIndex,l=n.itemProps;return c.default.createElement(h.default,{items:e,itemProps:l,renderItem:i,renderItemData:o,highlightedItemIndex:null===a?s:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:t,keyPrefix:"react-autowhatever-"+r+"-"})}},{key:"ensureHighlightedItemIsVisible",value:function(){var e=this.highlightedItem;if(e){var t=this.itemsContainer,n=e.offsetParent===t?e.offsetTop:e.offsetTop-t.offsetTop,r=t.scrollTop;n<r?r=n:n+e.offsetHeight>r+t.offsetHeight&&(r=n+e.offsetHeight-t.offsetHeight),r!==t.scrollTop&&(t.scrollTop=r)}}},{key:"render",value:function(){var e=this.theme,t=this.props,n=t.id,r=t.multiSection,o=t.renderInputComponent,a=t.renderItemsContainer,s=t.highlightedSectionIndex,l=t.highlightedItemIndex,u=this.state.isInputFocused,p=r?this.renderSections():this.renderItems(),d=null!==p,h=this.getItemId(s,l),f=e("react-autowhatever-"+n+"-container","container",d&&"containerOpen"),m="react-autowhatever-"+n,g=o(i({type:"text",value:"",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-owns":m,"aria-expanded":d,"aria-haspopup":d,"aria-activedescendant":h},e("react-autowhatever-"+n+"-input","input",d&&"inputOpen",u&&"inputFocused"),this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),v=a({containerProps:i({id:m},e("react-autowhatever-"+n+"-items-container","itemsContainer",d&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:p});return c.default.createElement("div",f,g,v)}}]),t}();m.propTypes={id:l.default.string,multiSection:l.default.bool,renderInputComponent:l.default.func,renderItemsContainer:l.default.func,items:l.default.array.isRequired,renderItem:l.default.func,renderItemData:l.default.object,renderSectionTitle:l.default.func,getSectionItems:l.default.func,inputProps:l.default.object,itemProps:l.default.oneOfType([l.default.object,l.default.func]),highlightedSectionIndex:l.default.number,highlightedItemIndex:l.default.number,theme:l.default.oneOfType([l.default.object,l.default.array])},m.defaultProps={id:"1",multiSection:!1,renderInputComponent:function(e){return c.default.createElement("input",e)},renderItemsContainer:function(e){var t=e.containerProps,n=e.children;return c.default.createElement("div",t,n)},renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:f,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},inputProps:f,itemProps:f,highlightedSectionIndex:null,highlightedItemIndex:null,theme:{container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"}},t.default=m},333:function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=function(e){function t(e){var t=r(e,2),o=t[0],a=t[1];return i?null===a||a===n[o]-1?null===(o=function(e){for(null===e?e=0:e++;e<n.length&&0===n[e];)e++;return e===n.length?null:e}(o))?[null,null]:[o,0]:[o,a+1]:0===n||a===n-1?[null,null]:null===a?[null,0]:[null,a+1]}var n=e.data,i=e.multiSection;return{next:t,prev:function(e){var t=r(e,2),o=t[0],a=t[1];return i?null===a||0===a?null===(o=function(e){for(null===e?e=n.length-1:e--;e>=0&&0===n[e];)e--;return-1===e?null:e}(o))?[null,null]:[o,n[o]-1]:[o,a-1]:0===n||0===a?[null,null]:null===a?[null,n-1]:[null,a-1]},isLast:function(e){return null===t(e)[1]}}}},334:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(56)),a=function(e){return e};t.default=function(e){var t=Array.isArray(e)&&2===e.length?e:[e,null],n=i(t,2),s=n[0],c=n[1];return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var l=n.map(function(e){return s[e]}).filter(a);return"string"==typeof l[0]||"function"==typeof c?{key:e,className:c?c.apply(void 0,r(l)):l.join(" ")}:{key:e,style:o.default.apply(void 0,[{}].concat(r(l)))}}},e.exports=t.default},335:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=r(o),s=r(n(1)),c=r(n(136)),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"shouldComponentUpdate",value:function(e){return(0,c.default)(e,this.props)}},{key:"render",value:function(){var e=this.props,t=e.section,n=e.renderSectionTitle,r=e.theme,i=e.sectionKeyPrefix,o=n(t);return o?a.default.createElement("div",r(i+"title","sectionTitle"),o):null}}]),t}();l.propTypes={section:s.default.any.isRequired,renderSectionTitle:s.default.func.isRequired,theme:s.default.func.isRequired,sectionKeyPrefix:s.default.string.isRequired},t.default=l},336:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),l=r(n(1)),u=r(n(337)),p=r(n(136)),d=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.storeHighlightedItemReference=function(e){r.props.onHighlightedItemChange(null===e?null:e.item)},o=n,i(r,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"shouldComponentUpdate",value:function(e){return(0,p.default)(e,this.props,["itemProps"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,r=t.itemProps,i=t.renderItem,a=t.renderItemData,s=t.sectionIndex,l=t.highlightedItemIndex,p=t.getItemId,d=t.theme,h=t.keyPrefix,f=null===s?h:h+"section-"+s+"-",m="function"==typeof r;return c.default.createElement("ul",o({role:"listbox"},d(f+"items-list","itemsList")),n.map(function(t,n){var h=0===n,g=n===l,v=f+"item-"+n,y=m?r({sectionIndex:s,itemIndex:n}):r,b=o({id:p(s,n)},d(v,"item",h&&"itemFirst",g&&"itemHighlighted"),y);return g&&(b.ref=e.storeHighlightedItemReference),c.default.createElement(u.default,o({},b,{sectionIndex:s,isHighlighted:g,itemIndex:n,item:t,renderItem:i,renderItemData:a}))}))}}]),t}();d.propTypes={items:l.default.array.isRequired,itemProps:l.default.oneOfType([l.default.object,l.default.func]),renderItem:l.default.func.isRequired,renderItemData:l.default.object.isRequired,sectionIndex:l.default.number,highlightedItemIndex:l.default.number,onHighlightedItemChange:l.default.func.isRequired,getItemId:l.default.func.isRequired,theme:l.default.func.isRequired,keyPrefix:l.default.string.isRequired},d.defaultProps={sectionIndex:null},t.default=d},337:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),l=r(n(1)),u=r(n(136)),p=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.storeItemReference=function(e){null!==e&&(r.item=e)},r.onMouseEnter=function(e){var t=r.props,n=t.sectionIndex,i=t.itemIndex;r.props.onMouseEnter(e,{sectionIndex:n,itemIndex:i})},r.onMouseLeave=function(e){var t=r.props,n=t.sectionIndex,i=t.itemIndex;r.props.onMouseLeave(e,{sectionIndex:n,itemIndex:i})},r.onMouseDown=function(e){var t=r.props,n=t.sectionIndex,i=t.itemIndex;r.props.onMouseDown(e,{sectionIndex:n,itemIndex:i})},r.onClick=function(e){var t=r.props,n=t.sectionIndex,i=t.itemIndex;r.props.onClick(e,{sectionIndex:n,itemIndex:i})},o=n,i(r,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"shouldComponentUpdate",value:function(e){return(0,u.default)(e,this.props,["renderItemData"])}},{key:"render",value:function(){var e=this.props,t=e.isHighlighted,n=e.item,r=e.renderItem,i=e.renderItemData,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["isHighlighted","item","renderItem","renderItemData"]);return delete a.sectionIndex,delete a.itemIndex,"function"==typeof a.onMouseEnter&&(a.onMouseEnter=this.onMouseEnter),"function"==typeof a.onMouseLeave&&(a.onMouseLeave=this.onMouseLeave),"function"==typeof a.onMouseDown&&(a.onMouseDown=this.onMouseDown),"function"==typeof a.onClick&&(a.onClick=this.onClick),c.default.createElement("li",o({role:"option"},a,{ref:this.storeItemReference}),r(n,o({isHighlighted:t},i)))}}]),t}();p.propTypes={sectionIndex:l.default.number,isHighlighted:l.default.bool.isRequired,itemIndex:l.default.number.isRequired,item:l.default.any.isRequired,renderItem:l.default.func.isRequired,renderItemData:l.default.object.isRequired,onMouseEnter:l.default.func,onMouseLeave:l.default.func,onMouseDown:l.default.func,onClick:l.default.func},t.default=p},338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultTheme={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"},t.mapToAutowhateverTheme=function(e){var t={};for(var n in e)switch(n){case"suggestionsContainer":t.itemsContainer=e[n];break;case"suggestionsContainerOpen":t.itemsContainerOpen=e[n];break;case"suggestion":t.item=e[n];break;case"suggestionFirst":t.itemFirst=e[n];break;case"suggestionHighlighted":t.itemHighlighted=e[n];break;case"suggestionsList":t.itemsList=e[n];break;default:t[n]=e[n]}return t}},339:function(e,t,n){"use strict";t.a="https://c5.rgstatic.net/m/4671872220764/images/template/default/profile/profile_default_m.jpg"},340:function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=n(90),a=n.n(o),s=n(3),c=n.n(s),l=n(4),u=n.n(l),p=n(5),d=n.n(p),h=n(1),f=(n.n(h),n(0)),m=n.n(f),g=n(57),v=n.n(g),y=n(2),b=n(7),E=n.n(b),w=n(372),_=n.n(w),S=new E.a({name:"clearable-select"}),I=function(e){function t(){var n,r,i;c()(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=r=u()(this,e.call.apply(e,[this].concat(s))),r.handleClearAll=function(){r.props.onChange([])},r.menuRenderer=function(e){var t=r.props,n=t.multi,i=t.saveInputValue;return n&&i?_()(Object.assign({},e,{onSelect:r.handleSelect})):_()(e)},r.handleSelect=function(e){var t=r.props.value.map(r.expandValue);r.props.onChange([].concat(t,[e]))},r.expandValue=function(e){var t=void 0===e?"undefined":a()(e);if("string"!==t&&"number"!==t&&"boolean"!==t)return e;var n=r.props,i=n.options,o=n.valueKey;if(!i){var s;return s={},s[o]=e,s}for(var c=0;c<i.length;c++)if(i[c][o]===e)return i[c]},i=n,u()(r,i)}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.isAsync,n=e.onChange,r=e.value,o=e.clearBtn,a=e.multi,s=e.size,c=i()(e,["isAsync","onChange","value","clearBtn","multi","size"]),l=a&&r.length&&"embedded"!==o?m.a.createElement("div",S("clear",o),m.a.createElement(y.Button,{type:"button",theme:"bare",size:"xs",color:"grey",onClick:this.handleClearAll},"Clear all")):null,u=t?v.a.Async:v.a;return m.a.createElement("div",S({modifier:["clear-btn-position-"+o,"size-"+s]}),l,m.a.createElement(u,Object.assign({},c,{onChange:n,value:r,multi:a,clearable:!o,menuRenderer:this.menuRenderer})))},t}(f.Component);t.a=I,I.defaultProps={isAsync:!1,multi:!0,saveInputValue:!0,clearBtn:"left",valueKey:"value",size:"m"}},345:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(114),d=n.n(p),h=n(92),f=n.n(h);t.a=function(e){return function(t){var n=function(n){function r(t){i()(this,r);var o=a()(this,n.call(this,t));return o.nextStep=function(){o.goToStepByIndex(o.currentStepIndex+1)},o.goToStep=function(e){var t=o.getStepIndexByName(e);if(!(t>=0))throw new Error("Step with name '"+e+"' was not found");o.goToStepByIndex(t)},o.resetToStep=function(e){var t=o.getStepIndexByName(e);if(!(t>=0))throw new Error("Step with name '"+e+"' was not found");o.currentStepIndex=t},o.updateStepsList=function(e){o.flowSteps=e},o.flowSteps=e,o.currentStepIndex=0,o.state={currentStep:o.flowSteps[0]},o}return c()(r,n),r.prototype.goToStepByIndex=function(e){this.currentStepIndex=e,this.setState({currentStep:this.flowSteps[e]})},r.prototype.getStepIndexByName=function(e){return this.flowSteps.findIndex(function(t){return t===e})},r.prototype.render=function(){var e=Object.assign({},this.props,{nextStep:this.nextStep,goToStep:this.goToStep,resetToStep:this.resetToStep,updateStepsList:this.updateStepsList,currentStep:this.state.currentStep});return u.a.createElement(t,e)},r}(u.a.Component);return d()(f()(t,"withFlowManager"))(n)}}},348:function(e,t,n){"use strict";function r(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new i(r)}function i(e){this._=e}function o(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=a,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}var a={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(e,t){var n,r=this._,i=function(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}(e+"",r),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=i[a]).type)r[n]=o(r[n],e.name,t);else if(null==t)for(n in r)r[n]=o(r[n],e.name,null);return this}for(;++a<s;)if((n=(e=i[a]).type)&&(n=function(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new i(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var s=r;n.d(t,"a",function(){return s})},349:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(172),f=n(202),m=n(189),g=n(120),v=n(68),y=n.n(v),b=n(12),E=n(45),w=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.uploadId="message-reply-composer-"+y()(),r.handleSubmit=function(e){var t=e.editorData,n=e.fileReference;r.props.addReply(r.props.messageId,t.text,t.struct,n).then(function(){r.getEditor().clear(),r.props.onSubmit&&r.props.onSubmit(e)}).catch(function(e){r.props.pushError(e)})},o=n,a()(r,o)}return c()(t,e),t.prototype.getEditor=function(){return this.editor.getWrappedInstance()},t.prototype.focus=function(){var e=this.getEditor();e&&e.focus()},t.prototype.getComposer=function(){var e=this;return p.a.createElement(f.a,{id:this.uploadId,ref:function(t){e.editor=t},experimentGoals:this.props.experimentGoals,viewIds:this.props.viewIds,onSubmit:this.handleSubmit,blockModifier:"reply",placeholder:this.props.placeholder,submitButtonLabel:this.props.submitCTA,referenceResearchDialogUrl:this.props.referenceResearchDialogUrl,useUploader:this.props.useUploader,usePlainTextEditor:this.props.usePlainTextEditor})},t.prototype.getHeader=function(){var e=this.props.accountId;return p.a.createElement(m.a,{accountId:e,description:p.a.createElement(h.a,{accountId:e,unknownInstitutionPlaceholder:""}),gutter:"xs",size:"s"})},t.prototype.render=function(){return p.a.createElement("div",{className:"message-reply-composer"},this.getHeader(),this.getComposer())},t}(u.Component);w.defaultProps={submitCTA:"Add",useUploader:!0,usePlainTextEditor:!1};t.a=Object(d.connectWidget)(null,function(e,t){return{addReply:function(n,r,i,o){var a={replyTo:n,body:r,struct:i,files:o};return e(Object(g.l)(a,t.context,t.viewIds,t.iepl))},pushError:function(t){e(Object(b.pushAlert)(function(){return p.a.createElement(E.a,{error:t})}))}}},null,{withRef:!0})(w)},350:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(6),d=n(21),h=n(8),f=n.n(h),m=n(75),g=n(2),v=n(189),y=n(172),b=n(190),E=n(170),w=n(201),_=n(610),S=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.onTotalClick=function(){r.props.onTotalClick&&r.props.onTotalClick()},o=n,a()(r,o)}return c()(t,e),t.prototype.hasLikes=function(){return this.props.total>0},t.prototype.totalButtonContent=function(){var e=this.props,t=e.theme,n=e.color,r=void 0;return r=this.props.useLink?u.a.createElement(g.Link,{theme:t,onClick:this.onTotalClick},"("+this.props.total+")"):u.a.createElement(g.Button,{theme:t,color:n,onClick:this.onTotalClick},"("+this.props.total+")"),u.a.createElement(g.Tooltip,{color:"black",target:r},u.a.createElement(g.Tooltip.Body,null,u.a.createElement(w.a,this.props)))},t.prototype.getTotal=function(){return this.hasLikes()?this.props.onTotalClick?this.totalButtonContent():"("+this.props.total+")":null},t.prototype.render=function(){return u.a.createElement("span",null,u.a.createElement(_.a,this.props)," ",this.getTotal())},t}(l.Component);S.defaultProps={hasLiked:!1,total:0,useLink:!1,type:"button"};var I=S,C=n(279),O=n(91),x=n(111),k=n(25),j=n(12),T=n(147),A=n(148),P=n(611),M=n(612),D=n(93),R=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.onClick=function(){r.props.showLikesDialog&&r.props.openModal(r.props.id)},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){return this.props.showLikesDialog?u.a.createElement(I,Object.assign({},this.props,{onTotalClick:this.onClick})):u.a.createElement(I,this.props)},t}(l.Component),N=Object(D.a)(Object(p.connectWidget)(function(e,t){var n=Object(O.e)(e,t.id);return function(e,t){return{hasLiked:Object(O.d)(e,t.id),total:Object(O.c)(e,t.id).total,likers:n(e,t.id),isMobile:Object(x.c)(e,"isMobile")}}},function(e,t){return{like:function(){return e(Object(C.c)(t.id,t.context,t.iepl)).then(function(){t.qualifier&&!t.isMobile&&e(Object(j.pushAlert)(function(){return u.a.createElement(P.a,{qualifier:t.qualifier})}))})},unlike:function(){return e(Object(C.d)(t.id,t.context,t.iepl)).then(function(){t.qualifier&&!t.isMobile&&e(Object(j.pushAlert)(function(){return u.a.createElement(M.a,{qualifier:t.qualifier})}))})},openModal:function(t){return e(Object(k.mountModal)(function(){return u.a.createElement(T.a,null,u.a.createElement(A.a,{id:t}))}))}}})(R)),L=n(15),F=n.n(L),U=n(17),B=n(394),q=n(351),V=n(47),W=n(63),z=n(182),H=n(101),Y=n(120),K=n(323),G=n(324),Q=n(7),$=new(n.n(Q).a)({name:"report-entity"}),X=Object(G.a)(function(e){var t=e.label,n=e.status,r=e.onClick,i=e.linkProps;return"disabled"===n?u.a.createElement("span",$("","disabled"),t):u.a.createElement(g.Link,Object.assign({},i,$("",n),{onClick:r}),t)}),J=n(204),Z=n(82),ee=n(100),te=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={editMode:!1,draftId:null,isItemHovered:!1},r.handleEditSubmit=function(e){return r.props.saveMessageEdit(e,r.state.draftId,r.props.message.replyTo)},r.handleEditClick=function(){r.state.draftId?r.setState({editMode:!0}):r.props.getMessageDraft(r.props.message.id,r.props.context).then(function(e){var t=e.draftId;r.setState({editMode:!0,draftId:t})})},r.handleEditCancel=function(){r.setState({editMode:!1})},r.handleItemMouseOver=function(){r.setState({isItemHovered:!0})},r.handleItemMouseOut=function(){r.setState({isItemHovered:!1})},o=n,a()(r,o)}return c()(t,e),t.prototype.getActions=function(){var e=this.props,t=e.canEditComment,n=e.isLoggedIn,r=e.showActions,i=e.showEditAction,o=new U.a(this.props.message.id,U.b.TYPE_MESSAGE).getFullKey(),a=[],s=this.props.message,c=s.postedAt,l=s.modifiedAt,p={"action-delete":"message-reply-item-action-delete"},d=s.previousVersion?u.a.createElement("span",null,"Modified ",u.a.createElement(b.a,{dateTime:l})):u.a.createElement(b.a,{dateTime:c});return a.push({key:"time",component:d}),r&&(n&&this.props.showLikes&&(this.props.isAuthor?this.props.hasLikes&&a.push({key:"likes_"+o,component:u.a.createElement(E.a,{useLink:!0,id:o,theme:"bare",className:"action-item",showLikesDialog:this.props.showLikesDialog,iepl:this.props.ieplShowLikes})}):a.push({key:"like_"+o,component:u.a.createElement(N,{useLink:!0,id:o,context:this.props.context,theme:"bare",className:"action-item",showLikesDialog:this.props.showLikesDialog,qualifier:"reply"})})),t&&i&&a.push({key:"action-edit",component:u.a.createElement(g.Link,{onClick:this.handleEditClick,className:"action action-edit action-item",theme:"bare"},"Edit")}),this.props.canReport&&this.state.isItemHovered&&a.push({key:"action-report",component:u.a.createElement(X,{key:"report",entityId:new U.a(this.props.message.id,U.b.TYPE_MESSAGE).getFullKey(),linkProps:{theme:"bare"}})}),this.props.canDeleteComment&&a.push({key:"action-delete",component:u.a.createElement(K.a,{className:"message-item-body-action-delete",title:"Are you sure you want to delete this "+this.props.messageTypeDescription+"?",message:this.props.message,context:this.props.context,onConfirm:this.props.removeMessage,renderAsLink:!0})})),u.a.createElement("div",{className:"message-item-body-actions"},u.a.createElement(g.List,{type:"inline",spacing:"none",className:"left"},a.map(function(e){var t="";return void 0!==p[e.key]&&(t=p[e.key]),u.a.createElement(g.List.Item,{key:e.key,className:t},e.component)})))},t.prototype.getBody=function(){var e=this.props,t=e.message,n=e.links,r=e.context,i=e.isTextFilePreviewEnabled;return u.a.createElement(Z.a,{rootMargin:"-15% 0%",onChange:Object(ee.a)(this.props.onAttentionChange)},u.a.createElement(B.a,{message:t,truncate:this.props.isLoggedIn,lineTruncationLength:1e3,links:n,context:r,isTextFilePreviewEnabled:i,className:"message-reply-item-content"},this.getActions()))},t.prototype.getEditor=function(){var e=this,t=this.props,n=t.message,r=t.viewIds,i=t.experimentGoals,o=t.context,a=t.referenceResearchDialogUrl;return u.a.createElement("div",{className:"project-updates-reply-item-content"},u.a.createElement(q.a,{className:"message-reply-composer",messageId:n.id,composerRef:function(t){e.composer=t},onSubmit:this.handleEditSubmit,viewIds:r,experimentGoals:i,context:o,placeholder:"Edit an update (type @ to mention people)",blockModifier:"reply",referenceResearchDialogUrl:a,useUploader:this.props.useUploader,actions:[u.a.createElement(g.Text,{key:"cancel",size:"m",className:"cancel-editing"},u.a.createElement(g.Link,{theme:"bare",onClick:this.handleEditCancel},"Cancel"))]}))},t.prototype.getHeader=function(){var e=this.props.message.accountId;return u.a.createElement(v.a,{accountId:e,description:u.a.createElement(y.a,{accountId:e,unknownInstitutionPlaceholder:""}),size:"s",gutter:"xs"})},t.prototype.render=function(){var e=this,t={"message-reply-item":!0,"message-reply-item-highlighted":this.props.isFocusedPost};return u.a.createElement("div",{className:F()(t),ref:function(t){e.node=t},onMouseEnter:this.handleItemMouseOver,onMouseLeave:this.handleItemMouseOut},this.getHeader(),this.state.editMode?this.getEditor():this.getBody())},t}(l.Component);te.defaultProps={showActions:!0,isFocusedPost:!1,useUploader:!0,messageTypeDescription:"reply",showEditAction:!0};var ne=Object(d.createSelector)([V.b,Object(O.b)(Object(W.f)(W.e)),V.c,Object(W.c)(W.e),Object(z.a)(Object(W.f)(W.e))],function(e,t,n,r,i){var o=!!r.get("nextVersion");return{componentIdentifier:"MessageReplyItem",currentAccountId:e,canDeleteComment:Object(H.e)(e,r),canEditComment:Object(H.h)(e,r)&&!o,canReport:n&&Object(H.l)(e,r),isAuthor:r.get("accountId")===e,hasLikes:t.total>0,hasLiked:t.liked,isLoggedIn:n,message:r,links:i}});t.a=f()(Object(p.connectWidget)(ne,function(e,t){return{getMessageDraft:function(t,n){return e(Object(Y.m)(t,n))},removeMessage:function(t,n){return e(Object(Y.o)(t,n))},saveMessageEdit:function(n,r,i){var o=n.editorData,a=n.fileReference,s=n.attachments;return e(Object(Y.p)({messageId:t.messageId,draftId:r,body:o.text,struct:o.struct,linkIds:s,files:a,context:t.context,replyTo:i},t.context))}}}),Object(m.a)(["message","links"]),J.a)(te)},351:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(8),h=n.n(d),f=n(75),m=n(6),g=n(21),v=(n.n(g),n(106),n(15)),y=n.n(v),b=n(63),E=n(182),w=n(537),_=n(202),S=(n(280),n(68)),I=n.n(S),C=n(12),O=n(45),x=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={isLoading:!1},r.handleSubmit=function(e){r.setState({isLoading:!0}),r.props.onSubmit({editorData:e.editorData,fileReference:e.fileReference,attachments:e.attachments}).catch(function(e){r.props.dispatch(Object(C.pushAlert)(function(){return p.a.createElement(O.a,{error:e})})),r.setState({isLoading:!1})})},r.handleRemoveAttachment=function(){r.props.onRemoveAttachment&&r.props.onRemoveAttachment()},o=n,a()(r,o)}return c()(t,e),t.prototype.componentWillMount=function(){this.uploadId="converse-composer-"+I()()},t.prototype.getStructuredData=function(e){if(!e)return null;var t=e.content,n=e.data;return t||n?n?JSON.parse(n):void Object(w.a)(t):null},t.prototype.render=function(){var e=this.props,t=e.composerRef,n=e.message,r=e.links,i=this.props,o=i.className,a=i.placeholder,s=i.submitButtonLabel,c=i.blockModifier,l=this.props,u=l.viewIds,d=l.experimentGoals,h=l.context,f=y()(o,this.state.isLoading?"rendering":"");return p.a.createElement("div",{className:f},p.a.createElement(_.a,{id:this.uploadId,ref:t,text:n.body,structuredData:this.getStructuredData(n.struct),links:r,placeholder:a,submitButtonLabel:s,blockModifier:c,viewIds:u,experimentGoals:d,context:h,isTextFilePreviewEnabled:!0,richText:!0,showRichTextOptionsOnMount:!0,onSubmit:this.handleSubmit,onRemoveAttachment:this.handleRemoveAttachment,referenceResearchDialogUrl:this.props.referenceResearchDialogUrl,useUploader:this.props.useUploader,actions:this.props.actions}))},t}(u.Component);x.defaultProps={placeholder:"Edit (type @ to mention people)",submitButtonLabel:"Save",useUploader:!0};var k=Object(g.createStructuredSelector)({message:Object(b.c)(b.e),links:Object(E.a)(Object(b.f)(b.e))});t.a=h()(Object(m.connectWidget)(k,null,null,{withRef:!0}),Object(f.a)(["message","links"]))(x)},352:function(e,t,n){"use strict";var r=n(71),i=n.n(r),o=n(54),a=n.n(o),s=n(397),c=n(398),l=function(e){return"/"===e.charAt(0)?e:"/"+e},u=function(e){return"/"===e.charAt(0)?e.substr(1):e},p=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},d=function(e,t){return p(e,t)?e.substr(t.length):e},h=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},f=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},m=function(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i},g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(e,t,n,r){var i=void 0;"string"==typeof e?(i=f(e)).state=t:(void 0===(i=g({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Object(s.default)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i},y=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(c.default)(e.state,t.state)},b=function(){var e=null,t=[];return{setPrompt:function(t){return i()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):(i()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},appendListener:function(e){var n=!0,r=function(){n&&e.apply(void 0,arguments)};return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}},E=!("undefined"==typeof window||!window.document||!window.document.createElement),w=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},_=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},S=function(e,t){return t(window.confirm(e))},I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O=function(){try{return window.history.state||{}}catch(e){return{}}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(E,"Browser history needs a DOM");var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e.forceRefresh,s=void 0!==o&&o,c=e.getUserConfirmation,u=void 0===c?S:c,f=e.keyLength,g=void 0===f?6:f,y=e.basename?h(l(e.basename)):"",x=function(e){var t=e||{},n=t.key,r=t.state,o=window.location,a=o.pathname+o.search+o.hash;return i()(!y||p(a,y),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+y+'".'),y&&(a=d(a,y)),v(a,r,n)},k=function(){return Math.random().toString(36).substr(2,g)},j=b(),T=function(e){C(W,e),W.length=t.length,j.notifyListeners(W.location,W.action)},A=function(e){void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")||D(x(e.state))},P=function(){D(x(O()))},M=!1,D=function(e){M?(M=!1,T()):j.confirmTransitionTo(e,"POP",u,function(t){t?T({action:"POP",location:e}):R(e)})},R=function(e){var t=W.location,n=L.indexOf(t.key);-1===n&&(n=0);var r=L.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(M=!0,U(i))},N=x(O()),L=[N.key],F=function(e){return y+m(e)},U=function(e){t.go(e)},B=0,q=function(e){1===(B+=e)?(w(window,"popstate",A),r&&w(window,"hashchange",P)):0===B&&(_(window,"popstate",A),r&&_(window,"hashchange",P))},V=!1,W={length:t.length,action:"POP",location:N,createHref:F,push:function(e,r){i()(!("object"===(void 0===e?"undefined":I(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=v(e,r,k(),W.location);j.confirmTransitionTo(o,"PUSH",u,function(e){if(e){var r=F(o),a=o.key,c=o.state;if(n)if(t.pushState({key:a,state:c},null,r),s)window.location.href=r;else{var l=L.indexOf(W.location.key),u=L.slice(0,-1===l?0:l+1);u.push(o.key),L=u,T({action:"PUSH",location:o})}else i()(void 0===c,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},replace:function(e,r){i()(!("object"===(void 0===e?"undefined":I(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=v(e,r,k(),W.location);j.confirmTransitionTo(o,"REPLACE",u,function(e){if(e){var r=F(o),a=o.key,c=o.state;if(n)if(t.replaceState({key:a,state:c},null,r),s)window.location.replace(r);else{var l=L.indexOf(W.location.key);-1!==l&&(L[l]=o.key),T({action:"REPLACE",location:o})}else i()(void 0===c,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},go:U,goBack:function(){return U(-1)},goForward:function(){return U(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=j.setPrompt(e);return V||(q(1),V=!0),function(){return V&&(V=!1,q(-1)),t()}},listen:function(e){var t=j.appendListener(e);return q(1),function(){q(-1),t()}}};return W},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+u(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:u,decodePath:l},slash:{encodePath:l,decodePath:l}},T=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},A=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(E,"Hash history needs a DOM");var t=window.history,n=-1===window.navigator.userAgent.indexOf("Firefox"),r=e.getUserConfirmation,o=void 0===r?S:r,s=e.hashType,c=void 0===s?"slash":s,u=e.basename?h(l(e.basename)):"",f=j[c],g=f.encodePath,I=f.decodePath,C=function(){var e=I(T());return i()(!u||p(e,u),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+u+'".'),u&&(e=d(e,u)),v(e)},O=b(),x=function(e){k(H,e),H.length=t.length,O.notifyListeners(H.location,H.action)},P=!1,M=null,D=function(){var e=T(),t=g(e);if(e!==t)A(t);else{var n=C(),r=H.location;if(!P&&y(r,n))return;if(M===m(n))return;M=null,R(n)}},R=function(e){P?(P=!1,x()):O.confirmTransitionTo(e,"POP",o,function(t){t?x({action:"POP",location:e}):N(e)})},N=function(e){var t=H.location,n=B.lastIndexOf(m(t));-1===n&&(n=0);var r=B.lastIndexOf(m(e));-1===r&&(r=0);var i=n-r;i&&(P=!0,q(i))},L=T(),F=g(L);L!==F&&A(F);var U=C(),B=[m(U)],q=function(e){i()(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},V=0,W=function(e){1===(V+=e)?w(window,"hashchange",D):0===V&&_(window,"hashchange",D)},z=!1,H={length:t.length,action:"POP",location:U,createHref:function(e){return"#"+g(u+m(e))},push:function(e,t){i()(void 0===t,"Hash history cannot push state; it is ignored");var n=v(e,void 0,void 0,H.location);O.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=m(n),r=g(u+t);if(T()!==r){M=t,function(e){window.location.hash=e}(r);var o=B.lastIndexOf(m(H.location)),a=B.slice(0,-1===o?0:o+1);a.push(t),B=a,x({action:"PUSH",location:n})}else i()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),x()}})},replace:function(e,t){i()(void 0===t,"Hash history cannot replace state; it is ignored");var n=v(e,void 0,void 0,H.location);O.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=m(n),r=g(u+t);T()!==r&&(M=t,A(r));var i=B.indexOf(m(H.location));-1!==i&&(B[i]=t),x({action:"REPLACE",location:n})}})},go:q,goBack:function(){return q(-1)},goForward:function(){return q(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=O.setPrompt(e);return z||(W(1),z=!0),function(){return z&&(z=!1,W(-1)),t()}},listen:function(e){var t=O.appendListener(e);return W(1),function(){W(-1),t()}}};return H},M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=function(e,t,n){return Math.min(Math.max(e,t),n)},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,r=void 0===n?["/"]:n,o=e.initialIndex,a=void 0===o?0:o,s=e.keyLength,c=void 0===s?6:s,l=b(),u=function(e){D(y,e),y.length=y.entries.length,l.notifyListeners(y.location,y.action)},p=function(){return Math.random().toString(36).substr(2,c)},d=R(a,0,r.length-1),h=r.map(function(e){return"string"==typeof e?v(e,void 0,p()):v(e,void 0,e.key||p())}),f=m,g=function(e){var n=R(y.index+e,0,y.entries.length-1),r=y.entries[n];l.confirmTransitionTo(r,"POP",t,function(e){e?u({action:"POP",location:r,index:n}):u()})},y={length:h.length,action:"POP",location:h[d],index:d,entries:h,createHref:f,push:function(e,n){i()(!("object"===(void 0===e?"undefined":M(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=v(e,n,p(),y.location);l.confirmTransitionTo(r,"PUSH",t,function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),u({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,n){i()(!("object"===(void 0===e?"undefined":M(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=v(e,n,p(),y.location);l.confirmTransitionTo(r,"REPLACE",t,function(e){e&&(y.entries[y.index]=r,u({action:"REPLACE",location:r}))})},go:g,goBack:function(){return g(-1)},goForward:function(){return g(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return y};n.d(t,"a",function(){return x}),n.d(t,!1,function(){return P}),n.d(t,!1,function(){return N}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return y}),n.d(t,!1,function(){return f}),n.d(t,!1,function(){return m})},353:function(e,t,n){var r=n(667),i=n(665),o=r(function(e,t,n){return e+(n?" ":"")+i(t)});e.exports=o},354:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(1),d=(n.n(p),n(161)),h=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.onChange=function(e,t){r.props.onChange&&r.props.onChange(e,t)},o=n,a()(r,o)}return c()(t,e),t.prototype.getUrlWithPageParams=function(e){var t=new d.a(this.props.pageUrl),n=t.getQueryAsObject();return e>1&&(n.page=e),t.setQuery(n).toString()},t.prototype.render=function(){var e=this,t=[],n=this.props,r=n.page,i=n.totalItems,o=n.itemsPerPage,a=Math.ceil(i/o);if(a>1){a>1&&(r<=1?t.push(u.a.createElement("span",{key:"previousPage",className:"navi-back pager-link navi-separator inactive"},u.a.createElement("span",{className:"ico-arrow-dark-left"}))):t.push(u.a.createElement("a",{key:"previousPage",className:"navi-back pager-link",onClick:function(t){e.onChange(t,r-1)},href:this.getUrlWithPageParams(r-1),rel:"prev",disabled:""},u.a.createElement("span",{className:"ico-arrow-dark-left"}))));for(var s=function(n){n===r?t.push(u.a.createElement("span",{key:"page"+n,className:"navi-selected"},n)):n===a||1===n||n>=r-4&&n<r||n<=r+4&&n>r?t.push(u.a.createElement("a",{key:"page"+n,href:e.getUrlWithPageParams(n),onClick:function(t){e.onChange(t,n)},className:"navi-page-link pager-link"},n)):n!==r-4-1&&n!==r+4+1||t.push(u.a.createElement("span",{key:"page"+n,className:"navi-separator"},"…"))},c=1;c<=a;c++)s(c);if(a>1&&(r===a?t.push(u.a.createElement("span",{key:"nextPage",className:"navi-next pager-link navi-separator inactive"},u.a.createElement("span",{className:"ico-arrow-dark-right"}))):t.push(u.a.createElement("a",{key:"nextPage",className:"navi-next pager-link",href:this.getUrlWithPageParams(r+1),onClick:function(t){e.onChange(t,r+1)},rel:"next",disabled:""},u.a.createElement("span",{className:"ico-arrow-dark-right"})))),t)return u.a.createElement("div",{className:"c-list-navi pager"},t)}return u.a.createElement("span",null)},t}(u.a.Component);t.a=h},357:function(e,t,n){"use strict";function r(){return!this.__axis}function i(e,t){function n(n){var l=null==o?t.ticks?t.ticks.apply(t,i):t.domain():o,E=null==a?t.tickFormat?t.tickFormat.apply(t,i):u:a,w=Math.max(s,0)+g,_=t.range(),S=+_[0]+.5,I=+_[_.length-1]+.5,C=(t.bandwidth?function(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}:function(e){return function(t){return+e(t)}})(t.copy()),O=n.selection?n.selection():n,x=O.selectAll(".domain").data([null]),k=O.selectAll(".tick").data(l,t).order(),j=k.exit(),T=k.enter().append("g").attr("class","tick"),A=k.select("line"),P=k.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),k=k.merge(T),A=A.merge(T.append("line").attr("stroke","#000").attr(y+"2",v*s)),P=P.merge(T.append("text").attr("fill","#000").attr(y,v*w).attr("dy",e===p?"0em":e===h?"0.71em":"0.32em")),n!==O&&(x=x.transition(n),k=k.transition(n),A=A.transition(n),P=P.transition(n),j=j.transition(n).attr("opacity",m).attr("transform",function(e){return isFinite(e=C(e))?b(e):this.getAttribute("transform")}),T.attr("opacity",m).attr("transform",function(e){var t=this.parentNode.__axis;return b(t&&isFinite(t=t(e))?t:C(e))})),j.remove(),x.attr("d",e===f||e==d?"M"+v*c+","+S+"H0.5V"+I+"H"+v*c:"M"+S+","+v*c+"V0.5H"+I+"V"+v*c),k.attr("opacity",1).attr("transform",function(e){return b(C(e))}),A.attr(y+"2",v*s),P.attr(y,v*w).text(E),O.filter(r).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===d?"start":e===f?"end":"middle"),O.each(function(){this.__axis=C})}var i=[],o=null,a=null,s=6,c=6,g=3,v=e===p||e===f?-1:1,y=e===f||e===d?"x":"y",b=e===p||e===h?function(e){return"translate("+(e+.5)+",0)"}:function(e){return"translate(0,"+(e+.5)+")"};return n.scale=function(e){return arguments.length?(t=e,n):t},n.ticks=function(){return i=l.call(arguments),n},n.tickArguments=function(e){return arguments.length?(i=null==e?[]:l.call(e),n):i.slice()},n.tickValues=function(e){return arguments.length?(o=null==e?null:l.call(e),n):o&&o.slice()},n.tickFormat=function(e){return arguments.length?(a=e,n):a},n.tickSize=function(e){return arguments.length?(s=c=+e,n):s},n.tickSizeInner=function(e){return arguments.length?(s=+e,n):s},n.tickSizeOuter=function(e){return arguments.length?(c=+e,n):c},n.tickPadding=function(e){return arguments.length?(g=+e,n):g},n}function o(e){return i(p,e)}function a(e){return i(d,e)}function s(e){return i(h,e)}function c(e){return i(f,e)}var l=Array.prototype.slice,u=function(e){return e},p=1,d=2,h=3,f=4,m=1e-6;n.d(t,!1,function(){return o}),n.d(t,!1,function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c})},358:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"e",function(){return l});var r="citations",i="references",o="comments",a="related",s="linked",c="supplements",l="projects"},36:function(e,t,n){"use strict";function r(){return new i}function i(){this._="@"+(++O).toString(36)}function o(e,t,n){return function(r){var i=P;P=r;try{e.call(this,this.__data__,t,n)}finally{P=i}}}function a(e,t,n){var r=A.hasOwnProperty(e.type)?function(e,t,n){return e=o(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}:o;return function(i,o,a){var s,c=this.__on,l=r(t,o,a);if(c)for(var u=0,p=c.length;u<p;++u)if((s=c[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function s(e,t,n,r){var i=P;e.sourceEvent=P,P=e;try{return t.apply(n,r)}finally{P=i}}function c(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function l(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function u(e,t){return e.style.getPropertyValue(t)||B(e).getComputedStyle(e,null).getPropertyValue(t)}function p(e){return e.trim().split(/^|\s+/)}function d(e){return e.classList||new h(e)}function h(e){this._node=e,this._names=p(e.getAttribute("class")||"")}function f(e,t){for(var n=d(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function m(e,t){for(var n=d(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function g(){this.nextSibling&&this.parentNode.appendChild(this)}function v(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function y(){var e=this.parentNode;e&&e.removeChild(this)}function b(e,t,n){var r=B(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function E(e,t){this._groups=e,this._parents=t}function w(){return new E([[document.documentElement]],q)}var _="http://www.w3.org/1999/xhtml",S={svg:"http://www.w3.org/2000/svg",xhtml:_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},I=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),S.hasOwnProperty(t)?{space:S[t],local:e}:e},C=function(e){var t=I(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===_&&t.documentElement.namespaceURI===_?t.createElement(e):t.createElementNS(n,e)}})(t)},O=0;i.prototype=r.prototype={constructor:i,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var x=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var k=document.documentElement;if(!k.matches){var j=k.webkitMatchesSelector||k.msMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector;x=function(e){return function(){return j.call(this,e)}}}}var T=x,A={},P=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(A={mouseenter:"mouseover",mouseleave:"mouseout"})}var M=function(){for(var e,t=P;e=t.sourceEvent;)t=e;return t},D=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},R=function(e){var t=M();return t.changedTouches&&(t=t.changedTouches[0]),D(e,t)},N=function(e){return null==e?function(){}:function(){return this.querySelector(e)}},L=function(e){return null==e?function(){return[]}:function(){return this.querySelectorAll(e)}},F=function(e){return new Array(e.length)};c.prototype={constructor:c,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var U="$",B=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};h.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var q=[null];E.prototype=w.prototype={constructor:E,select:function(e){"function"!=typeof e&&(e=N(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],c=s.length,l=r[i]=new Array(c),u=0;u<c;++u)(o=s[u])&&(a=e.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),l[u]=a);return new E(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=L(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),i.push(a));return new E(r,i)},filter:function(e){"function"!=typeof e&&(e=T(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&c.push(o);return new E(r,this._parents)},data:function(e,t){if(!e)return f=new Array(this.size()),u=-1,this.each(function(e){f[++u]=e}),f;var n=t?function(e,t,n,r,i,o,a){var s,l,u,p={},d=t.length,h=o.length,f=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(f[s]=u=U+a.call(l,l.__data__,s,t),u in p?i[s]=l:p[u]=l);for(s=0;s<h;++s)(l=p[u=U+a.call(e,o[s],s,o)])?(r[s]=l,l.__data__=o[s],p[u]=null):n[s]=new c(e,o[s]);for(s=0;s<d;++s)(l=t[s])&&p[f[s]]===l&&(i[s]=l)}:function(e,t,n,r,i,o){for(var a,s=0,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new c(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)},r=this._parents,i=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var p=r[u],d=i[u],h=d.length,f=e.call(p,p&&p.__data__,u,r),m=f.length,g=s[u]=new Array(m),v=a[u]=new Array(m);n(p,d,g,v,l[u]=new Array(h),f,t);for(var y,b,w=0,_=0;w<m;++w)if(y=g[w]){for(w>=_&&(_=w+1);!(b=v[_])&&++_<m;);y._next=b||null}}return a=new E(a,r),a._enter=s,a._exit=l,a},enter:function(){return new E(this._enter||this._groups.map(F),this._parents)},exit:function(){return new E(this._exit||this._groups.map(F),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=t[s],u=n[s],p=l.length,d=a[s]=new Array(p),h=0;h<p;++h)(c=l[h]||u[h])&&(d[h]=c);for(;s<r;++s)a[s]=t[s];return new E(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=l);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],c=s.length,u=i[o]=new Array(c),p=0;p<c;++p)(a=s[p])&&(u[p]=a);u.sort(t)}return new E(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=I(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):u(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=p(e+"");if(arguments.length<2){for(var r=d(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?f:m)(this,e)}}:t?function(e){return function(){f(this,e)}}:function(e){return function(){m(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?function(){this.textContent=""}:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?function(){this.innerHTML=""}:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(g)},lower:function(){return this.each(v)},append:function(e){var t="function"==typeof e?e:C(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:C(e),r=null==t?function(){return null}:"function"==typeof t?t:N(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(y)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),s=o.length;if(!(arguments.length<2)){for(c=t?a:function(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}},null==n&&(n=!1),r=0;r<s;++r)this.each(c(o[r],t,n));return this}var c=this.node().__on;if(c)for(var l,u=0,p=c.length;u<p;++u)for(r=0,l=c[u];r<s;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return b(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return b(this,e,t)}})(e,t))}};var V=w,W=function(e){return"string"==typeof e?new E([[document.querySelector(e)]],[document.documentElement]):new E([[e]],q)},z=function(e){return"string"==typeof e?new E([document.querySelectorAll(e)],[document.documentElement]):new E([null==e?[]:e],q)},H=function(e,t,n){arguments.length<3&&(n=t,t=M().changedTouches);for(var r,i=0,o=t?t.length:0;i<o;++i)if((r=t[i]).identifier===n)return D(e,r);return null},Y=function(e,t){null==t&&(t=M().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=D(e,t[n]);return i};n.d(t,!1,function(){return C}),n.d(t,!1,function(){return r}),n.d(t,"c",function(){return T}),n.d(t,"d",function(){return R}),n.d(t,"e",function(){return I}),n.d(t,!1,function(){return S}),n.d(t,!1,function(){return D}),n.d(t,"f",function(){return W}),n.d(t,"g",function(){return z}),n.d(t,"h",function(){return V}),n.d(t,"i",function(){return N}),n.d(t,"j",function(){return L}),n.d(t,"k",function(){return u}),n.d(t,"l",function(){return H}),n.d(t,!1,function(){return Y}),n.d(t,!1,function(){return B}),n.d(t,"b",function(){return P}),n.d(t,"a",function(){return s})},371:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(15),h=n.n(d),f=n(2),m=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.componentDidMount=function(){"function"==typeof this.props.onComponentDidMount&&this.props.onComponentDidMount(this.props)},t.prototype.componentWillUnmount=function(){"function"==typeof this.props.componentWillUnmount&&this.props.componentWillUnmount(this.props)},t.prototype.componentDidUpdate=function(e){e.count!==this.props.count&&"function"==typeof this.props.onCountChange&&this.props.onCountChange(this.props)},t.prototype.render=function(){var e=this.props,t=e.count,n=e.wasSeen,r=e.isDisplayAsBadge,i=e.useTextForNewNotifications;return t<1?null:r?this.renderAsBadge(t,n,i):this.renderAsSpan(t,n)},t.prototype.renderAsSpan=function(e,t){var n=h()("notification-indicator",{"seen-notifications-counter":t});return p.a.createElement("span",{className:n},p.a.createElement("span",{className:"number"},e))},t.prototype.renderAsBadge=function(e,t,n){return p.a.createElement(f.Badge,{size:"s",theme:n&&!t?"solid":"ghost",color:this.getBadgeColor(),luminosity:"medium"},e,n&&!t?" New":null)},t.prototype.getBadgeColor=function(){var e=this.props,t=e.wasSeen,n=e.unSeenColor,r="grey";return t||(r=n||"red"),r},t}(u.PureComponent);t.a=m,m.defaultProps={count:0,wasSeen:!1}},373:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(7),h=n.n(d),f=n(6),m=n(10),g=n(88),v=n(153),y=n(42),b=n(407),E=n(246),w=n(2),_=n(51),S=n(576),I=n(247),C=new h.a("authors-suggestions-mapping-candidate-item"),O=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.approveSuggestion=function(){var e=r.props,t=e.accountMappingSuggesterId,n=e.accountId,i=e.authorUid,o=e.isRequestInProgress,a=e.onAction;o||(i&&r.props.dispatch(Object(I.d)(n,i)),r.props.dispatch(Object(b.g)(n,t,Object(b.h)(n,t))),a&&a())},r.hideSuggestion=function(){var e=r.props,t=e.accountMappingSuggesterId,n=e.accountId,i=e.isRequestInProgress,o=e.onAction;i||(r.props.dispatch(Object(b.i)(n,t,Object(b.h)(n,t))),o&&o())},r.ignoreSuggestion=function(){var e=r.props,t=e.accountMappingSuggesterId,n=e.accountId,i=e.isRequestInProgress,o=e.onAction;i||(r.props.dispatch(Object(b.j)(n,t,Object(b.h)(n,t))),o&&o())},o=n,a()(r,o)}return c()(t,e),t.prototype.componentDidMount=function(){this.startExperiment()},t.prototype.render=function(){var e=this.props,t=e.publication,n=e.publicationItemSize;return e.displayBorderless?this.getAsBlock(t,n):this.getAsCard(t,n)},t.prototype.getAsBlock=function(e,t){var n=this.props,r=n.displayAlternativePublicationTitle,i=n.hidePublicationItemType;return p.a.createElement("div",C(),p.a.createElement("div",C("block-inner"),p.a.createElement(w.Text,Object.assign({},C("alternative-publication-title"),{spacing:"xs"}),p.a.createElement(w.Link,{href:e.urls.title,theme:"bare"},r?e.title:p.a.createElement("b",null,e.title))),p.a.createElement(_.a,Object.assign({},e,{size:t,clamp:!0,hideTitle:!0,hidePublicationItemTypeBadge:i}))),this.getItemFooter())},t.prototype.getAsCard=function(e,t){var n=this.props.cardSpacing;return p.a.createElement(w.Card,Object.assign({},C(),{spacing:n||"xl"}),p.a.createElement(w.Card.Body,C("body"),p.a.createElement(_.a,Object.assign({},e,{size:t,clamp:!0}))),p.a.createElement(w.Card.Footer,C("status"),this.getItemFooter()))},t.prototype.getItemFooter=function(){var e=this.props.suggestionStatus;return e===E.STATUS_NEW?this.getControlsFooter():this.getNotificationFooter(e)},t.prototype.getNotificationFooter=function(e){var t=void 0,n=void 0;switch(e){case E.STATUS_APPROVED:t="suggested this publication",n="check";break;case E.STATUS_HIDDEN:t="said this is not their work",n="close";break;case E.STATUS_IGNORED:t="are not sure if this is their work",n="interrogation"}return p.a.createElement(w.ActivityListItem,C("notification-"+e),p.a.createElement(w.ActivityListItem.Story,null,p.a.createElement(w.ActivityListItem.StoryIcon,{priority:"primary",identifier:n}),p.a.createElement(w.ActivityListItem.StorySubject,null,"You"),p.a.createElement(w.ActivityListItem.StoryBody,null,t)))},t.prototype.getControlsFooter=function(){var e=this.props,t=e.targetAccountFirstName,n=e.hideTargetAccountSection,r=e.reverseControls,i=e.controlsGroupGutter;return p.a.createElement("div",null,p.a.createElement(w.MediaObject,Object.assign({verticalAlign:"middle"},C("controls")),p.a.createElement(w.MediaObject.Item,Object.assign({width:"full"},C("footer-question")),n?p.a.createElement("span",null):p.a.createElement(w.Text,{size:"m"},"Is ",t," the author?")),p.a.createElement(w.MediaObject.Item,null,p.a.createElement(w.ButtonGroup,{wrap:!0,gutter:i},r?this.getControls().reverse():this.getControls()))))},t.prototype.getControls=function(){var e=this.props,t=e.targetAccountFirstName,n=e.accountMappingSuggesterId,r=e.accountId,i=e.onAction,o=e.useDirectDecline;return[p.a.createElement(w.Button,{type:"button",key:"yesBtn",size:"s",onClick:this.approveSuggestion},p.a.createElement(w.Button.Label,null,"Yes")),p.a.createElement(w.Button,{type:"button",key:"noBtn",size:"s",onClick:this.hideSuggestion,theme:"ghost"},p.a.createElement(w.Button.Label,null,"No")),o?p.a.createElement(w.Button,{type:"button",key:"ignoreBtn",size:"s",onClick:this.ignoreSuggestion,theme:"bare"},p.a.createElement(w.Button.Label,null,"I don't know")):p.a.createElement(S.a,Object.assign({key:"ignoreModal"},{targetAccountFirstName:t,accountMappingSuggesterId:n,accountId:r,onAction:i}))]},t.prototype.startExperiment=function(){var e=this.props,t=e.accountId,n=e.accountMappingSuggesterId,r=e.experimentContext;Object(m.default)("/api/u2u/startSuggesterExperiment",{method:"POST",body:{viewId:Object(b.h)(t,n),context:r}})},t}(u.Component);t.a=Object(f.connectWidget)(function(e,t){var n=t.publicationUid,r=t.accountId;return{publication:Object(g.c)(e,{publicationUid:n}),targetAccountFirstName:Object(y.c)(e,{accountId:r}).firstName,isRequestInProgress:Object(v.f)(e)}})(O)},389:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(114),d=n.n(p),h=n(92),f=n.n(h),m=n(10),g=n(22),v=n.n(g);t.a=function(e){var t=e.url,n=void 0===t?"url":t,r=e.active,o=void 0===r?"active":r,s=function(e){return v()(e,o)};return function(e){var t=function(t){function r(){var e,n,o;i()(this,r);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return e=n=a()(this,t.call.apply(t,[this].concat(c))),n.state={isExperimentStarted:!1},o=e,a()(n,o)}return c()(r,t),r.prototype.startExperiment=function(){this.state.isExperimentStarted||(this.setState({isExperimentStarted:!0}),Object(m.default)(function(e){return v()(e,n)}(this.props),{method:"POST"}).then(function(){}).catch(function(){}))},r.prototype.componentDidMount=function(){!this.state.isExperimentStarted&&s(this.props)&&this.startExperiment()},r.prototype.componentWillReceiveProps=function(e){this.state.isExperimentStarted||s(this.props)||!s(e)||this.startExperiment()},r.prototype.render=function(){return u.a.createElement(e,this.props)},r}(u.a.Component);return d()(f()(e,"withExperimentStarter"))(t)}}},39:function(e,t,n){"use strict";function r(e,t){return[e,t]}function i(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=O?10:o>=x?5:o>=k?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=O?10:o>=x?5:o>=k?2:1)}function o(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=O?i*=10:o>=x?i*=5:o>=k&&(i*=2),t<e?-i:i}function a(e){return e.length}var s=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},c=function(e){return 1===e.length&&(e=function(e){return function(t,n){return s(e(t),n)}}(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}},l=c(s),u=l.right,p=l.left,d=u,h=function(e,t){null==t&&(t=r);for(var n=0,i=e.length-1,o=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(o,o=e[++n]);return a},f=function(e,t,n){var i,o,a,s,c=e.length,l=t.length,u=new Array(c*l);for(null==n&&(n=r),i=a=0;i<c;++i)for(s=e[i],o=0;o<l;++o,++a)u[a]=n(s,t[o]);return u},m=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},g=function(e){return null===e?NaN:+e},v=function(e,t){var n,r,i=e.length,o=0,a=-1,s=0,c=0;if(null==t)for(;++a<i;)isNaN(n=g(e[a]))||(c+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=g(t(e[a],a,e)))||(c+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return c/(o-1)},y=function(e,t){var n=v(e,t);return n?Math.sqrt(n):n},b=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},E=Array.prototype,w=E.slice,_=E.map,S=function(e){return function(){return e}},I=function(e){return e},C=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o},O=Math.sqrt(50),x=Math.sqrt(10),k=Math.sqrt(2),j=function(e,t,n){var r,o,a,s,c=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(s=i(e,t,n))||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),a=new Array(o=Math.ceil(t-e+1));++c<o;)a[c]=(e+c)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),a=new Array(o=Math.ceil(e-t+1));++c<o;)a[c]=(e-c)/s;return r&&a.reverse(),a},T=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},A=function(){function e(e){var i,a,s=e.length,c=new Array(s);for(i=0;i<s;++i)c[i]=t(e[i],i,e);var l=n(c),u=l[0],p=l[1],h=r(c,u,p);Array.isArray(h)||(h=o(u,p,h),h=C(Math.ceil(u/h)*h,Math.floor(p/h)*h,h));for(var f=h.length;h[0]<=u;)h.shift(),--f;for(;h[f-1]>p;)h.pop(),--f;var m,g=new Array(f+1);for(i=0;i<=f;++i)(m=g[i]=[]).x0=i>0?h[i-1]:u,m.x1=i<f?h[i]:p;for(i=0;i<s;++i)u<=(a=c[i])&&a<=p&&g[d(h,a,0,f)].push(e[i]);return g}var t=I,n=b,r=T;return e.value=function(n){return arguments.length?(t="function"==typeof n?n:S(n),e):t},e.domain=function(t){return arguments.length?(n="function"==typeof t?t:S([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:S(Array.isArray(t)?w.call(t):t),e):r},e},P=function(e,t,n){if(null==n&&(n=g),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}},M=function(e,t,n){return e=_.call(e,g).sort(s),Math.ceil((n-t)/(2*(P(e,.75)-P(e,.25))*Math.pow(e.length,-1/3)))},D=function(e,t,n){return Math.ceil((n-t)/(3.5*y(e)*Math.pow(e.length,-1/3)))},R=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},N=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=g(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=g(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},L=function(e,t){var n,r=e.length,i=-1,o=[];if(null==t)for(;++i<r;)isNaN(n=g(e[i]))||o.push(n);else for(;++i<r;)isNaN(n=g(t(e[i],i,e)))||o.push(n);return P(o.sort(s),.5)},F=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},U=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r},B=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},q=function(e,t){if(n=e.length){var n,r,i=0,o=0,a=e[o];for(null==t&&(t=s);++i<n;)(t(r=e[i],a)<0||0!==t(a,a))&&(a=r,o=i);return 0===t(a,a)?o:void 0}},V=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},W=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},z=function(e){if(!(i=e.length))return[];for(var t=-1,n=U(e,a),r=new Array(n);++t<n;)for(var i,o=-1,s=r[t]=new Array(i);++o<i;)s[o]=e[o][t];return r},H=function(){return z(arguments)};n.d(t,"b",function(){return d}),n.d(t,!1,function(){return u}),n.d(t,!1,function(){return p}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,!1,function(){return f}),n.d(t,!1,function(){return m}),n.d(t,!1,function(){return y}),n.d(t,"d",function(){return b}),n.d(t,!1,function(){return A}),n.d(t,!1,function(){return M}),n.d(t,!1,function(){return D}),n.d(t,!1,function(){return T}),n.d(t,"e",function(){return R}),n.d(t,!1,function(){return N}),n.d(t,!1,function(){return L}),n.d(t,!1,function(){return F}),n.d(t,"f",function(){return U}),n.d(t,!1,function(){return h}),n.d(t,!1,function(){return B}),n.d(t,"g",function(){return P}),n.d(t,"h",function(){return C}),n.d(t,!1,function(){return q}),n.d(t,!1,function(){return V}),n.d(t,"i",function(){return W}),n.d(t,"l",function(){return j}),n.d(t,"j",function(){return i}),n.d(t,"k",function(){return o}),n.d(t,!1,function(){return z}),n.d(t,!1,function(){return v}),n.d(t,!1,function(){return H})},390:function(e,t,n){"use strict";function r(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.viewIds,i=n.context;return e=Object(oe.a)(Object(oe.a)(e,t)),i&&(e=Object(oe.a)(e,{_esc:i})),r&&(e=Object(oe.a)(e,{_viewIds:Array.isArray(r)?r:[r]})),e}(e,"",{context:t})}function i(e){return C()(e,function(e){return{title:e.title,type:e.displayType,rgKey:e.rgKey,id:e.id}})}var o=n(3),a=n.n(o),s=n(4),c=n.n(s),l=n(5),u=n.n(l),p=n(1),d=n.n(p),h=n(0),f=n.n(h),m=n(62),g=n.n(m),v=n(8),y=n.n(v),b=n(53),E=n.n(b),w=n(6),_=n(345),S=n(10),I=n(29),C=n.n(I),O=n(197),x=n.n(O),k=n(200),j=n.n(k),T=n(86),A=n.n(T),P=(d.a.arrayOf(d.a.shape({type:d.a.string.isRequired,title:d.a.string.isRequired,rgKey:d.a.string.isRequired,id:d.a.number.isRequired})).isRequired,n(231)),M=n(2),D="y",R="n",N="s",L=function(e){function t(){var n,r,i;a()(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=r=c()(this,e.call.apply(e,[this].concat(s))),r.handleYes=function(){r.props.resolve(D)},r.handleNo=function(){r.props.resolve(R)},i=n,c()(r,i)}return u()(t,e),t.prototype.renderItems=function(){var e=this;return this.props.publications.map(function(t){return f.a.createElement(M.Text,Object.assign({size:"m",spacing:"xs",key:t.id},e.props.bem("research-item","white")),f.a.createElement(M.Badge,{color:"green",radius:"m",luminosity:"high"},t.type)," ",t.title)})},t.prototype.render=function(){var e=this.props.bem;return f.a.createElement("div",e("container"),f.a.createElement("div",e("content"),f.a.createElement(M.Text,{size:"xl",spacing:"m"},"Are these items part of the same project?"),this.renderItems()),f.a.createElement("div",e("footer"),f.a.createElement(M.ButtonGroup,{gutter:"xs"},f.a.createElement(M.Button,{type:"button",onClick:this.handleNo},"No"),f.a.createElement(M.Button,{type:"button",onClick:this.handleYes},"Yes"))))},t}(h.Component),F=n(84),U=n.n(F),B=n(408),q=n(274),V=n(12),W=n(175),z=n(108),H=n(406),Y=n(49),K=n(14),G=n(37),Q=n(385),$=n.n(Q),X=function(e){function t(){var n,r,i;a()(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=r=c()(this,e.call.apply(e,[this].concat(s))),r.state={buttonStatus:"disabled",canSubmitForm:!1,projectsLoaded:0===r.getProjectsToLoad().length},r.onSkip=function(e){e.preventDefault(),Object(K.a)(r.props.milestones.skipped,r.props.currentViewIds),r.props.resolve()},r.onSubmit=function(e){if(e.preventDefault(),r.state.canSubmitForm){r.setBusyState();var t=U()(e.target,{hash:!0});t.isNewProject?r.createNewProject(t):r.saveLinksToProject(t)}},r.onProjectSelectChange=function(e){e?r.setEnabledState():r.setDisabledState()},r.onInputChange=function(e){""!==e.currentTarget.value?r.setEnabledState():r.setDisabledState()},i=n,c()(r,i)}return u()(t,e),t.prototype.getProjectsToLoad=function(){var e=this.props,t=e.projectIds,n=e.projectIdsInState;return $()(t,n)},t.prototype.componentDidMount=function(){var e=this,t=this.props.mergeState,n=this.getProjectsToLoad();n.length>0&&this.loadStateForProjectIds(n).then(function(n){t(n.result),e.setState({projectsLoaded:!0})}).catch(function(){e.setState({projectsLoaded:!0})})},t.prototype.hasNoProjects=function(){return 0===this.props.projectIds.length},t.prototype.setBusyState=function(){this.setState({buttonStatus:"busy",canSubmitForm:!1})},t.prototype.setEnabledState=function(){this.setState({buttonStatus:"",canSubmitForm:!0})},t.prototype.setDisabledState=function(){this.setState({buttonStatus:"disabled",canSubmitForm:!1})},t.prototype.saveLinksToProject=function(e){var t=this;Object(W.b)(e.project,e.rgKeys,null,this.props.trackingMetadata).then(function(){t.setEnabledState(),Object(K.a)(t.props.milestones.belongsToExisting,t.props.currentViewIds),t.updateAnswer(e.project),t.props.resolve({projectId:e.project})}).catch(function(){t.handleError("Research item could not be added to project")}),this.addCollaborators(e.project).catch(function(){})},t.prototype.createNewProject=function(e){var t=this,n={title:e.project,description:""},r={trackingMetadata:this.props.trackingMetadata,linkRgKeys:e.rgKeys,viewIds:this.props.currentViewIds};Object(z.b)(n,r).then(function(e){t.loadStateForProjectIds([e.projectId]).then(function(n){t.props.mergeState(n.result),t.setEnabledState(),Object(K.a)(t.props.milestones.belongsToCreated,t.props.currentViewIds),t.updateAnswer(e.projectId),t.props.resolve({projectId:e.projectId})}).catch(function(){}),t.addCollaborators(e.projectId).catch(function(){})}).catch(function(e){t.handleError(e.errors.join(". "))})},t.prototype.loadStateForProjectIds=function(e){return Object(S.default)(this.props.loadStateForProjectIds,{method:"GET",query:{projectIds:e}})},t.prototype.addCollaborators=function(e){var t=this.props,n=t.selectedPeople,r=t.trackingMetadata,i=t.currentViewIds;return n&&n.length>0?Object(H.a)(e,n,r.context,i):Promise.resolve()},t.prototype.updateAnswer=function(e){this.props.updateAnswerUrl&&Object(S.default)(this.props.updateAnswerUrl,{method:"POST",body:{entitiesRgKeys:C()(this.props.publications,function(e){return e.rgKey}),projectId:e}}).catch(function(){})},t.prototype.handleError=function(e){this.props.pushAlert(f.a.createElement(M.Alert,{color:"red",title:e})),this.setEnabledState()},t.prototype.getPublicationItem=function(e,t){var n=e.type,r=e.title,i=e.rgKey,o=this.props.bem;return f.a.createElement(M.Text,Object.assign({size:"m",spacing:"xs",key:t},o("research-item","white")),f.a.createElement(M.Badge,{color:"green",radius:"m",luminosity:"high"},n)," ",r,f.a.createElement("input",{type:"hidden",name:"rgKeys[]",value:i}))},t.prototype.getPublications=function(){var e=this,t=this.props,n=t.publications,r=t.currentPublicationIndex;if(r<0)return C()(n,function(t,n){return e.getPublicationItem(t,n)});var i=n[r];return this.getPublicationItem(i)},t.prototype.getHeadline=function(){return this.props.currentPublicationIndex<0?"Which project do they belong to?":"Which project does this item belong to?"},t.prototype.getInput=function(){var e=this.props,t=e.bem,n=e.projectIds;return this.hasNoProjects()?f.a.createElement("div",null,f.a.createElement(B.a,Object.assign({autoFocus:!0,name:"project",defaultValue:"",placeholder:"Enter the title of your project",onChange:this.onInputChange},t("new-project-input"))),f.a.createElement("input",{type:"hidden",name:"isNewProject",value:!0})):f.a.createElement("div",t("project-selector","white"),this.state.projectsLoaded?f.a.createElement(q.a,{projectIds:n,onChange:this.onProjectSelectChange}):f.a.createElement("div",t("","","rendering-small")))},t.prototype.render=function(){var e=this.props.bem;return f.a.createElement("form",Object.assign({onSubmit:this.onSubmit},e("container")),f.a.createElement("div",e("content"),f.a.createElement(M.Text,{size:"xl",spacing:"m"},this.getHeadline()),f.a.createElement("div",e("publication-list"),this.getPublications()),this.getInput()),f.a.createElement("div",e("footer"),f.a.createElement(M.Pack,Object.assign({verticalAlign:"middle"},e("buttons")),f.a.createElement(M.Pack.Item,null,f.a.createElement(M.Button,{type:"button",theme:"bare",onClick:this.onSkip},"Skip")),f.a.createElement(M.Pack.Item,null,f.a.createElement(M.Button,{type:"submit",status:this.state.buttonStatus},"Continue")))))},t}(h.Component),J=Object(w.connectWidget)(function(e,t){return{projectIdsInState:t.projectIds.map(function(t){var n=Object(G.g)(e,{projectId:t});return n?n.id:null})}},function(e){return{pushAlert:function(t){e(Object(V.pushAlert)(function(){return t}))},mergeState:function(t){e(Object(Y.b)(t))}}})(X),Z=n(21),ee=n(129),te=n(391),ne=function(e){function t(){var n,r,i;a()(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=r=c()(this,e.call.apply(e,[this].concat(s))),r.state={savingInterval:!1},r.handleSubmit=function(e){e.preventDefault(),r.setState({savingInterval:!0});var t=U()(e.target,{hash:!0}).interval,n=r.props,i=n.projectId,o=n.context,a=n.dispatch,s=n.resolve;Object(z.h)(i,t,o).then(function(e){a(Object(ee.r)(i,e.project)),Object(K.a)(r.props.milestones.intervalAdded,r.props.currentViewIds),s()}).catch(function(e){r.handleSubmitError(e.errors.join(". "))})},r.handleSkip=function(){Object(K.a)(r.props.milestones.intervalSkipped,r.props.currentViewIds),r.props.resolve()},i=n,c()(r,i)}return u()(t,e),t.prototype.componentDidMount=function(){this.props.interval?this.props.resolve():Object(K.a)(this.props.milestones.intervalViewed,this.props.currentViewIds)},t.prototype.handleSubmitError=function(e){this.props.dispatch(Object(V.pushAlert)(function(){return f.a.createElement(M.Alert,{color:"red",title:e})})),this.setState({savingInterval:!1})},t.prototype.render=function(){var e=this.state.savingInterval,t=this.props,n=t.bem;return t.interval?null:f.a.createElement("form",Object.assign({onSubmit:this.handleSubmit},n("container")),f.a.createElement("div",n("content"),f.a.createElement(M.Text,{size:"xl",spacing:"m"},"Is this project ongoing?"),f.a.createElement(M.FormGroup,null,f.a.createElement(te.a,null))),f.a.createElement("div",n("footer"),f.a.createElement(M.ButtonGroup,null,f.a.createElement(M.Button,{theme:"bare",onClick:this.handleSkip,type:"button"},"Skip"),f.a.createElement(M.Button,{status:e?"busy":"",type:"submit"},"Continue"))))},t}(h.Component),re=Object(Z.createSelector)([G.g],function(e){return{interval:e.interval}}),ie=Object(w.connectWidget)(re)(ne),oe=n(24),ae=function(e){function t(){var n,r,i;a()(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=r=c()(this,e.call.apply(e,[this].concat(s))),r.onViewProjectClick=function(){Object(oe.b)(r.props.projects[0].url)},i=n,c()(r,i)}return u()(t,e),t.prototype.componentDidMount=function(){Object(K.a)(this.props.milestones.goalEot,this.props.currentViewIds)},t.prototype.getButton=function(){var e=this.props,t=e.hasMorePublicationsToOrganize,n=e.onFinishClick,r=e.resolve,i=e.viewProjectOnSuccess;return t?f.a.createElement(M.Button,{onClick:r},"Keep sorting"):i&&this.props.projects.length>0?f.a.createElement(M.Button,{onClick:this.onViewProjectClick},"View project"):this.props.isClosable?f.a.createElement(M.Button,{onClick:n},"Close"):null},t.prototype.getHeadline=function(){return this.props.projects.length>0?"Thanks, your research was successfully sorted":"Thanks, we've noted your response"},t.prototype.render=function(){var e=this.props,t=e.bem,n=e.projects,r=e.viewProjectOnSuccess;return f.a.createElement("div",t("container"),f.a.createElement("div",t("content"),f.a.createElement(M.Text,{size:"xl",spacing:"m"},this.getHeadline()),f.a.createElement("table",t("project-list"),f.a.createElement("tbody",null,C()(n,function(e){return f.a.createElement("tr",{key:e.id},f.a.createElement("td",t("project-list-data"),f.a.createElement(M.Text,Object.assign({size:"m",spacing:"xs",key:e.id},t("research-item","white")),f.a.createElement(M.Badge,{color:"green",radius:"m",luminosity:"high"},"Project")," ",e.title)),f.a.createElement("td",t("project-list-data"),r?null:f.a.createElement(M.Text,{size:"m",spacing:"xs"},f.a.createElement(M.Link,Object.assign({href:e.url},t("project-link","white")),"View project"))))})))),f.a.createElement("div",t("footer"),this.getButton()))},t}(h.Component);ae.defaultProps={isClosable:!0};var se=Object(w.connectWidget)(function(e,t){return{projects:C()(t.projects,function(n){var i=Object(G.g)(e,{projectId:n.projectId});return{id:i.id,title:i.title,url:r(i.projectURL,t.projectDetailPageContext)}})}})(ae),ce=n(7),le=n.n(ce),ue=n(28),pe=n(502),de=n(48),he=new le.a({name:"profile-content-organize-light"}),fe="intro",me="selectProject",ge="collaborators",ve="decide",ye="success",be="loading",Ee=[fe,me,ge,"interval",ve,ye,be],we=[me,ge,"interval",ve,ye],_e=function(e){function t(n){a()(this,t);var r=c()(this,e.call(this,n));return r.onClose=function(){Object(S.default)(r.props.hideUrl,{method:"POST"}),r.hidePromoVisually(),r.props.onClose&&r.props.onClose()},r.onFinishClick=function(){r.hidePromoVisually(),r.props.onFinish&&r.props.onFinish()},r.resolveStepIntro=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;0===t&&!1===r.hasOnlyOnePublication()&&r.saveAnswer(e).then(function(){e===N&&r.props.goToStep(ye)}),e!==N&&(r.setDataStoreBasedOnAnswer(e,t),r.props.resetToStep(fe),r.props.nextStep())},r.resolveStepSelectProject=function(e){if(r.hasOnlyOnePublication()&&r.saveAnswer(R,e),e)return j()(r.dataStore.projectIds,e.projectId)||r.dataStore.projectIds.push(e.projectId),r.dataStore.currentProjects.unshift(e),r.dataStore.pickedProjects.unshift(e),r.dataStore=A()("currentProjectId",e.projectId,r.dataStore),void r.props.nextStep();r.props.goToStep(ve)},r.resolveStepAddCollaborators=function(e){e&&e.selectedPeople&&(r.dataStore=A()("selectedPeople",e.selectedPeople,r.dataStore)),r.props.nextStep()},r.resolveStepInterval=function(){r.props.nextStep()},r.resolveStepSuccess=function(){r.props.goToStep(be),Object(S.default)(r.props.getPublicationsUrl,{method:"GET",query:{seen:r.dataStore.seenPublicationRgKeys,context:r.props.context}}).then(function(e){r.onGetPublicationsSuccess(e.result),r.hasOnlyOnePublication()?r.resolveStepIntro(R):r.props.goToStep(fe)}).catch(function(e){r.props.pushAlert(f.a.createElement(M.Alert,{color:"red",title:e.errors})),r.hidePromoVisually()})},r.dataStore={publications:n.publications,currentPublicationIndex:-1,projectIds:n.projectIds,currentProjectId:null,currentProjects:[],pickedProjects:[],currentViewIds:n.currentViewIds,hasMorePublicationsToOrganize:n.hasMorePublicationsToOrganize,selectProjectStepMilestones:{},collaboratorsStepMilestones:{},selectedPeople:[],seenPublicationRgKeys:C()(n.publications,function(e){return e.rgKey})},r.state={promoVisible:!0},r.hasOnlyOnePublication()&&r.setDataStoreBasedOnAnswer(R),r}return u()(t,e),t.prototype.componentWillReceiveProps=function(e){switch(e.currentStep){case ve:return void this.resolveStepDecideOnNextStep();case ye:return void(this.shouldSkipSuccessStep()&&this.resolveStepSuccess())}},t.prototype.componentDidUpdate=function(e){e.currentStep!==ye&&this.props.currentStep===ye&&this.props.onSuccessStep&&this.props.onSuccessStep()},t.prototype.getStepCollaboratorsMilestones=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=this.props.milestones,r=n.bothCollaboratorsViewed,i=n.bothCollaboratorsAdded,o=n.bothCollaboratorsSkipped,a=n.itemACollaboratorsViewed,s=n.itemACollaboratorsAdded,c=n.itemACollaboratorsSkipped,l=n.itemBCollaboratorsViewed,u=n.itemBCollaboratorsAdded,p=n.itemBCollaboratorsSkipped;return e===D?{viewed:r,added:i,skipped:o}:0===t?{viewed:a,added:s,skipped:c}:1===t?{viewed:l,added:u,skipped:p}:{}},t.prototype.getStepSelectProjectMilestones=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=this.props.milestones,r=n.bothBelongToCreated,i=n.bothBelongToExisting,o=n.bothSkipped,a=n.itemABelongsToCreated,s=n.itemABelongsToExisting,c=n.itemASkipped,l=n.itemBBelongsToCreated,u=n.itemBBelongsToExisting,p=n.itemBSkipped;return e===D?{belongsToCreated:r,belongsToExisting:i,skipped:o}:0===t?{belongsToCreated:a,belongsToExisting:s,skipped:c}:1===t?{belongsToCreated:l,belongsToExisting:u,skipped:p}:{}},t.prototype.hidePromoVisually=function(){this.setState({promoVisible:!1}),Object(de.a)(["rg-base"],function(e){e.fire("ProfileOverviewPromoItemView:hideVisiblePromo")})},t.prototype.hasOnlyOnePublication=function(){return 1===this.dataStore.publications.length},t.prototype.hasNextPublicationToDisplay=function(){var e=this.dataStore.currentPublicationIndex;return e>=0&&e+1<this.dataStore.publications.length},t.prototype.shouldSkipSuccessStep=function(){var e=0===this.dataStore.currentProjects.length,t=!this.hasNextPublicationToDisplay();return this.dataStore.hasMorePublicationsToOrganize&&t&&e},t.prototype.setDataStoreBasedOnAnswer=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch(e){case D:this.dataStore=A()("currentPublicationIndex",-1,this.dataStore),this.dataStore=A()("selectProjectStepMilestones",this.getStepSelectProjectMilestones(D),this.dataStore),this.dataStore=A()("collaboratorsStepMilestones",this.getStepCollaboratorsMilestones(D),this.dataStore);break;case R:this.dataStore=A()("currentPublicationIndex",t,this.dataStore),this.dataStore=A()("selectProjectStepMilestones",this.getStepSelectProjectMilestones(R,t),this.dataStore),this.dataStore=A()("collaboratorsStepMilestones",this.getStepCollaboratorsMilestones(R,t),this.dataStore)}},t.prototype.saveAnswer=function(e,t){return Object(S.default)(this.props.saveAnswerUrl,{method:"POST",body:{answer:e,entitiesRgKeys:C()(this.dataStore.publications,function(e){return e.rgKey}),projectId:t?t.projectId:null,variant:this.props.experimentVariant,viewIds:this.props.currentViewIds}}).catch(function(){})},t.prototype.getPublicationRgKeys=function(){var e=this.dataStore.currentPublicationIndex;return e<0?[this.dataStore.publications[0].rgKey,this.dataStore.publications[1].rgKey]:[this.dataStore.publications[e].rgKey]},t.prototype.resolveStepDecideOnNextStep=function(){if(this.hasNextPublicationToDisplay()){this.dataStore=A()("selectedPeople",[],this.dataStore);var e=this.dataStore.currentPublicationIndex;this.resolveStepIntro(R,e+1)}else this.props.nextStep()},t.prototype.onGetPublicationsSuccess=function(e){var t=i(e.publications);this.dataStore=A()("publications",t,this.dataStore),this.dataStore=A()("hasMorePublicationsToOrganize",e.hasMorePublicationsToOrganize,this.dataStore),this.dataStore=A()("currentViewIds",e.viewIds,this.dataStore),this.dataStore=A()("currentProjects",[],this.dataStore),this.dataStore=A()("currentProjectId",null,this.dataStore),this.dataStore=A()("selectProjectStepMilestones",{},this.dataStore),this.dataStore=A()("collaboratorsStepMilestones",{},this.dataStore);var n=C()(t,function(e){return e.rgKey}),r=(this.dataStore.seenPublicationRgKeys.length>12?this.dataStore.seenPublicationRgKeys.slice(2):this.dataStore.seenPublicationRgKeys).concat(n);this.dataStore=A()("seenPublicationRgKeys",r,this.dataStore)},t.prototype.getIntroStepProps=function(){return{publications:this.dataStore.publications,resolve:this.resolveStepIntro,bem:he}},t.prototype.getSelectProjectStepProps=function(){return{publications:this.dataStore.publications,currentPublicationIndex:this.dataStore.currentPublicationIndex,projectIds:this.dataStore.projectIds,currentViewIds:this.dataStore.currentViewIds,milestones:this.dataStore.selectProjectStepMilestones,selectedPeople:this.dataStore.selectedPeople,trackingMetadata:this.props.trackingMetadata,loadStateForProjectIds:this.props.loadStateForProjectIds,updateAnswerUrl:this.props.updateAnswerUrl,resolve:this.resolveStepSelectProject,bem:he}},t.prototype.getCollaboratorsStepUrlPrefills=function(){var e={publicationRgKeys:this.getPublicationRgKeys(),context:this.props.context,handleFormSubmitType:pe.c};return this.dataStore.currentProjectId&&(e.projectId=this.dataStore.currentProjectId),e},t.prototype.getCollaboratorsStepProps=function(){return{milestones:this.dataStore.collaboratorsStepMilestones,currentViewIds:this.dataStore.currentViewIds,resolve:this.resolveStepAddCollaborators}},t.prototype.getIntervalStepProps=function(){return{projectId:this.dataStore.currentProjectId,context:this.props.context,currentViewIds:this.dataStore.currentViewIds,milestones:{intervalViewed:this.props.milestones.intervalViewed,intervalAdded:this.props.milestones.intervalAdded,intervalSkipped:this.props.milestones.intervalSkipped},resolve:this.resolveStepInterval,bem:he}},t.prototype.getSuccessStepProps=function(){return{projects:x()(this.dataStore.currentProjects,"projectId"),hasMorePublicationsToOrganize:this.dataStore.hasMorePublicationsToOrganize,currentViewIds:this.dataStore.currentViewIds,projectDetailPageContext:this.props.projectDetailPageContext,viewProjectOnSuccess:this.props.viewProjectOnSuccess,milestones:{goalEot:this.props.milestones.goalEot},onFinishClick:this.onFinishClick,resolve:this.resolveStepSuccess,bem:he,isClosable:this.props.isClosable}},t.prototype.getLoader=function(e){return f.a.createElement("div",Object.assign({key:"loader-"+e},he("rendering","","rendering-transparent")))},t.prototype.renderCurrentStep=function(){switch(this.props.currentStep){case be:return this.getLoader(1);case fe:return f.a.createElement(L,Object.assign({},this.getIntroStepProps(),{key:"step-intro"}));case me:return f.a.createElement(J,Object.assign({},this.getSelectProjectStepProps(),{key:"step-select-project-"+this.dataStore.currentPublicationIndex}));case ge:return f.a.createElement("div",Object.assign({},he("async","white"),{key:"step-collaborators"}),f.a.createElement(ue.a,Object.assign({url:"profile.ProfileContentOrganizeLightStepCollaborators.html",widgetParams:this.getCollaboratorsStepUrlPrefills()},this.getCollaboratorsStepProps(),{loadComponentInternalDoNotSetOrYouWillBeFired:function(e){return n.e(9).then(function(){var t=[n(3226)];e.apply(null,t)}.bind(this)).catch(n.oe)}})));case"interval":return f.a.createElement(ie,Object.assign({},this.getIntervalStepProps(),{key:"step-interval-"+this.dataStore.currentPublicationIndex}));case ye:return this.shouldSkipSuccessStep()?this.getLoader(3):f.a.createElement(se,Object.assign({},this.getSuccessStepProps(),{key:"step-success"}));default:return null}},t.prototype.shouldComponentUpdate=function(e){return e.currentStep!==this.props.currentStep},t.prototype.render=function(){return f.a.createElement("div",he(),f.a.createElement(P.a,Object.assign({},this.props.promoBoxProps,{closeable:this.props.isClosable,transition:"collapse",onClose:this.onClose,visible:this.state.promoVisible}),f.a.createElement(g.a,Object.assign({transitionName:"transition",transitionEnterTimeout:500,transitionLeaveTimeout:100,component:"div"},he("transition-wrapper")),this.renderCurrentStep())))},t}(h.Component);_e.defaultProps={isClosable:!0,promoBoxProps:{color:"white",borderColor:"grey",size:"xl"}};var Se=E()(function(e){return 1===e.publications.length},Object(_.a)(we),Object(_.a)(Ee));t.a=y()(Object(w.connectWidget)(function(e,t){return{publications:i(t.publications)}},function(e){return{pushAlert:function(t){e(Object(V.pushAlert)(function(){return t}))}}},null,{pure:!1}),Se)(_e)},391:function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(2);t.a=function(){return i.a.createElement(o.FormGroup.Item,null,i.a.createElement(o.FormGroup,null,i.a.createElement(o.FormGroup.Item,null,i.a.createElement(o.Radio,{name:"interval",value:"monthly",defaultChecked:!0},"Yes, this project is being worked on actively")),i.a.createElement(o.FormGroup.Item,null,i.a.createElement(o.Radio,{name:"interval",value:"none"},"No, this project isn't being worked on anymore"))))}},394:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(256),d=n(29),h=n.n(d),f=n(55),m=n.n(f),g=n(15),v=n.n(g),y=n(2),b=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.handlePreviewLoaded=r.handlePreviewLoaded.bind(r),r.state={previewImageLoaded:!1},r}return c()(t,e),t.prototype.getScaledWidth=function(){var e=this.props.image,t="auto";if(e.height>0&&e.width>0){var n=this.props.height/e.height,r=e.width*n-this.props.itemRightMargin;this.props.maxWidth&&(r=Math.min(this.props.maxWidth,r)),this.props.minWidth&&r<this.props.minWidth&&(r=this.props.minWidth),t=r+"px"}return t},t.prototype.handlePreviewLoaded=function(){this.setState({previewImageLoaded:!0})},t.prototype.getBackground=function(){return this.props.background?u.a.createElement("div",{className:"image-previewer-item-background"}):null},t.prototype.getEnlarge=function(){if(!this.props.enlarge)return null;var e=this.getScaledWidth(),t={width:this.getScaledWidth()},n=this.props.showPlusIcon?u.a.createElement("span",{className:"ico-plus-large image-plus"}):null,r=parseInt(e,10)>50?this.props.linkText:"",i=parseInt(e,10)>50&&this.props.linkTextSecondary?u.a.createElement("span",{className:"image-enlarge-link-label secondary",style:t},this.props.linkTextSecondary):null;return u.a.createElement("a",{className:"image-enlarge-link ga-show-figure"},n,u.a.createElement("span",{className:"image-enlarge-link-label primary",style:t},r),i)},t.prototype.getImage=function(){var e=this.props.image,t={height:this.props.height},n=this.getScaledWidth(),r=u.a.createElement("img",{"data-src":e.imageUrl,className:"lazyload",height:this.props.height,width:n,style:t,onLoad:this.handlePreviewLoaded});return e.isValid?e.downloadUrl?u.a.createElement("a",{href:e.downloadUrl,target:"_blank",rel:"noopener"},r):r:e.downloadUrl?u.a.createElement(y.Link,{href:e.downloadUrl,theme:"bare"},e.title):null},t.prototype.render=function(){var e=this.getScaledWidth(),t=["image-previewer-item"];return!this.state.previewImageLoaded&&this.props.image.isValid&&t.push("ajax-loading-circles-large"),u.a.createElement("div",{className:v()(t),style:{width:e},onClick:this.handleClick},this.getBackground(),this.getImage(),this.getEnlarge())},t}(l.Component);b.defaultProps={linkText:"View figure",itemRightMargin:10};var E=b,w=n(203),_=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this,t=this.props.images;if(0===t.length)return null;var n=t.length;if(0===n)return null;var r=this.countPreviewLimit(t);return n-r&&(t=t.slice(0,r)),u.a.createElement("div",{className:this.props.className},u.a.createElement("div",{className:"image-previewer"},h()(t,function(t){var n={title:t.metadata.filename,imageUrl:t.metadata.imageUrl,width:t.width,height:t.height,isValid:t.isValid};return u.a.createElement(w.a,{key:t.entityId,downloadUrl:t.downloadUrl,imageUrl:t.metadata.imageLargeUrl,entityId:t.entityId,iepl:e.props.iepl},u.a.createElement(E,{key:t.entityId,image:n,height:e.props.imageHeight,itemRightMargin:e.props.itemRightMargin}))})))},t.prototype.countPreviewLimit=function(e){var t=this,n=0,r=Math.min(e.length,3);return m()(e,function(e,i){var o=e.width*t.props.imageHeight/e.height,a=o+n+t.props.itemRightMargin;if(a>t.props.previewMaximumWidth||o>t.props.previewMaximumWidth&&i>0)return r=i,!1;n=a}),r},t}(l.Component),S=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.state={visible:!1,images:r.props.images},r}return c()(t,e),t.prototype.componentWillUnmount=function(){this.didMount=!1},t.prototype.componentDidMount=function(){var e=this;this.didMount=!0;var t=this.state.images,n=h()(this.state.images,function(e,n){if(n<10)return new Promise(function(r){var i=new Image;i.src=e.metadata.imageUrl,i.onload=function(){t[n].height=i.naturalHeight,t[n].width=i.naturalWidth,r()},i.onerror=function(){t[n].height=null,t[n].width=null,r()}})});Promise.all(n).then(function(){if(e.didMount){var n=h()(t,function(e){var t=e.width&&e.height&&e.height>60&&e.width/e.height<6&&e.height/e.width<6;return Object.assign({},e,{isValid:t})});e.setState({images:n,visible:!0})}})},t.prototype.render=function(){return u.a.createElement(_,{images:this.state.images,itemRightMargin:10,previewMaximumWidth:750,imageHeight:100,className:this.props.className,iepl:this.props.iepl})},t}(l.Component),I=n(8),C=n.n(I),O=n(53),x=n.n(O),k=n(67),j=n.n(k),T=n(131),A=n.n(T),P=n(80),M=n.n(P),D=n(322),R=C()(M()(function(e){return Object.assign({},e,{images:e.links.filter(function(e){return e.metadata&&!!e.metadata.imageUrl}).map(function(t){return Object.assign({},t,{downloadUrl:Object(D.b)(t,e.context)})})})}),x()(function(e){return e.images.length>0},j()(S),A.a))(S),N=n(226),L=n(266),F=(n(106),n(33)),U=n.n(F),B=n(396),q=n(28),V=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.getAttachments=function(){return this.getAttachmentsList("project-updates-attachment-list")},t.prototype.getAttachmentsList=function(e){var t=this.props,n=t.links,r=t.context,i=t.attachmentsLimit,o=t.ieplByType,a=t.isTextFilePreviewEnabled,s=t.isMessageTypeProduced,c=t.shouldShowActions,l=t.areLinksDownloadable;if(U()(n))return null;if(s)return u.a.createElement(L.a,{className:e,links:n.slice(0,B.a),attachmentsLimit:i,shouldShowActions:c});var p=o&&o.viewAttachment?o.viewAttachment:null,d=o&&o.downloadAttachment?o.downloadAttachment:null;return u.a.createElement(N.a,{className:e,links:n,attachmentsLimit:i,context:r,isTextFilePreviewEnabled:a,ieplView:p,ieplDownload:d,areLinksDownloadable:l})},t.prototype.render=function(){var e=this.props,t=e.context,r=e.ieplByType,i=e.lineTruncationLength,o=e.links,a=e.message,s=e.showContributors,c=r&&r.imageFullSize?r.imageFullSize:null;return u.a.createElement("div",{className:this.props.className},u.a.createElement(R,{className:"project-updates-attachment-previews",links:o,context:t,iepl:c}),a.title&&u.a.createElement(y.Text,{size:"xl",spacing:"s"},a.title),s&&u.a.createElement(q.a,{url:"projects.ProjectUpdateContributors.html",renderLoadingIndicator:!1,widgetParams:{messageId:a.id},loadComponentInternalDoNotSetOrYouWillBeFired:function(e){return n.e(5).then(function(){var t=[n(3231)];e.apply(null,t)}.bind(this)).catch(n.oe)}}),u.a.createElement(p.a,{className:"project-updates-list-item-body-content",message:a,lineTruncationLength:i}),this.getAttachments(),this.props.children)},t}(l.Component);t.a=V;V.defaultProps={attachmentsLimit:3,className:"project-updates-list-item-body"}},395:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=n(22),i=n.n(r),o=function(e,t,n){return i()(e,["publicationGlobalPublicationCounters",t,n],null)},a=function(e,t){var n=t.publicationUid;return o(e,n,"comments")},s=function(e,t){var n=t.publicationUid;return o(e,n,"incomingCitations")}},396:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(2),h=n(266),f=3,m=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.state={modalIsOpen:!1,modalStatus:""},r.onClick=r.onClick.bind(r),r.onModalRequestClose=r.onModalRequestClose.bind(r),r}return c()(t,e),t.prototype.onClick=function(){this.setState({modalIsOpen:!0})},t.prototype.onModalRequestClose=function(){this.setState({modalIsOpen:!1})},t.prototype.render=function(){var e=this.props,t=e.links,n=e.context;return t.length<=f?null:p.a.createElement("div",{className:"project-update-item-view-all-link"},p.a.createElement(d.Button,{theme:"bare",size:"m",color:"blue",onClick:this.onClick},"View all ",t.length," items"),p.a.createElement(d.Modal,{status:this.state.modalStatus,isOpen:this.state.modalIsOpen,onRequestClose:this.onModalRequestClose},p.a.createElement(d.Text,{size:"xl",spacing:"m"},t.length," research items"),p.a.createElement("div",{className:"project-update-item-view-all-dialog__content"},p.a.createElement(h.a,{links:t,context:n}))))},t}(u.Component);t.b=m},397:function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&r(e),s=t&&r(t),c=a||s;if(e&&r(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var l=void 0;if(o.length){var u=o[o.length-1];l="."===u||".."===u||""===u}else l=!1;for(var p=0,d=o.length;d>=0;d--){var h=o[d];"."===h?i(o,d):".."===h?(i(o,d),p++):p&&(i(o,d),p--)}if(!c)for(;p--;p)o.unshift("..");!c||""===o[0]||o[0]&&r(o[0])||o.unshift("");var f=o.join("/");return l&&"/"!==f.substr(-1)&&(f+="/"),f}},398:function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});var n=void 0===e?"undefined":i(e);if(n!==(void 0===t?"undefined":i(t)))return!1;if("object"===n){var o=e.valueOf(),a=t.valueOf();if(o!==e||a!==t)return r(o,a);var s=Object.keys(e),c=Object.keys(t);return s.length===c.length&&s.every(function(n){return r(e[n],t[n])})}return!1}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r},399:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(7),f=n.n(h),m=n(2),g=n(12),v=n(160),y=new f.a({name:"ad-campaign-item-actions"}),b=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={isDeleteConfirmation:!1,isDeleting:!1},r.handleDeleteClick=function(){r.setState({isDeleteConfirmation:!0})},r.handleDeleteCancel=function(){r.setState({isDeleteConfirmation:!1})},r.handleDeleteConfirm=function(){r.setState({isDeleting:!0});var e=r.props.useLegacyApi?v.t:v.q;r.props.dispatch(e(r.props.rgKey)).then(function(){r.props.dispatch(Object(g.pushAlert)(function(){return p.a.createElement(m.Alert,{title:"Product has been deleted",color:"green"})}))}).catch(function(e){r.setState({isDeleting:!1});var t=e.errors.error||"System error";r.props.dispatch(Object(g.pushAlert)(function(){return p.a.createElement(m.Alert,{title:"Can't delete the product",description:t,color:"red"})}))})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props.children,t=this.state,n=t.isDeleting,r=t.isDeleteConfirmation,i=p.a.createElement(m.Button,{type:"button",width:"square",color:"grey",theme:"bare",size:"m"},p.a.createElement(m.Button.Icon,{identifier:"gear"}));return p.a.createElement("div",y(),p.a.createElement(m.Dropdown,{mode:"click",scope:"global",target:i},e,p.a.createElement(m.Dropdown.Action,{type:"button",onClick:this.handleDeleteClick},"Delete")),p.a.createElement(m.Modal,{isOpen:r,onRequestClose:this.handleDeleteCancel},p.a.createElement(m.Modal.Body,null,p.a.createElement(m.Text,{size:"m",spacing:"auto"},"Do you really want to remove the product from the Ad campaign?")),p.a.createElement(m.Modal.Footer,null,p.a.createElement(m.ButtonGroup,null,p.a.createElement(m.Button,{status:n?"disabled":"",theme:"bare",type:"button",onClick:this.handleDeleteCancel},"Cancel"),p.a.createElement(m.Button,{status:n?"busy":"",type:"button",onClick:this.handleDeleteConfirm},"Remove product")))))},t}(p.a.Component);b.Item=m.Dropdown.Action,b.defaultProps={actions:[],useLegacyApi:!1},t.a=Object(d.connectWidget)()(b)},405:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(92),d=n.n(p);t.a=function(e){var t=function(t){function n(){var e,r,o;i()(this,n);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return e=r=a()(this,t.call.apply(t,[this].concat(c))),r.state={isMounted:!1},o=e,a()(r,o)}return c()(n,t),n.prototype.componentDidMount=function(){this.setState({isMounted:!0})},n.prototype.render=function(){return this.state.isMounted?u.a.createElement(e,this.props):null},n}(u.a.Component);return t.displayName=d()(e,"renderOnClient"),t}},409:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"c",function(){return h}),n.d(t,"b",function(){return f});var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(3),c=n.n(s),l=n(156),u=n(39),p=function(){function e(){c()(this,e),this.scale=null}return e.prototype.setRange=function(e){this.scale.range(e)},e.prototype.getScale=function(){return this.scale},e.prototype.getScaleDomain=function(e,t){return[0,Object(u.e)(e,t)]},e}(),d=function(e){function t(){c()(this,t);var n=i()(this,e.call(this));return n.scale=Object(l.b)(),n}return a()(t,e),t}(p),h=function(e){function t(){c()(this,t);var n=i()(this,e.call(this));return n.scale=Object(l.d)(),n}return a()(t,e),t.prototype.getScaleDomain=function(e,t){return Object(u.d)(e,t)},t}(p),f=function(e){function t(){c()(this,t);var n=i()(this,e.call(this));return n.scale=Object(l.a)(),n}return a()(t,e),t.prototype.setRange=function(e){this.scale.rangeRound(e).padding(.05)},t.prototype.getScaleDomain=function(e,t){return e.map(t)},t}(p)},410:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(3),c=n.n(s),l=n(357),u=(function(){function e(t){c()(this,e),this.text=t,this.padding=27}e.prototype.getText=function(){return this.text},e.prototype.setPadding=function(e){this.padding=e},e.prototype.getPadding=function(){return this.padding}}(),function(){function e(t){c()(this,e),this.scale=t,this.ticks=null,this.tickValues=null,this.tickSize=null,this.tickFormat=null,this.tickPadding=12,this.tickLabel=null,this.domain=null,this.tickLabelFormatter=null}return e.prototype.setChart=function(e){this.chart=e},e.prototype.setUp=function(){this.setUpProperties()},e.prototype.setUpProperties=function(){this.getScale().domain(this.scale.getScaleDomain(this.chart.data,this.domain)),this.axis=this.createAxis(this.getScale()),this.ticks&&this.axis.ticks(this.ticks),this.tickValues&&this.axis.tickValues(this.tickValues),this.tickSize&&this.axis.tickSize(this.tickSize),this.tickFormat&&this.axis.tickFormat(this.tickFormat);var e=this.tickPadding;this.axis.tickPadding(e)},e.prototype.setTicks=function(e){this.ticks=e},e.prototype.setTickValues=function(e){this.tickValues=e},e.prototype.setTickSize=function(e){this.tickSize=e},e.prototype.setTickFormat=function(e){this.tickFormat=e},e.prototype.setTickPadding=function(e){this.tickPadding=e},e.prototype.getTickPadding=function(){return this.tickPadding},e.prototype.setTickLabel=function(e){this.tickLabel=e},e.prototype.getTickLabel=function(){return this.tickLabel},e.prototype.setDomain=function(e){this.domain=e},e.prototype.getDomain=function(){return this.domain},e.prototype.getScale=function(){return this.scale.getScale()},e.prototype.getAxis=function(){return this.axis},e.prototype.setTickLabelFormatter=function(e){this.tickLabelFormatter=e},e.prototype.getTickLabelFormatter=function(){return this.tickLabelFormatter},e.prototype.createAxis=function(e){},e.prototype.render=function(e){},e}()),p=function(e){function t(){return c()(this,t),i()(this,e.apply(this,arguments))}return a()(t,e),t.prototype.createAxis=function(e){return Object(l.a)(e)},t.prototype.getAttrTransformTranslate=function(){return"translate(0,"+this.chart.height+")"},t.prototype.setup=function(){this.scale.setRange([0,this.chart.width]),this.setUpProperties(this.chart)},t.prototype.render=function(e){e.select(".x.axis").remove(),this.element=e.append("g").attr("class","x axis").attr("transform",this.getAttrTransformTranslate()).call(this.getAxis()),this.getTickLabel()&&this.element.selectAll(".tick").append("text").text(this.getTickLabel().getText()).attr("y",this.getTickLabel().getPadding()),this.getTickLabelFormatter()&&this.element.selectAll(".tick text").call(this.getTickLabelFormatter())},t.prototype.setActive=function(e,t){var n=this,r=this.element.selectAll(".tick");r.classed("active",!1),t?r.filter(function(e,n){return n===t}).classed("active",!0):r.filter(function(t){return n.domain(e)===t}).classed("active",!0)},t}(u),d=function(e){function t(){return c()(this,t),i()(this,e.apply(this,arguments))}return a()(t,e),t.prototype.createAxis=function(e){return Object(l.b)(e)},t.prototype.setup=function(){this.scale.setRange([this.chart.height,0]),this.setUpProperties(this.chart)},t.prototype.render=function(e){e.select(".y.axis").remove(),this.element=e.append("g").attr("class","y axis").call(this.getAxis()),this.getTickLabelFormatter()&&this.element.selectAll(".tick text").call(this.getTickLabelFormatter())},t}(u)},411:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(36),a=n(109),s=function(){function e(t){i()(this,e),this.selector=t,this.initialized=!1,this.dateFormat("%Y-%m-%d"),this.setDimensions(this.selector.offsetWidth,250,{top:30,right:20,bottom:40,left:50}),this.xAxis=null,this.yAxis=null,this.events=[],this.elements=[],this.backgrounds=[],this.overlay=null,this.tooltip=null}return e.prototype.dateFormat=function(e){return this.dateFormat=e,this.parseDate=Object(a.b)(this.dateFormat),this},e.prototype.setDimensions=function(e,t,n){return this.margin=n,this.width=e-this.margin.left-this.margin.right,this.height=t-this.margin.top-this.margin.bottom,this},e.prototype.setXAxis=function(e){this.xAxis=e},e.prototype.setYAxis=function(e){this.yAxis=e},e.prototype.setup=function(){this.xAxis.setup(),this.yAxis.setup(),this.elements.forEach(function(e){e.setup()})},e.prototype.prepareDataFn=function(e){this.prepareDataFunction=e},e.prototype.setData=function(e){this.data=JSON.parse(JSON.stringify(e)),this.prepareDataFunction&&this.data.forEach(this.prepareDataFunction)},e.prototype.addElement=function(e){e.setChart(this),this.elements.push(e)},e.prototype.addBackground=function(e){e.setChart(this),this.backgrounds.push(e)},e.prototype.init=function(){if(!this.initialized){this.xAxis.setChart(this),this.yAxis.setChart(this);var e=Object(o.f)(this.selector);this.svg=e.append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.initialized=!0}},e.prototype.renderAxis=function(){this.xAxis.render(this.svg),this.yAxis.render(this.svg)},e.prototype.render=function(){this.init(),this.setup(),this.svg.select(".layer-background").remove();var e=this.svg.append("g").attr("class","layer-background");this.backgrounds.forEach(function(t){t.render(e)}),this.renderAxis(),this.svg.select(".layer-elements").remove();var t=this.svg.append("g").attr("class","layer-elements");this.elements.forEach(function(e){e.render(t)})},e.prototype.getOverlay=function(){return this.overlay?Object(o.f)(this.overlay).each(function(){var e=this.node();e.parentNode.appendChild(e)}):this.overlay=this.svg.append("rect").style("pointer-events","all").attr("class","overlay").attr("width",this.width+20).attr("height",this.height+20).attr("transform","translate(-10, -10)"),this.overlay},e.prototype.getTooltip=function(){return this.tooltip||(this.tooltip=Object(o.f)(this.selector).append("div").style("position","absolute").style("z-index","10000").style("opacity",0).attr("class","chart-tooltip")),this.tooltip},e}();t.a=s},412:function(e,t,n){"use strict";n.d(t,"d",function(){return f}),n.d(t,"f",function(){return g}),n.d(t,"c",function(){return v}),n.d(t,"e",function(){return y}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return E});var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(3),c=n.n(s),l=n(36),u=n(39),p=n(156),d=n(187),h=(n(242),function(){function e(){c()(this,e),this.classNames=[]}return e.prototype.setData=function(e){this.data=JSON.parse(JSON.stringify(e))},e.prototype.setChart=function(e){this.chart=e},e.prototype.setXKey=function(e){this.xKey=e},e.prototype.setYKey=function(e){this.yKey=e},e.prototype.addClassName=function(e){this.classNames.push(e)},e.prototype.setup=function(){this.data&&this.data.forEach(this.chart.prepareDataFunction)},e.prototype.setOnClick=function(e){this.onClick=e},e.prototype.setSelectedDate=function(e){this.selectedDate=e},e.prototype.setChartHeight=function(e){this.chartHeight=e},e.prototype.setChartPadding=function(e){this.chartPadding=e},e.prototype.render=function(e){},e}()),f=function(e){function t(){return c()(this,t),i()(this,e.apply(this,arguments))}return a()(t,e),t.prototype.render=function(t){var n=this;e.prototype.render.call(this,t);var r=function(e){return e.attr("r",n.radius+"px").classed("simulate-hover",!1)},i=this.chart.getOverlay(),o=this.chart.xAxis.getScale(),a=this.chart.yAxis.getScale();if(this.selectedDate){var s=null;if(t.selectAll(".dot").filter(function(e){e.date.getTime()===n.selectedDate.getTime()&&(s=e)}),s){var c=o(s[this.xKey]),l=a(s[this.yKey]);t.selectAll(".selected-date-line").remove(),t.append("line").attr("y1",l+this.radius).attr("y2",this.chartHeight-(this.chartPadding.top+this.chartPadding.bottom)).attr("x1",c).attr("x2",c).classed("selected-date-line",!0)}}this.onClick&&i.on("click",function(){var e=n.getDataPointFromMouse();n.onClick(e);var r=o(e[n.xKey]),i=a(e[n.yKey]);n.selectedDate=e[n.xKey],t.selectAll(".selected-date-line").remove(),t.append("line").attr("y1",i+n.radius).attr("y2",135).attr("x1",r).attr("x2",r).classed("selected-date-line",!0)}),i.on("mouseout.hover",function(){r(t.selectAll(".dot"))}),i.on("mousemove.hover",function(){var e=n.getDataPointFromMouse();r(t.selectAll(".dot")),t.selectAll(".dot").filter(function(t){return t.date===e.date}).attr("r",n.radius+2+"px").classed("simulate-hover",!0)})},t}(function(e){function t(){c()(this,t);var n=i()(this,e.call(this));return n.tooltip=null,n.radius=3,n.identifierClass="dot-default",n.addClassName("dot"),n}return a()(t,e),t.prototype.setTooltip=function(e){this.tooltip=e},t.prototype.setRadius=function(e){this.radius=e},t.prototype.render=function(e){var t=this,n=this.chart.xAxis.getScale(),r=this.chart.yAxis.getScale();if(e.selectAll("circle."+this.identifierClass).data(this.data?this.data:this.chart.data).enter().append("circle").attr("class",this.classNames.join(" ")).attr("cx",function(e){return n(e[t.xKey])}).attr("cy",function(e){return r(e[t.yKey])}).attr("r",this.radius+"px"),this.tooltip){var i=this.chart.getOverlay(),o=this.chart.getTooltip(),a=this.chart,s=this.xKey,c=this.yKey;i.on("mouseover.tooltip",function(){o.style("display","block"),o.transition().duration(300).style("opacity",1).on("end",function(){Object(l.f)(this).style("display","block")})}),i.on("mouseout.tooltip",function(){o.transition().duration(300).style("opacity",0).on("end",function(){Object(l.f)(this).style("display","none")})}),i.on("mousemove.tooltip",function(){var e=t.getDataPointFromMouse();o.html(t.tooltip.call(null,e)),o.style("left",Math.round(n(e[s])+a.margin.left-o.node().offsetWidth/2)+"px"),o.style("top",Math.round(r(e[c])+a.margin.top-o.node().offsetHeight)+"px")})}},t.prototype.getDataPointFromMouse=function(){var e=this.chart.xAxis.getScale(),t=this.chart.xAxis.getDomain(),n=Object(u.c)(t).left,r=this.chart.getOverlay(),i=e.invert(Object(l.d)(r.node())[0]),o=n(this.chart.data,i,1),a=this.chart.data[o-1],s=this.chart.data[o];return s&&i-a[this.xKey]>s[this.xKey]-i?s:a},t}(h)),m=function(e){function t(){c()(this,t);var n=i()(this,e.call(this));return n.tooltip=null,n.addClassName("bar"),n}return a()(t,e),t.prototype.setTooltip=function(e){this.tooltip=e},t.prototype.render=function(e){var t=this,n=this.chart.xAxis.getScale(),r=this.chart.yAxis.getScale(),i=e.selectAll("bar").data(this.data?this.data:this.chart.data).enter().append("rect").attr("class",this.classNames.join(" ")).attr("x",function(e){return n(e[t.xKey])}).attr("width",n.bandwidth()).attr("y",function(e){return r(e[t.yKey])}).attr("height",function(e){return t.chart.height-r(e[t.yKey])});this.renderTooltip(e,i)},t.prototype.renderTooltip=function(e,t){var n=this;if(this.tooltip){var r=this.chart.xAxis.getScale(),i=this.chart.yAxis.getScale(),o=this.chart.getTooltip();t.on("mouseover.tooltip",function(e){o.html(n.tooltip.call(null,e)),o.style("left",Math.round(r(e[n.xKey])+n.chart.margin.left-o.node().offsetWidth/2+r.bandwidth()/2)+"px"),o.style("top",Math.round(i(e[n.yKey])+n.chart.margin.top-o.node().offsetHeight)+"px"),o.transition().duration(300).style("opacity",1)}),t.on("mouseout.tooltip",function(){o.transition().duration(300).style("opacity",0)})}},t}(h),g=function(e){function t(){return c()(this,t),i()(this,e.apply(this,arguments))}return a()(t,e),t.prototype.render=function(e){var t=this,n=this.data?this.data:this.chart.data,r=this.chart.xAxis.getScale(),i=this.chart.yAxis.getScale(),o=e.selectAll(".bar").data(n).enter().append("g").attr("class","bar").attr("transform",function(e){return"translate("+r(e[t.xKey])+",0)"});if(o.selectAll("rect").data(function(e){return e.stacks}).enter().append("rect").attr("width",r.bandwidth()).attr("y",function(e){return i(e.y1)}).attr("height",function(e){return i(e.y0)-i(e.y1)}).attr("class",function(e){return e.name}),this.tooltip){var a=this.chart.getTooltip();o.on("mouseover.tooltip",function(e){a.html(t.tooltip.call(null,e)),a.style("left",Math.round(r(e[t.xKey])+t.chart.margin.left-a.node().offsetWidth/2+r.bandwidth()/2)+"px"),a.style("top",Math.round(i(e[t.yKey])+t.chart.margin.top-a.node().offsetHeight)+"px"),a.transition().duration(300).style("opacity",1)}),o.on("mouseout.tooltip",function(){a.transition().duration(300).style("opacity",0)})}this.onClick&&o.on("click",function(e,n){t.setSelected(e,n),t.onClick(e,n)}),this.bar=o},t.prototype.setSelected=function(e,t){this.bar.classed("selected",!1),this.bar.filter(function(e,n){return n===t}).classed("selected",!0)},t}(m),v=function(e){function t(){c()(this,t);var n=i()(this,e.call(this));return n.tooltip=null,n.addClassName("bar"),n.barKeys=null,n}return a()(t,e),t.prototype.setTooltip=function(e){this.tooltip=e},t.prototype.setBarKeys=function(e){this.barKeys=e},t.prototype.render=function(e){var t=this,n=this.chart.xAxis.getScale(),r=this.chart.yAxis.getScale();this.x1=Object(p.a)(),this.x1.domain(this.barKeys).rangeRound([0,n.bandwidth()]);var i=e.selectAll(".bar-groups").data(this.data?this.data:this.chart.data).enter().append("g").attr("class","bar-groups").attr("transform",function(e){return"translate("+n(e[t.xKey])+",0)"});i.selectAll("rect").data(function(e){return e.values}).enter().append("rect").attr("width",this.x1.bandwidth()).attr("x",function(e){return t.x1(e.name)}).attr("y",function(e){return r(e.value)}).attr("height",function(e){return t.chart.height-r(e.value)}).attr("class",function(e){return"bar-"+e.name}),this.renderTooltip(e,i)},t.prototype.renderTooltip=function(e,t){var n=this;if(this.tooltip){var r=this.chart.xAxis.getScale(),i=this.chart.yAxis.getScale(),o=this.chart.getTooltip();t.on("mouseover.tooltip",function(e){var t=Object(u.e)(e[n.yKey],function(e){return e.value});o.html(n.tooltip.call(null,e)),o.style("left",Math.round(r(e[n.xKey])+n.chart.margin.left-o.node().offsetWidth/2+r.bandwidth()/2)+"px"),o.style("top",Math.round(i(t)+n.chart.margin.top-o.node().offsetHeight)+"px"),o.transition().duration(300).style("opacity",1)}),t.on("mouseout.tooltip",function(){o.transition().duration(300).style("opacity",0)})}},t}(m),y=function(e){function t(){c()(this,t);var n=i()(this,e.call(this));return n.addClassName("line"),n}return a()(t,e),t.prototype.render=function(e){var t=this,n=this.chart.xAxis.getScale(),r=this.chart.yAxis.getScale(),i=Object(d.f)().x(function(e){return n(e[t.xKey])}).y(function(e){return r(e[t.yKey])});e.append("path").attr("class",this.classNames.join(" ")).attr("d",i(this.data?this.data:this.chart.data))},t}(h),b=function(e){function t(){c()(this,t);var n=i()(this,e.call(this));return n.addClassName("area"),n}return a()(t,e),t.prototype.render=function(e){var t=this,n=this.chart.xAxis.getScale(),r=this.chart.yAxis.getScale(),i=Object(d.b)().x(function(e){return n(e[t.xKey])}).y0(this.chart.height).y1(function(e){return r(e[t.yKey])});e.append("path").datum(this.data?this.data:this.chart.data).attr("class",this.classNames.join(" ")).attr("d",i)},t}(h),E=function(e){function t(){c()(this,t);var n=i()(this,e.call(this));return n.addClassName("rect"),n.addClassName("background"),n}return a()(t,e),t.prototype.render=function(e){e.append("rect").attr("class",this.classNames.join(" ")).attr("width",this.chart.width).attr("height",this.chart.height+this.chart.margin.top).attr("y",-this.chart.margin.top)},t}(h)},414:function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(0)),o=n.n(i),a=(n(217),n(2));t.a=function(e){var t=e.name,n=e.input,r=n.value,i=n.onChange,s=n.onFocus,c=n.onBlur,l=e.meta,u=l.touched,p=l.error,d=l.invalid;return o.a.createElement("div",null,o.a.createElement(a.Label,{htmlFor:t,status:u&&d&&p?"invalid":null,errorMessage:p||null},"Question"),o.a.createElement(a.Input,{id:t,name:t,value:r,maxLength:150,onFocus:s,onBlur:c,onChange:i,status:u&&d&&p?"invalid":null}))}},441:function(e,t,n){"use strict";function r(e){switch(e){case i:return"Article";case o:return"Book";case a:return"Chapter";case _:return"Code";case s:return"Conference Paper";case w:return"Cover Page";case u:return"Data";case y:return"Experiment Findings";case m:return"Method";case g:return"Negative Results";case l:return"Patent";case E:return"Poster";case b:return"Presentation";case v:return"Raw Data";case h:return"Research Proposal";case p:return"Technical Report";case c:return"Thesis";case f:return"Working Paper";case d:return"Research"}return e}t.a=r,t.b=function(e){return r(e).toLowerCase()};var i="article",o="book",a="inCollection",s="inProceedings",c="thesis",l="patent",u="dataset",p="technicalReport",d="artifact",h="researchProposal",f="workingPaper",m="method",g="negativeResults",v="rawData",y="experimentFindings",b="presentation",E="poster",w="coverPage",_="code"},443:function(e,t,n){"use strict";function r(e,t){return Object(Re.default)("/api/activities/entities",{method:"GET",query:{entityRgKeys:e,_iepl:t}}).then(Ie()("result"))}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),c=n(5),l=n.n(c),u=n(1),p=n.n(u),d=n(0),h=n.n(d),f=n(6),m=n(7),g=n.n(m),v=n(65),y=n(2),b=n(16),E=n.n(b),w=n(43),_=n.n(w),S=n(619),I=n(712),C=n(82),O=n(100),x=n(133),k=n(17),j=n(8),T=n.n(j),A=n(116),P=n.n(A),M=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.state={isBodyExpanded:!1},r.handleExpand=function(){r.setState({isBodyExpanded:!0})},i=n,s()(r,i)}return l()(t,e),t.prototype.getItem=function(){var e=this.props,t=e.body,n=e.collapsible,r=e.struct,i=e.truncationLength,o=this.state.isBodyExpanded?0:i;return r&&(r.content||r.data)?h.a.createElement(I.a,{struct:r,truncationLength:o,collapsible:n,onExpand:this.handleExpand}):h.a.createElement(S.a,{body:t,truncationLength:o,collapsible:n,onExpand:this.handleExpand})},t.prototype.render=function(){return this.state.isBodyExpanded&&this.props.context&&this.props.isAttentionTrackingEnabled?h.a.createElement(C.a,{onChange:Object(O.a)(this.props.onAttentionChange)},h.a.createElement("div",null,this.getItem())):this.getItem()},t}(d.Component),D=T()(P()(),Object(x.a)(function(e){var t=e.body,n=e.context,r=e.messageId;return{componentIdentifier:"MessageItemBody",context:n,rgKey:new k.a(r,k.b.TYPE_MESSAGE).toString(),bodyLength:t.length}}))(M),R=n(19),N=n.n(R),L=n(180),F=n(18),U=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.state={maxVisibleFiles:3},r.onShowAllFilesClick=function(){r.setState({maxVisibleFiles:r.props.files.length})},i=n,s()(r,i)}return l()(t,e),t.prototype.getFileTruncation=function(){var e=this.props.files,t=this.state.maxVisibleFiles;if(e.length<=t)return null;var n=e.length-t;return h.a.createElement(y.MessageItem.FileTruncation,{onClick:this.onShowAllFilesClick},n+" more "+N()("attachment",n))},t.prototype.render=function(){var e=this.props.files;if(0===e.length)return null;var t=e.slice(0,this.state.maxVisibleFiles);return h.a.createElement(y.MessageItem.Files,null,t.map(function(e,t){return h.a.createElement(y.MessageItem.File,{key:t,href:e.downloadUrl,filename:e.filename,filesize:Object(L.a)(e.filesize)})}),this.getFileTruncation())},t}(d.Component),B=Object(F.a)(y.MessageItem.Files)(U),q=n(440),V=n(222),W=n(225),z=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.handleImageLightBoxClose=function(){r.props.setLightBox(null)},r.handleImageLightBoxOpen=function(e){var t=r.props.ieplViewLightbox;t&&Object(W.a)(t);var n=[{buttonProps:{href:e.downloadUrl,key:"download"},iconProps:{identifier:"download"},label:"Download",className:"lightbox-download-button"}],i=t&&t.contexts.includes("homeFeed");r.props.setLightBox(h.a.createElement(V.a,{buttons:n,onClose:r.handleImageLightBoxClose,imageLinks:r.props.imageLinks,initialImageUrl:e,context:i?"projectImageLightbox-feed":"projectImageLightbox"}))},i=n,s()(r,i)}return l()(t,e),t.prototype.render=function(){var e=this,t=this.props.imageLinks;return 0===t.length?null:h.a.createElement(q.a,{mount:"div"},function(n){return h.a.createElement(y.MessageItem.Images,{loadImages:n},t.map(function(t,n){return h.a.createElement(y.MessageItem.Image,{key:n,onClick:function(){return e.handleImageLightBoxOpen(t.urls)},src:t.urls.largeUrl})}))})},t}(d.Component),H=Object(F.a)(y.MessageItem.Images)(z),Y=n(51),K=function(e){var t=e.type,n=e.name;return h.a.createElement("div",null,h.a.createElement(y.Badge,{size:"l",color:"red",luminosity:"medium"},"Not implemented ",t,": ",n))},G=function(e){var t=e.item,n=t.componentName,r=E()(t,["componentName"]),i={elevation:"none",spacing:"m"};switch(n){case"PublicationItem":return h.a.createElement(y.Card,i,h.a.createElement(Y.a,r));case"NotImplementedItem":default:return h.a.createElement(y.Card,i,h.a.createElement(K,r))}},Q=n(87),$=n(24),X=n(171),J=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.state={lightBox:null},r.setLightBox=function(e){r.setState({lightBox:e})},i=n,s()(r,i)}return l()(t,e),t.prototype.getRecommendAction=function(){var e=this.props,t=e.context,n=e.ieplLike,r=e.isQuestionOrAnswer,i=e.isOwnerViewing,o=e.messageId;if(i)return null;if(r){var a=new k.a(o,k.b.TYPE_POST).getFullKey();return h.a.createElement(X.a,{id:a,context:"profileContributionsAuthoredQuestions",theme:"bare",hasIcon:!1})}var s=new k.a(o,k.b.TYPE_MESSAGE).getFullKey();return h.a.createElement(Q.a,{key:"like_"+s,id:s,context:t,theme:"bare",className:"action-item",iepl:n})},t.prototype.getMessageItemBody=function(e){var t=this.props.detailUrl;return"projectUpdatesLog"===this.props.context?h.a.createElement("div",null,e):h.a.createElement("div",{onClick:function(){Object($.b)(t)},className:"message-item-body__clickable"},e)},t.prototype.render=function(){var e=this.props,t=e.actionComponent,n=e.context,r=e.detailLinkText,i=e.detailUrl,o=e.metricRepliesUrl,a=e.entityList,s=e.files,c=e.imageLinks,l=e.isAttentionTrackingEnabled,u=e.messageId,p=e.metricComponent,d=e.metricRepliesCount,f=e.quotedMessageBody,m=e.ieplViewLightbox,g=e.body,v=e.struct,b=e.truncationLength,E=e.collapsible,w=e.title,S=e.contributors,I=e.className,C=d>0;return h.a.createElement("div",{className:I},h.a.createElement(y.MessageItem,null,f&&h.a.createElement(y.MessageItem.ReplyTo,null,f.length>b?f.substring(0,b)+"…":f),c&&h.a.createElement(H,{imageLinks:c,setLightBox:this.setLightBox,ieplViewLightbox:m}),w&&h.a.createElement(y.MessageItem.Title,{clamp:"3",size:"m",href:i},w),S&&S.length>0&&h.a.createElement(y.MessageItem.Contributors,null,S.map(function(e,t){return h.a.createElement(y.MessageItem.Contributor,{imageUrl:e.imageUrl,key:t,href:e.link},e.name)})),h.a.createElement(y.MessageItem.Body,null,this.getMessageItemBody(h.a.createElement(D,{body:g,context:n,struct:v,truncationLength:b,collapsible:E,messageId:u,isAttentionTrackingEnabled:l}))),s&&h.a.createElement(B,{files:s}),t,i&&h.a.createElement(y.MessageItem.Actions,null,h.a.createElement(y.MessageItem.Action,{priority:"tertiary",href:i},r),this.getRecommendAction()),p,C&&h.a.createElement(y.MessageItem.Metrics,null,d>0&&h.a.createElement(y.MessageItem.Metric,{href:o},_()(d).format("0,0")+" "+N()("Comment",d))),a&&a.length>0&&h.a.createElement(y.MessageItem.EntityList,null,h.a.createElement(y.MessageItem.EntityListItems,null,a.map(function(e,t){return h.a.createElement(y.MessageItem.EntityListItem,{key:t},h.a.createElement(G,{item:e}))})))),this.state.lightBox)},t}(d.Component);J.defaultProps={collapsible:!0,detailLinkText:"Read more",truncationLength:2500,isAttentionTrackingEnabled:!1};var Z=J,ee=n(248),te=n(119),ne=n(44),re=n(20),ie=n(21),oe=n(75),ae=n(204),se=function(e){function t(){return o()(this,t),s()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.getCommentAction=function(){return this.props.currentAccountId<1?null:h.a.createElement(y.MessageItem.Action,{priority:"tertiary",onClick:this.props.showCommentSectionAndFocus},"Comment")},t.prototype.getRecommendAction=function(){var e=this.props,t=e.context,n=e.currentAccountId,r=e.ieplByType,i=e.isOwnerViewing,o=e.messageId;if(i||n<1)return null;var a=new k.a(o,k.b.TYPE_MESSAGE).getFullKey(),s=r&&r.like?r.like:null;return h.a.createElement(Q.a,{key:"like_"+a,id:a,context:t,theme:"bare",className:"action-item",iepl:s,qualifier:"update"})},t.prototype.render=function(){return h.a.createElement(y.MessageItem.Actions,null,this.getCommentAction(),this.getRecommendAction())},t}(d.Component);se.defaultProps={context:"projectLog",isCommentSectionOpened:!1};var ce=Object(F.a)(y.MessageItem.Actions)(se),le=n(444),ue=n(445),pe=n(63),de=n(282),he=50,fe=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.showMoreReplies=function(){var e=r.props,t=e.dispatch,n=e.messageId,i=e.replyIds;t(Object(de.b)(n,{limit:he,offset:i.length}))},r.focusCommentBox=function(){r.replyComposer&&(Object(v.a)(Object(ne.findDOMNode)(r.replyComposer),{offset:-300}),r.replyComposer.getWrappedInstance().focus())},i=n,s()(r,i)}return l()(t,e),t.prototype.getReplies=function(){var e=this,t=this.props,n=t.ieplByType,r=t.replyIds,i=t.replyCount,o=n&&n.replyLike?n.replyLike:null,a=i-r.length;return h.a.createElement("div",null,a>0&&h.a.createElement("div",{className:"show-more-replies"},h.a.createElement(y.Button,{theme:"bare",color:"grey",onClick:this.showMoreReplies},"Show ",a," previous ",N()("comment",a))),r.map(function(t){return h.a.createElement(ue.a,{key:t,messageId:t,showLikes:!0,showLikesDialog:!0,showActions:!0,context:e.props.context,messageTypeDescription:"comment",ieplLike:o})}))},t.prototype.getReplyComposer=function(){var e=this,t=this.props,n=t.context,r=t.currentAccountId,i=t.ieplByType,o=t.messageId,a=t.projectId;if(r>0){var s=i&&i.reply?i.reply:null;return h.a.createElement(le.a,{ref:function(t){e.replyComposer=t},accountId:r,messageId:o,projectId:a,context:n,iepl:s})}return null},t.prototype.render=function(){return!1===this.props.isCommentSectionOpened?null:h.a.createElement("div",{className:"message-item-replies-body message-item-replies-body__inline"},this.getReplies(),this.getReplyComposer())},t}(d.Component);fe.PropTypes={context:p.a.string,currentAccountId:p.a.number,ieplByType:p.a.shape({reply:p.a.object,replyLike:p.a.object}),isCommentSectionOpened:p.a.bool,messageId:p.a.string.isRequired,projectId:p.a.string.isRequired,replyIds:p.a.arrayOf(p.a.string),replyCount:p.a.number};var me=Object(ie.createSelector)([Object(pe.h)(pe.e),Object(pe.j)(pe.e)],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{replyIds:e.reverse().toJS(),replyCount:t}}),ge=Object(f.connectWidget)(me,null,null,{withRef:!0})(fe),ve=n(446),ye=n(91),be=n(37),Ee=n(101),we=n(25),_e=n(279),Se=n(69),Ie=n.n(Se),Ce=n(148),Oe=n(201),xe=n(147),ke=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.onClick=function(){r.props.showLikesDialog&&(r.props.ieplShowLikers&&Object(W.a)(r.props.ieplShowLikers),r.props.openModal(r.props.id,r.props.label))},i=n,s()(r,i)}return l()(t,e),t.prototype.componentDidMount=function(){var e="only screen and (max-width: "+(parseInt(y.Breakpoint.getBreakpoint("m"),10)-1)+"px)";this.isMobileDevice=window.matchMedia(e).matches},t.prototype.renderTarget=function(){var e=this.props,t=e.label,n=e.total;return h.a.createElement(y.MessageItem.Metric,{onClick:this.onClick},_()(n).format("0,0")+" "+N()(t,n))},t.prototype.render=function(){return this.props.total<1?null:this.isMobileDevice?this.renderTarget():h.a.createElement(y.Tooltip,{color:"black",target:this.renderTarget(),isResponsive:!1},h.a.createElement(Oe.a,this.props))},t}(d.Component);ke.defaultProps={showLikesDialog:!1,label:"Recommendation"};var je=T()(Object(re.connect)(null,function(e){return{openModal:function(t,n){return e(Object(we.mountModal)(function(){return h.a.createElement(xe.a,null,h.a.createElement(Ce.a,{id:t,label:n}))}))}}}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getId,n=void 0===t?Ie()("id"):t,r=e.getContext,i=void 0===r?Ie()("context"):r;return Object(re.connect)(function(e,t){var r=Object(ye.e)(e,t.id);return{hasLiked:Object(ye.d)(e,n(t)),total:Object(ye.c)(e,t.id).total,likers:r(e,t.id)}},function(e,t){var r=n(t),o=i(t);return{like:function(){e(Object(_e.c)(r,o))},unlike:function(){e(Object(_e.d)(r,o))}}})}(),Object(F.a)(y.MessageItem.Metric))(ke),Te=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.onTotalReadsClick=function(){r.props.mountRecentReadersModal()},i=n,s()(r,i)}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.currentAccountId,n=e.ieplByType,r=e.messageRgKey,i=e.metricRepliesCount,o=e.metricTotalReadsCount,a=e.metricLikesCount,s=e.showCommentSection,c=e.isCollaborator,l=n&&n.likeShowAll?n.likeShowAll:null;if(0===i&&0===a&&0===o)return null;var u=Object.assign({},c&&{onClick:this.onTotalReadsClick});return h.a.createElement(y.MessageItem.Metrics,null,i>0&&h.a.createElement(y.MessageItem.Metric,{onClick:s},_()(i).format("0,0")+" "+N()("Comment",i)),a>0&&h.a.createElement(je,{id:r,showLikesDialog:t>0,ieplShowLikers:l}),o>0&&h.a.createElement(y.MessageItem.Metric,u,_()(o).format("0,0")+" "+N()("Read",o)))},t}(d.Component),Ae=Object(ie.createSelector)([Object(pe.f)(pe.e),Object(pe.j)(pe.e),ve.a,Object(ye.b)(Object(pe.f)(pe.e)),be.g,function(e,t){return t.currentAccountId}],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments[3],i=arguments[4],o=arguments[5];return{messageRgKey:e,metricRepliesCount:t,metricTotalReadsCount:n,metricLikesCount:r.total,isCollaborator:Object(Ee.n)(o,i)}}),Pe=T()(Object(re.connect)(Ae,function(e,t){var r=t.messageId;return{mountRecentReadersModal:function(){return e(Object(we.mountAsyncModal)("projects.ProjectUpdateRecentReaders.html",{messageId:r},function(e){return h.a.createElement(y.Modal,null,e)},function(e){return n.e(8).then(function(){var t=[n(3232)];e.apply(null,t)}.bind(this)).catch(n.oe)}))}}}),Object(F.a)(y.MessageItem.Metrics))(Te),Me=n(50),De=n.n(Me),Re=n(10),Ne=function(e){function t(n){o()(this,t);var r=s()(this,e.call(this,n));return r.state={isCommentSectionOpened:n.isCommentSectionOpened&&(n.currentAccountId>0||n.metricRepliesCount>0),lightBox:null,trackReads:!0},r.scrollHandler=De()(r.trackRead.bind(r),500),r.setLightBox=r.setLightBox.bind(r),r.showCommentSection=r.showCommentSection.bind(r),r.showCommentSectionAndFocus=r.showCommentSectionAndFocus.bind(r),r}return l()(t,e),t.prototype.componentDidMount=function(){this.trackRead(),this.eventListener=Object(te.addEventListener)(window,"scroll",this.scrollHandler)},t.prototype.componentWillUnmount=function(){Object(te.removeEventListener)(this.eventListener)},t.prototype.trackRead=function(){if(!0===this.state.trackReads){var e=Object(ne.findDOMNode)(this.messageBodyRef);if(e){var t=e.getBoundingClientRect();t.top>=0&&t.top<=window.innerHeight&&Object(Re.default)("projects.ProjectUpdates.trackReads.html",{method:"POST",body:{projectId:this.props.projectId,ids:[this.props.messageId]}}).then(this.setState({trackReads:!1}))}}},t.prototype.setLightBox=function(e){this.setState({lightBox:e})},t.prototype.showCommentSection=function(){this.setState({isCommentSectionOpened:!0})},t.prototype.showCommentSectionAndFocus=function(){var e=this;this.setState({isCommentSectionOpened:!0},function(){e.refs&&e.refs.inlineComments&&e.refs.inlineComments.getWrappedInstance().focusCommentBox()})},t.prototype.getActionComponent=function(){var e=this.props,t=e.context,n=e.currentAccountId,r=e.ieplByType,i=e.isOwnerViewing,o=e.messageId;return h.a.createElement(ce,{context:t,currentAccountId:n,ieplByType:r,isOwnerViewing:i,messageId:o,showCommentSectionAndFocus:this.showCommentSectionAndFocus})},t.prototype.getMetricComponent=function(){var e=this.props,t=e.currentAccountId,n=e.ieplByType,r=e.projectId,i=e.messageId;return h.a.createElement(Pe,{currentAccountId:t,ieplByType:n,projectId:r,messageId:i,showCommentSection:this.showCommentSection})},t.prototype.render=function(){var e=this,t=this.props,n=t.currentAccountId,r=t.messageId,i=t.projectId,o=t.ieplByType,a=t.context,s=t.onAttentionChange,c=E()(t,["currentAccountId","messageId","projectId","ieplByType","context","onAttentionChange"]),l=this.state,u=l.isCommentSectionOpened,p=l.lightBox;return h.a.createElement("div",{ref:function(t){e.messageBodyRef=t}},h.a.createElement(C.a,{rootMargin:"-15% 0%",onChange:Object(O.a)(s)},h.a.createElement(Z,Object.assign({messageId:r,context:a,actionComponent:this.getActionComponent(),metricComponent:this.getMetricComponent()},c))),p,h.a.createElement(ge,{ref:"inlineComments",context:a,currentAccountId:n,ieplByType:o,isCommentSectionOpened:u,messageId:r,projectId:i}))},t}(d.Component);Ne.defaultProps={isCommentSectionOpened:!1};var Le=Object(ie.createSelector)([Object(pe.c)(pe.e),Object(pe.j)(pe.e)],function(e){return{componentIdentifier:"ProjectMessageItem",message:e,metricRepliesCount:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}}),Fe=T()(Object(re.connect)(Le),Object(oe.a)(["message"]),ae.a)(Ne),Ue=n(378),Be=n(26),qe=function(e){function t(){return o()(this,t),s()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props.answersContainerWidgetId;return h.a.createElement("div",null,h.a.createElement(y.Card,{spacing:"m",elevation:"none",className:"activity-item-entity-list-item"},h.a.createElement(Ue.a,this.props)),e&&h.a.createElement(Be.a,{widgetId:e}))},t}(d.Component),Ve=n(243),We=n(31),ze=new g.a("success-story-item"),He=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.state={hasLiked:r.props.hasLiked},r.toggleLike=function(e){e.stopPropagation();var t=r.props.likeUrl,n=r.state.hasLiked;Object(Re.default)(t,{method:n?"DELETE":"POST"}).then(function(){r.setState({hasLiked:!n})}).catch(function(e){Object(We.d)(e.errors)})},r.gotoDetailPage=function(){Object($.b)(r.props.detailUrl)},i=n,s()(r,i)}return l()(t,e),t.prototype.renderHeadline=function(){var e=this.props,t=e.textFullName,n=e.textDomain,r=e.textValue,i=e.textVerb,o=e.textVerbPassive,a=e.textPublicationType,s=e.textPublicationVerb,c=e.textRelation,l=e.type;if(a)switch(l){case"milestone":return h.a.createElement("span",null,"Your ",c,"'s ",a," reached ",h.a.createElement("span",ze("value"),r," ",i));case"most_monthly":return h.a.createElement("span",null,"With ",h.a.createElement("span",ze("value"),r," new ",i),", your ",c,"'s ",a," ",s," the ",h.a.createElement("span",ze("value"),"most ",o)," ",a," ",n," last month");case"most_weekly":return h.a.createElement("span",null,"With ",h.a.createElement("span",ze("value"),r," new ",i),", your ",c,"'s ",a," ",s," the ",h.a.createElement("span",ze("value"),"most ",o)," ",a," ",n," last week")}if(t)switch(l){case"milestone":return h.a.createElement("span",null,"Your ",c,"'s publications reached ",h.a.createElement("span",ze("value"),r," ",i));case"most_monthly":return h.a.createElement("span",null,"With ",h.a.createElement("span",ze("value"),r," new ",i),", ",t," was the ",h.a.createElement("span",ze("value"),"most ",o)," researcher ",n," last month");case"most_weekly":return h.a.createElement("span",null,"With ",h.a.createElement("span",ze("value"),r," new ",i),", ",t," was the ",h.a.createElement("span",ze("value"),"most ",o)," researcher ",n," last week")}},t.prototype.render=function(){var e=this.props.detailUrl,t=this.state.hasLiked;return h.a.createElement("div",Object.assign({},ze(),{onClick:this.gotoDetailPage}),h.a.createElement("a",Object.assign({href:e},ze("headline")),this.renderHeadline()),h.a.createElement(y.Button,{color:"white",theme:"ghost",onClick:this.toggleLike,size:"s"},t&&h.a.createElement(y.Button.Icon,{identifier:"check"}),h.a.createElement(y.Button.Label,null,"Like")))},t}(d.Component),Ye=n(238),Ke=n(78),Ge=n(172),Qe=function(e){function t(){return o()(this,t),s()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.ieplViewProfile,n=e.messageAccountId;return h.a.createElement(y.MediaObject,{verticalAlign:"top"},h.a.createElement(y.MediaObject.Item,{width:"auto"},h.a.createElement(Ke.a,{size:"m",accountId:n,iepl:t})),h.a.createElement(y.MediaObject.Item,{width:"full"},h.a.createElement(Ye.a,{accountId:n,color:"blue",theme:"bare",iepl:t}),h.a.createElement(Ge.a,{accountId:n,unknownInstitutionPlaceholder:""}),h.a.createElement(Z,this.props)))},t}(d.Component),$e=function(e){var t=e.item,n=e.ieplByType,r=e.isCommentSectionOpened,i=e.context,o=e.storySubjectAccountId,a=e.storySubjectSecondaryAccountId,s=t.componentName,c=E()(t,["componentName"]),l={className:"activity-item-entity-list-item",elevation:"none",spacing:"m"},u={context:i,isAttentionTrackingEnabled:!0,truncationLength:200,ieplByType:n},p=null;switch(s){case"MessageItem":p=h.a.createElement(Z,Object.assign({},c,u));break;case"MessageItemFramed":p=(t.messageAccountId!==o||a)&&t.messageAccountId?h.a.createElement(y.Card,l,h.a.createElement("div",{className:"message-item-author-header"},h.a.createElement(y.Pack,{verticalAlign:"middle"},h.a.createElement(y.Pack.Item,null,h.a.createElement(y.Link,{href:c.messageAccountLink,theme:"bare"},h.a.createElement("img",{src:c.messageAccountImageURL,alt:"Author Image",className:"message-item-author-header--avatar"}))),h.a.createElement(y.Pack.Item,null,h.a.createElement(y.Stack,{gutter:"none"},h.a.createElement(y.Stack.Item,null,h.a.createElement(y.Link,{href:c.messageAccountLink,theme:"bare",color:"blue"},c.messageAccountName)),h.a.createElement(y.Stack.Item,null,c.messageAccountInstitution))))),h.a.createElement(Z,Object.assign({},c,u))):h.a.createElement(y.Card,l,h.a.createElement(Z,Object.assign({},c,u)));break;case"MessageItemComment":p=h.a.createElement(y.Card,{className:"activity-item-entity-list-item--grey-background",elevation:"none",spacing:"m"},h.a.createElement(Qe,Object.assign({},c,u)));break;case"PersonItem":p=h.a.createElement(y.Card,l,h.a.createElement(Ve.a,c));break;case"PublicationItem":p=h.a.createElement(y.Card,l,h.a.createElement(Y.a,c));break;case"ProjectItem":p=h.a.createElement(y.Card,l,h.a.createElement(ee.a,c));break;case"ProjectMessageItem":p=h.a.createElement(Fe,Object.assign({},c,{ieplByType:n,isCommentSectionOpened:r,context:i}));break;case"QuestionItem":p=h.a.createElement(qe,Object.assign({},c,{context:i}));break;case"SuccessStoryItem":p=h.a.createElement(He,c);break;case"NotImplementedItem":p=h.a.createElement(y.Card,l,h.a.createElement(K,c))}return h.a.createElement(y.ActivityItem.EntityListItem,null,p)},Xe=30,Je=new g.a("activity-item"),Ze=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.state={modalIsOpen:!1,modalStatus:"busy",modalEntityViewData:[],loadingOffset:0,isLoading:!1,isEventListenerMounted:!1},r.onDataLoaded=function(e){var t=!1===r.state.isEventListenerMounted;r.setState({isLoading:!1,loadingOffset:r.state.loadingOffset+Xe,modalStatus:"",modalEntityViewData:r.state.modalEntityViewData.concat(e),isEventListenerMounted:!0},function(){t&&r.addScrollEventListener()})},r.onModalRequestClose=function(){r.setState({isEventListenerMounted:!1,modalIsOpen:!1}),r.removeScrollEventListener()},r.onViewAllClick=function(e){e.preventDefault(),r.loadMore(),r.setState({modalIsOpen:!0})},i=n,s()(r,i)}return l()(t,e),t.prototype.addScrollEventListener=function(){this.debouncedOnScroll=De()(this.onScroll.bind(this),500),this.containerDomNode.addEventListener("scroll",this.debouncedOnScroll)},t.prototype.removeScrollEventListener=function(){this.containerDomNode.removeEventListener("scroll",this.debouncedOnScroll)},t.prototype.onScroll=function(){this.shouldLoadMore()&&this.loadMore()},t.prototype.shouldLoadMore=function(){return this.containerDomNode.scrollTop+this.containerDomNode.clientHeight>this.containerDomNode.scrollHeight/2},t.prototype.loadMore=function(){var e=this.props,t=e.entityRgKeys,n=e.iepl,i=this.state,o=i.isLoading,a=i.loadingOffset;if(!(o||a>t.length)){this.setState({isLoading:!0});r(t.slice(a,a+Xe),n).then(this.onDataLoaded).catch(function(){})}},t.prototype.render=function(){var e=this,t=this.props.itemsCount,n=this.state,r=n.modalStatus,i=n.modalIsOpen,o=n.modalEntityViewData;return h.a.createElement("div",Je("action-view-all"),h.a.createElement(y.ActivityItem.EntityListAction,{onClick:this.onViewAllClick},"View all "+t+" items"),h.a.createElement(y.Modal,{status:r,isOpen:i,onRequestClose:this.onModalRequestClose},h.a.createElement(y.Text,{size:"xl",spacing:"m"},t," items"),h.a.createElement("div",Object.assign({},Je("modal-content"),{ref:function(t){e.containerDomNode=t}}),h.a.createElement(y.Stack,{gutter:"xs"},o.map(function(e,t){return h.a.createElement(y.Stack.Item,Object.assign({key:t},Je("modal-item")),h.a.createElement($e,{item:e}))})))))},t}(d.Component),et=function(e){function t(){return o()(this,t),s()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.getActionComponent=function(e){var t=this.props.ieplByType&&this.props.ieplByType.viewAll?this.props.ieplByType.viewAll:null;switch(e.componentName){case"ActivityItemActionViewAll":return h.a.createElement(Ze,Object.assign({key:e.componentName},e,{iepl:t}));default:return null}},t.prototype.render=function(){var e=this,t=this.props.actions;return t&&0!==t.length?h.a.createElement(y.ActivityItem.EntityListActions,null,t.map(function(t){return e.getActionComponent(t)})):null},t}(d.Component),tt=n(302),nt=n(47),rt=n(316),it=n(12),ot=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.state={isModalOpen:!0,yesButtonStatus:""},r.onRequestClose=function(){r.setState({isModalOpen:!1})},r.onRemoveMessageClick=function(){r.setState({yesButtonStatus:"busy"}),Object(rt.a)(r.props.messageId,r.props.context).then(function(){var e=new tt.AlertObjectBuilder;e.setTitle("Update deleted"),e.setDescription(""),e.setIcon("check-circle"),Object(tt.storeDelayedAlert)(e.build(),r.props.currentAccountId),Object($.b)(r.props.targetUrl)}).catch(function(){r.setState({isModalOpen:!1,yesButtonStatus:""}),r.props.dispatch(Object(it.pushAlert)(function(){return h.a.createElement(y.Alert,{title:"Error removing message",description:"Please try again later",color:"red"})}))})},i=n,s()(r,i)}return l()(t,e),t.prototype.render=function(){var e=this.state.isModalOpen;return this.props.deletionDisabled?h.a.createElement(y.Modal,{isOpen:e,onRequestClose:this.onRequestClose},h.a.createElement(y.Modal.Body,{className:"remove-produced-publications-modal"},h.a.createElement(y.Text,{size:"xl",spacing:"m"},"Sorry, you can't delete this update because other researchers have added their comments to it."),h.a.createElement(y.ButtonGroup,{className:"remove-produced-publications-button"},h.a.createElement(y.Button,{onClick:this.onRequestClose},"Got it")))):h.a.createElement(y.Modal,{isOpen:e,onRequestClose:this.onRequestClose},h.a.createElement(y.Modal.Body,{className:"remove-produced-publications-modal"},h.a.createElement(y.Text,{size:"xl",spacing:"m"},"Are you sure you want to delete this update?"),h.a.createElement(y.ButtonGroup,{className:"remove-produced-publications-button"},h.a.createElement(y.Button,{color:"grey",theme:"bare",onClick:this.onRequestClose},"Cancel"),h.a.createElement(y.Button,{color:"red",status:this.state.yesButtonStatus,onClick:this.onRemoveMessageClick},"Yes"))))},t}(d.Component),at=Object(ie.createSelector)([nt.b],function(e){return{currentAccountId:e}}),st=Object(f.connectWidget)(at)(ot),ct=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.onDeleteClick=function(){var e=h.a.createElement(st,{messageId:r.props.messageId,targetUrl:r.props.targetUrl,deletionDisabled:r.props.deletionDisabled});r.props.dispatch(Object(we.mountModal)(function(){return e}))},i=n,s()(r,i)}return l()(t,e),t.prototype.render=function(){return h.a.createElement(y.ActivityItem.ContextAction,{onClick:this.onDeleteClick},"Delete")},t}(d.Component),lt=Object(f.connectWidget)()(ct),ut=n(157),pt=function(e){var t=e.targetUrl;return ut.a?null:h.a.createElement(y.ActivityItem.ContextAction,{href:t},"Edit")},dt=n(175),ht=n(59),ft=30,mt=new g.a("activity-item"),gt=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.state={isModalOpen:!0,modalStatus:"busy",modalEntityViewData:[],targetUrl:null,loadingOffset:0,isLoading:!1},r.onRequestClose=function(){r.state.targetUrl&&Object($.b)(r.state.targetUrl),r.setState({isModalOpen:!1}),r.removeScrollEventListener()},r.onDataLoaded=function(e){r.setState({isLoading:!1,loadingOffset:r.state.loadingOffset+ft,modalStatus:"",modalEntityViewData:r.state.modalEntityViewData.concat(e)})},r.onRemoveItem=function(e){var t=e.publicationUid,n=new k.a(t,k.b.TYPE_PUBLICATION).getFullKey();Object(dt.a)(r.props.projectId,[n],ht.b.PRODUCED).then(function(e){var n=r.state.modalEntityViewData.filter(function(e){return e.publicationUid!==t});r.setState({modalEntityViewData:n,targetUrl:e.projectUrl}),0===n.length&&Object($.b)(e.projectUrl),r.props.dispatch(Object(it.pushAlert)(function(){return h.a.createElement(y.Alert,{title:"Item removed",description:"This research item is no longer part of this project.",color:"green"},h.a.createElement(y.Icon,{identifier:"check-circle",size:"l"}))}))})},i=n,s()(r,i)}return l()(t,e),t.prototype.componentDidMount=function(){this.loadMore(),this.addScrollEventListener()},t.prototype.addScrollEventListener=function(){this.debouncedOnScroll=De()(this.onScroll.bind(this),500),this.containerDomNode.addEventListener("scroll",this.debouncedOnScroll)},t.prototype.removeScrollEventListener=function(){this.containerDomNode.removeEventListener("scroll",this.debouncedOnScroll)},t.prototype.onScroll=function(){this.shouldLoadMore()&&this.loadMore()},t.prototype.shouldLoadMore=function(){return this.containerDomNode.scrollTop+this.containerDomNode.clientHeight>3*this.containerDomNode.scrollHeight/4},t.prototype.loadMore=function(){var e=this.props,t=e.publicationFullRgKeys,n=e.iepl,i=this.state,o=i.isLoading,a=i.loadingOffset;if(!(o||a>t.length)){this.setState({isLoading:!0});r(t.slice(a,a+ft),n).then(this.onDataLoaded).catch(function(){})}},t.prototype.render=function(){var e=this,t=this.state,n=t.modalStatus,r=t.isModalOpen,i=t.modalEntityViewData;return h.a.createElement(y.Modal,{status:n,isOpen:r,onRequestClose:this.onRequestClose},h.a.createElement(y.Text,{size:"xl",spacing:"m"},"Which items would you like to remove from this project?"),h.a.createElement("div",Object.assign({},mt("modal-content"),{ref:function(t){e.containerDomNode=t}}),h.a.createElement(y.Stack,{gutter:"xs"},i.map(function(t,n){return t.actions=h.a.createElement(y.PublicationItem.Actions,null,h.a.createElement(y.PublicationItem.Action,{key:"remove",priority:"tertiary",onClick:function(){return e.onRemoveItem(t)}},"Remove")),h.a.createElement(y.Stack.Item,{key:n},h.a.createElement($e,{item:t}))}))))},t}(d.Component),vt=Object(f.connectWidget)()(gt),yt=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.onEditClick=function(){var e=h.a.createElement(vt,{publicationFullRgKeys:r.props.publicationFullRgKeys,projectId:r.props.projectId});r.props.dispatch(Object(we.mountModal)(function(){return e}))},i=n,s()(r,i)}return l()(t,e),t.prototype.render=function(){return h.a.createElement(y.ActivityItem.ContextAction,{onClick:this.onEditClick},"Edit list")},t}(d.Component),bt=Object(f.connectWidget)()(yt),Et=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.state={isModalOpen:!0},r.onRequestClose=function(){r.setState({isModalOpen:!1})},r.onRemoveLinks=function(){Object(dt.a)(r.props.projectId,r.props.publicationFullRgKeys,ht.b.PRODUCED).then(function(e){var t=r.props.publicationFullRgKeys.length,n=N()("Item",t)+" removed",i=r.getDescription(t),o=new tt.AlertObjectBuilder;o.setTitle(n),o.setDescription(i),o.setIcon("check-circle"),o.setColor("green"),Object(tt.storeDelayedAlert)(o.build(),r.props.currentAccountId),Object($.b)(e.projectUrl)})},i=n,s()(r,i)}return l()(t,e),t.prototype.getDescription=function(e){return e>1?e+" research items are no longer part of this project.":"This research item is no longer part of this project."},t.prototype.getHeadline=function(){var e=this.props.publicationFullRgKeys.length;return e>1?"Are you sure you want to remove "+e+" items from this project?":"Are you sure you want to remove this item from this project?"},t.prototype.render=function(){var e=this.state.isModalOpen;return h.a.createElement(y.Modal,{isOpen:e,onRequestClose:this.onRequestClose},h.a.createElement(y.Modal.Body,{className:"remove-produced-publications-modal"},h.a.createElement(y.Text,{size:"xl",spacing:"m"},this.getHeadline()),h.a.createElement(y.ButtonGroup,{className:"remove-produced-publications-button"},h.a.createElement(y.Button,{color:"grey",theme:"bare",onClick:this.onRequestClose},"Cancel"),h.a.createElement(y.Button,{color:"red",onClick:this.onRemoveLinks},"Yes"))))},t}(d.Component),wt=Object(ie.createSelector)([nt.b],function(e){return{currentAccountId:e}}),_t=Object(f.connectWidget)(wt)(Et),St=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.onModalRequestOpen=function(){var e=h.a.createElement(_t,{publicationFullRgKeys:r.props.publicationFullRgKeys,projectId:r.props.projectId});r.props.dispatch(Object(we.mountModal)(function(){return e}))},i=n,s()(r,i)}return l()(t,e),t.prototype.getCopy=function(){return 1===this.props.publicationFullRgKeys.length?"Remove":"Remove all"},t.prototype.render=function(){return h.a.createElement(y.ActivityItem.ContextAction,{onClick:this.onModalRequestOpen},this.getCopy())},t}(d.Component),It=Object(f.connectWidget)()(St),Ct=n(74),Ot=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.onHideUpdate=function(){Object(Re.default)("feed.FeedItemHideMenu.hideFeedItem.html",{method:"POST",body:{activityIds:r.props.activityId,iepl:r.props.interactionExperimentPayload}}).then(function(){r.props.dispatch(Object(it.pushAlert)(function(){return h.a.createElement(y.Alert,{title:"Update hidden",description:"We've removed this update from your feed.",color:"green"})})),r.props.triggerHideItem()}).catch(function(e){r.props.pushAlert(h.a.createElement(Ct.a,{title:"Error on hiding",description:e.message}))})},i=n,s()(r,i)}return l()(t,e),t.prototype.render=function(){return h.a.createElement(y.ActivityItem.ContextAction,{onClick:this.onHideUpdate},"Hide this update")},t}(d.Component),xt=Object(f.connectWidget)()(Ot),kt=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.onHideResearcher=function(){Object(Re.default)("feed.FeedItemHideMenu.hideFeedItem.html",{method:"POST",body:{activityIds:r.props.activityId,hiddenAccountId:r.props.accountId,iepl:r.props.interactionExperimentPayload}}).then(function(){r.props.dispatch(Object(it.pushAlert)(function(){return h.a.createElement(y.Alert,{title:"Researcher hidden",description:"You won't see any new updates from this researcher.",color:"green"})})),r.props.triggerHideItem()}).catch(function(e){r.props.pushAlert(h.a.createElement(Ct.a,{title:"Error on hiding",description:e.message}))})},i=n,s()(r,i)}return l()(t,e),t.prototype.render=function(){return h.a.createElement(y.ActivityItem.ContextAction,{onClick:this.onHideResearcher},"Hide this researcher")},t}(d.Component),jt=Object(f.connectWidget)()(kt),Tt=Object(F.a)(y.ActivityItem.ContextActions)(function(e){var t=e.contextActions,n=e.triggerHideItem;return t?h.a.createElement(y.ActivityItem.ContextActions,null,t.map(function(e){switch(e.componentName){case"ActivityItemActionDeleteMessage":return h.a.createElement(lt,Object.assign({key:e.componentName},e));case"ActivityItemActionEditMessage":return h.a.createElement(pt,Object.assign({key:e.componentName},e));case"ActivityItemActionEditProducedPublications":return h.a.createElement(bt,Object.assign({key:e.componentName},e));case"ActivityItemActionHideActivity":return h.a.createElement(xt,Object.assign({key:e.componentName,triggerHideItem:n},e));case"ActivityItemActionHideResearcher":return h.a.createElement(jt,Object.assign({key:e.componentName,triggerHideItem:n},e));case"ActivityItemActionRemoveProducedPublications":return h.a.createElement(It,Object.assign({key:e.componentName},e));default:return null}})):null}),At=n(494),Pt=n(325),Mt=new g.a("activity-item"),Dt=150,Rt=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.triggerHideItem=function(){r.node.style.opacity=1,r.interval=setInterval(r.hideAnimation,Dt)},r.hideAnimation=function(){r.node.style.opacity<=0?(r.node.style.display="none",clearInterval(r.interval)):r.node.style.opacity-=.1},i=n,s()(r,i)}return l()(t,e),t.prototype.componentDidMount=function(){this.props.isHighlighted&&Object(v.a)(this.node,{offset:-100})},t.prototype.render=function(){var e=this,t=this.props,n=t.contextActions,r=t.detailLink,i=t.entityList,o=t.entityListActions,a=t.entityTotalCount,s=t.ieplByType,c=t.isHighlighted,l=t.isNewIndicatorVisible,u=t.isObjectFollowed,p=t.positionInLog,d=t.renderContext,f=t.storyBodyIdentifier,m=t.storySubjectAdditionalCount,g=t.storySubjectImageUrl,v=t.storySubjectName,b=t.storySubjectProfileUrl,E=t.storySubjectSecondaryName,w=t.storySubjectSecondaryProfileUrl,_=t.storyTargetArticle,S=t.storyTargetName,I=t.storyTargetObject,C=t.storyTargetUrl,O=t.storySubjectSecondaryAccountId,x=t.storySubjectAccountId,k=t.timeAgo,j=0===p||!0===c;return h.a.createElement("div",Object.assign({},Mt(null,{highlighted:c}),{ref:function(t){e.node=t}}),h.a.createElement(y.Card,{spacing:"xl"},h.a.createElement(y.ActivityItem,null,n&&h.a.createElement(Tt,{contextActions:n,triggerHideItem:this.triggerHideItem}),h.a.createElement(At.a,{detailLink:r,timeAgo:k,isNewIndicatorVisible:l}),h.a.createElement(Pt.c,{entityTotalCount:a,renderContext:d,isObjectFollowed:u,storyBodyIdentifier:f,storySubjectAdditionalCount:m,storySubjectImageUrl:g,storySubjectName:v,storySubjectProfileUrl:b,storySubjectSecondaryName:E,storySubjectSecondaryProfileUrl:w,storyTargetArticle:_,storyTargetName:S,storyTargetObject:I,storyTargetUrl:C,ieplByType:s}),i&&h.a.createElement(y.ActivityItem.EntityList,null,h.a.createElement(y.ActivityItem.EntityListItems,null,i.map(function(e,t){return h.a.createElement($e,{key:t,item:e,ieplByType:s,isCommentSectionOpened:j,context:d,storySubjectAccountId:x,storySubjectSecondaryAccountId:O})})),h.a.createElement(et,{actions:o,ieplByType:s})))))},t}(d.Component);t.a=Object(f.connectWidget)()(Rt)},444:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(21),f=(n.n(h),n(349)),m=n(70),g=(n(264),n(205)),v=n(129),y=n(12),b=n(101),E=n(37),w=n(47),_=n(265),S=n(68),I=n.n(S),C=n(224),O=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleSubmit=function(){var e=r.props,t=e.projectId,n=e.isCollaborator,i=e.enableAutoFollowing,o=e.recommendAlert;if(i)r.props.dispatch(Object(v.m)(t,v.g));else{var a=[I()()];if(r.props.dispatch(Object(y.pushAlert)(function(){var e="We'll notify "+(n?"your":"the")+" collaborators and project followers";return p.a.createElement(m.a,{title:"Comment added",description:e})},a[0])),!o.shown){var s="Would you like to share "+(n?"your":"this")+" project with someone you know?",c=n?C.b:C.c;r.props.dispatch(Object(g.b)(t,s,c,a))}}},o=n,a()(r,o)}return c()(t,e),t.prototype.getEditor=function(){return this.editor?this.editor.getWrappedInstance():null},t.prototype.focus=function(){var e=this.getEditor();e&&e.focus()},t.prototype.render=function(){var e=this,t=this.props.parentIsDraft?"Add private feedback (visible to collaborators only)":"Add a comment (type @ to mention people)";return p.a.createElement(f.a,{ref:function(t){e.editor=t},messageId:this.props.messageId,accountId:this.props.accountId,placeholder:t,viewIds:this.props.viewIds,referenceResearchDialogUrl:this.props.referenceResearchDialogUrl,experimentGoals:this.props.experimentGoals,onSubmit:this.handleSubmit,context:this.props.context,iepl:this.props.iepl})},t}(u.Component);t.a=Object(d.connectWidget)(function(e,t){return Object(h.createSelector)([w.b,E.g,_.a],function(n,r,i){return{enableAutoFollowing:!Object(E.e)(e,t)&&Object(b.j)(n,r),isCollaborator:Object(b.n)(n,r),recommendAlert:i.toJS()}})},null,null,{withRef:!0})(O)},445:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(44),h=(n.n(d),n(384)),f=n.n(h),m=n(8),g=n.n(m),v=n(80),y=n.n(v),b=n(350),E=n(65),w=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.componentDidMount=function(){this.props.isFocusedPost&&Object(E.a)(Object(d.findDOMNode)(this.node),{offset:-100})},t.prototype.render=function(){var e=this;return p.a.createElement(b.a,Object.assign({id:this.props.messageId,ref:function(t){e.node=t}},this.props))},t}(u.Component),_=g()(y()(function(e){var t=!1,n=new f.a(window.location.href,!0);return t=e.messageId===n.query.replyToId,Object.assign({},e,{isFocusedPost:t})}));t.a=_(w)},446:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){var n=function(e,t){var n=t.messageId;return e.converseMessageStats.get("messages").get(n)}(e,{messageId:t.messageId});return n?n.get("totalReads"):0}},450:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(14),d=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.trackAuthorItemCLick=r.trackAuthorItemCLick.bind(r),r}return c()(t,e),t.prototype.render=function(){var e={},t={},n={};return this.props.useMicroData&&(e={itemProp:"author",itemScope:"itemScope",itemType:"http://schema.org/Person"},t={itemProp:"image"},n={itemProp:"name"}),this.props.url?u.a.createElement("span",Object.assign({className:"publication-author"},e),u.a.createElement("img",Object.assign({className:"img-circle",src:this.props.imageUrl,alt:this.props.fullname,title:this.props.fullname,height:"20px",width:"20px",style:{height:"20px"}},t)),u.a.createElement("a",{href:this.props.url,className:"publication-author-link ga-publication-author-link",onClick:this.trackAuthorItemCLick},u.a.createElement("span",n,this.props.fullname))):u.a.createElement("span",{className:"publication-author"},this.props.fullname)},t.prototype.trackAuthorItemCLick=function(){this.props.authorClickMilestone&&Object(p.a)(this.props.authorClickMilestone)},t}(u.a.Component);t.a=d},451:function(e,t,n){"use strict";t.a=function(){return i.a.createElement("div",{className:a()("loading-overlay","ajax-loading-circles-large"),style:s})};var r=n(0),i=n.n(r),o=n(15),a=n.n(o),s={position:"absolute",top:0,left:0,backgroundColor:n(2).Color.getColor("white"),opacity:.6,zIndex:1e3,width:"100%",height:"100%",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},456:function(e,t,n){var r=n(586),i=n(829);e.exports=function(e,t){return e&&r(e,i(t))}},462:function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),s(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return f(i)||(i=s(e,i,r)),i}var o=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(f(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(h(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(d(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),v=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),b(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(n);if(0===a.length){if(E(n)){var w=n.name?": "+n.name:"";return e.stylize("[Function"+w+"]","special")}if(g(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(y(n))return e.stylize(Date.prototype.toString.call(n),"date");if(b(n))return c(n)}var _="",I=!1,C=["{","}"];if(u(n)&&(I=!0,C=["[","]"]),E(n)){_=" [Function"+(n.name?": "+n.name:"")+"]"}if(g(n)&&(_=" "+RegExp.prototype.toString.call(n)),y(n)&&(_=" "+Date.prototype.toUTCString.call(n)),b(n)&&(_=" "+c(n)),0===a.length&&(!I||0==n.length))return C[0]+_+C[1];if(r<0)return g(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var O;return O=I?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)S(t,String(a))?o.push(l(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(l(e,t,n,r,i,!0))}),o}(e,n,r,v,a):a.map(function(t){return l(e,n,r,v,t,I)}),e.seen.pop(),function(e,t,n){var r=0;if(e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(O,_,C)}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,n,r,i,o){var a,c,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?c=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(c=e.stylize("[Setter]","special")),S(r,i)||(a="["+i+"]"),c||(e.seen.indexOf(l.value)<0?(c=d(n)?s(e,l.value,null):s(e,l.value,n-1)).indexOf("\n")>-1&&(c=o?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n")):c=e.stylize("[Circular]","special")),m(a)){if(o&&i.match(/^\d+$/))return c;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+c}function u(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function d(e){return null===e}function h(e){return"number"==typeof e}function f(e){return"string"==typeof e}function m(e){return void 0===e}function g(e){return v(e)&&"[object RegExp]"===w(e)}function v(e){return"object"==typeof e&&null!==e}function y(e){return v(e)&&"[object Date]"===w(e)}function b(e){return v(e)&&("[object Error]"===w(e)||e instanceof Error)}function E(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var I=/%[sdj%]/g;t.format=function(e){if(!f(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(I,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])d(s)||!v(s)?a+=" "+s:a+=" "+i(s);return a},t.deprecate=function(n,i){if(m(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var C,O={};t.debuglog=function(e){if(m(C)&&(C=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!O[e])if(new RegExp("\\b"+e+"\\b","i").test(C)){var n=r.pid;O[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else O[e]=function(){};return O[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=u,t.isBoolean=p,t.isNull=d,t.isNullOrUndefined=function(e){return null==e},t.isNumber=h,t.isString=f,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=g,t.isObject=v,t.isDate=y,t.isError=b,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(2589);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(2590),t._extend=function(e,t){if(!t||!v(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(81),n(89))},471:function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(0)),o=n.n(i),a=n(6),s=n(2),c=n(19),l=n.n(c),u=n(7),p=new(n.n(u).a)({name:"profile-stats-publications-without-fulltexts-promo"}),d=function(e){return e>1?e+" of your research items don't have full"+String.fromCharCode(8209)+"texts yet":e+" of your research items doesn't have the full"+String.fromCharCode(8209)+"text yet"},h=function(e){return e>1?"Add them to your profile to create visibility for more of your work and boost your stats totals.":"Add it to your profile to create visibility for more of your work and boost your stats totals."},f=function(e){var t=e.count,n=e.url,r=e.buttonProps,i=e.isCardDesign,a=e.onSkip;return i?o.a.createElement(s.Card,{elevation:"none",spacing:"m"},o.a.createElement(s.Card.Body,null,o.a.createElement(s.MediaObject,{verticalAlign:"top"},o.a.createElement(s.MediaObject.Item,{width:"full"},o.a.createElement(s.Text,{size:"xl",spacing:"xs"},d(t)),o.a.createElement(s.Text,{size:"m"},h(t))),o.a.createElement(s.MediaObject.Item,null,o.a.createElement("span",{className:"ico-full-text-circle"})))),o.a.createElement(s.Card.Footer,null,o.a.createElement(s.ButtonGroup,null,o.a.createElement(s.Button,Object.assign({},r,{href:n}),"View research ",l()("item",t)),a&&o.a.createElement(s.Button,Object.assign({},r,{theme:"bare",onClick:a}),"Skip")))):o.a.createElement("div",p(),o.a.createElement("div",p("content"),o.a.createElement(s.Text,Object.assign({size:"l",spacing:"xs"},p("headline")),d(t)),o.a.createElement(s.Text,{size:"m"},h(t))),o.a.createElement("div",p("footer"),o.a.createElement(s.Button,Object.assign({},r,{href:n}),"View ",l()("publication",t))))};f.defaultProps={buttonProps:{theme:"ghost",size:"s"},isCardDesign:!1},t.a=Object(a.connectWidget)()(f)},478:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(6),d=n(2),h=n(64),f=n(487),m=n(14),g=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleClick=function(){widgetLoader.loadWidgetInDialog(r.props.dialogUrl)},o=n,a()(r,o)}return c()(t,e),t.prototype.componentDidMount=function(){var e=this.props.milestones;Object(m.a)(e.seen)},t.prototype.render=function(){return u.a.createElement(d.Alert,{title:"Is this work useful for your current project?",description:"Let the authors know you find it useful by adding it as a project reference."},u.a.createElement(d.Button,{color:"blue",theme:"inverted",type:"button",onClick:this.handleClick},"Yes"))},t}(l.Component),v=Object(p.connectWidget)()(g),y=n(12),b=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleClick=function(){var e=r.props,t=e.showPublicationDownloadDataUsagePermissionDialog,n=e.dispatch,i=e.publicationProjectLinkAlert;t&&setTimeout(function(){Object(h.c)("literature.PublicationDownloadDataUsagePermissionDialog.html")},2e3),n({type:f.a}),i&&n(Object(y.pushAlert)(function(){return u.a.createElement(v,{widgetId:i})}))},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,n=e.downloadUrl,r=e.color,i=e.size,o=e.inlineButton,a={theme:t,href:n,style:{verticalAlign:"middle"},color:r,size:i};return a.onClick=this.handleClick,u.a.createElement(d.Button,a,u.a.createElement(d.Button.Label,{style:o?{display:"inline"}:null},this.props.children))},t}(l.Component);b.defaultProps={color:"blue",children:"Download",size:"m",inlineButton:!0};t.a=Object(p.connectWidget)()(b)},493:function(e,t,n){"use strict";var r=n(11),i=n.n(r),o=n(13),a=(n.n(o),i()(["\n    fragment SuccessStoryData on SuccessStory {\n        id\n        account {\n            id\n            firstname\n        }\n        value\n        domain {\n            ...on Science {\n                id\n                name\n            }\n            ...on Institution {\n                id\n                name\n            }\n            ...on Department {\n                id\n                name\n            }\n            ...on Country {\n                id\n                name\n            }\n        }\n        target {\n            ...on Account {\n                id\n            }\n            ...on Message {\n                id\n            }\n            ...on Publication {\n                id\n                targetTypeName: publicationType\n            }\n            ...on Project {\n                id\n            }\n            ...on Post {\n                id\n            }\n        }\n        storyType\n        interactionType\n        targetGroup\n        storyDate\n    }\n"],["\n    fragment SuccessStoryData on SuccessStory {\n        id\n        account {\n            id\n            firstname\n        }\n        value\n        domain {\n            ...on Science {\n                id\n                name\n            }\n            ...on Institution {\n                id\n                name\n            }\n            ...on Department {\n                id\n                name\n            }\n            ...on Country {\n                id\n                name\n            }\n        }\n        target {\n            ...on Account {\n                id\n            }\n            ...on Message {\n                id\n            }\n            ...on Publication {\n                id\n                targetTypeName: publicationType\n            }\n            ...on Project {\n                id\n            }\n            ...on Post {\n                id\n            }\n        }\n        storyType\n        interactionType\n        targetGroup\n        storyDate\n    }\n"])),s=i()(["\n    fragment SucessStoryTargetTitle on SuccessStory {\n        id\n        target {\n            ...on Message {\n                id\n                title\n                body\n            }\n            ...on Publication {\n                id\n                title\n                type: publicationType\n            }\n            ...on Project {\n                id\n                title\n            }\n            ...on Post {\n                id\n                title\n                message {\n                    title\n                    body\n                }\n            }\n            __typename\n        }\n    }\n"],["\n    fragment SucessStoryTargetTitle on SuccessStory {\n        id\n        target {\n            ...on Message {\n                id\n                title\n                body\n            }\n            ...on Publication {\n                id\n                title\n                type: publicationType\n            }\n            ...on Project {\n                id\n                title\n            }\n            ...on Post {\n                id\n                title\n                message {\n                    title\n                    body\n                }\n            }\n            __typename\n        }\n    }\n"]),c=i()(["\n    fragment SucessStoryTargetUrl on SuccessStory {\n        id\n        target {\n            ...on Message {\n                url\n            }\n            ...on Publication {\n                url\n            }\n            ...on Project {\n                url\n            }\n            ...on Post {\n                url\n            }\n            __typename\n        }\n    }\n"],["\n    fragment SucessStoryTargetUrl on SuccessStory {\n        id\n        target {\n            ...on Message {\n                url\n            }\n            ...on Publication {\n                url\n            }\n            ...on Project {\n                url\n            }\n            ...on Post {\n                url\n            }\n            __typename\n        }\n    }\n"]);Object(o.gql)(a),Object(o.gql)(s),Object(o.gql)(c)},494:function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(0)),o=n.n(i),a=n(2),s=n(190),c=n(18);t.a=Object(c.a)(a.ActivityItem.Time)(function(e){var t=e.detailLink,n=e.isNewIndicatorVisible,r=e.timeAgo,i=n?o.a.createElement("div",{className:"activity-item__new-indicator-dot"}):null;return r?o.a.createElement(a.ActivityItem.Time,null,t&&o.a.createElement(a.Link,{href:t,theme:"bare"},o.a.createElement(s.a,{dateTime:r})),!t&&o.a.createElement(s.a,{dateTime:r}),i):i||null})},500:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(7),h=new(n.n(d).a)("filter-menu-counter"),f=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props.count;return e<1?null:p.a.createElement("span",h(),"(",e,")")},t}(u.Component);t.b=f},505:function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=(n.n(o),n(2)),s=n(6);t.a=Object(s.connectWidget)()(function(e){var t=void 0;t=e.isAccountFocused?i.a.createElement("span",{className:"romeo-classification"},i.a.createElement(a.Text,{size:"s"},"The journal you published in may support self-archiving.")):e.isJournalFocused?i.a.createElement("span",{className:"romeo-classification"},i.a.createElement(a.Text,{size:"s"},"This journal may support self-archiving.")):i.a.createElement("span",{className:"romeo-classification"},i.a.createElement(a.Text,{size:"s"},"This publication is from a journal that may support self archiving."));var n="http://www.sherpa.ac.uk/romeo";return e.journalISSN&&(n="http://www.sherpa.ac.uk/romeo/search.php?issn="+e.journalISSN),i.a.createElement("div",{className:"publication-romeo-classification"},i.a.createElement("div",{className:"romeo-status"},t,i.a.createElement("span",{className:"policy-romeo"},i.a.createElement(a.Link,{href:n,rel:"noopener",target:"_blank",theme:"decorated",color:"inherit",className:"show-archiving-policy"},"Learn more"))))})},506:function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=(n(1),n(0)),a=n.n(o),s=n(6),c=n(8),l=n.n(c),u=n(30),p=n.n(u),d=n(10),h=new Promise(function(){}),f=n(23),m=n(216),g=function(e){return e?void 0:"Pick what your question is about"},v=n(2),y=n(414),b=n(218),E=n(99),w=n(142),_=n(124),S=n(651),I=n(7),C=n.n(I),O=new C.a({name:"converse-message-composer"}),x=function(e){var t=e.id,n=e.guideLines,r=e.handleSubmit,i=e.doSubmit,o=e.blockModifier,s=e.isSubmitting,c=e.formValues,l=e.isFormValid,u=e.isVisibilityVisible,p=e.isOpen,d=e.handleCancel;return a.a.createElement("form",Object.assign({},O(),{onSubmit:r(i)}),a.a.createElement(v.Modal,{scope:"local",isOpen:p,isCloseable:!1},a.a.createElement(v.Modal.Body,null,a.a.createElement(v.Text,{size:"xl",spacing:"m"},"Ask a question"),a.a.createElement(v.Text,{size:"s",spacing:"xxs"},"Enter a clear and concise question that others will easily understand. ",a.a.createElement(v.Link,{href:n,target:"_blank",rel:"noopener"},"Learn more")),a.a.createElement(v.Text,{size:"s",spacing:"m"},"Provide any details researchers may need to answer your question."),a.a.createElement(v.Stack,null,a.a.createElement(v.Stack.Item,null,a.a.createElement(v.FormGroup,null,a.a.createElement(v.FormGroup.Item,null,a.a.createElement(f.Field,{name:"subject",component:y.a,props:{name:"subject"}})),a.a.createElement(v.FormGroup.Item,null,a.a.createElement(f.Field,{name:"body",component:b.a,props:{name:"body",label:"Description",placeholder:"Add an explanation",blockModifier:o,showRichTextOptionsOnMount:!0},validate:[m.c,m.b]})))),a.a.createElement(v.Stack.Item,null,a.a.createElement(w.a,Object.assign({},O("attachment-list",o),{id:t}))),a.a.createElement(v.Stack.Item,null,u?a.a.createElement(v.FormGroup,null,a.a.createElement(v.FormGroup.Item,null,a.a.createElement(S.a,{label:"What is your question about?",name:"visibility",validate:[g]},a.a.createElement(v.Radio,{value:"termDefinition"},"I'm looking for a definition of a term or phrase"),a.a.createElement(v.Radio,{value:"researchRelated"},"I have a different research-related question")))):null))),a.a.createElement(v.Modal.Footer,{align:"left"},a.a.createElement(v.MediaObject,null,a.a.createElement(v.MediaObject.Item,{width:"full"},a.a.createElement(v.Pack,{verticalAlign:"middle"},a.a.createElement(v.Pack.Item,null,a.a.createElement(E.a,{id:t,url:"/converse/api/topics/message/upload"})),a.a.createElement(v.Pack.Item,null,a.a.createElement(_.b,null)))),a.a.createElement(v.MediaObject.Item,null,a.a.createElement(v.ButtonGroup,null,a.a.createElement(v.Button,{theme:"bare",type:"button",size:"s",status:function(e){return e.isSubmitting?"disabled":null}({isSubmitting:s}),onClick:d},a.a.createElement(v.Button.Label,null,"Cancel")),a.a.createElement(v.Button,{type:"submit",status:function(e){var t=e.isSubmitting,n=e.isVisibilityVisible,r=e.formValues,i=e.isFormValid;if(t)return"busy";if(!r)return"disabled";var o=r.subject,a=r.body,s=r.visibility,c=a.text;return n&&!s?"disabled":o&&c&&i?null:"disabled"}({isSubmitting:s,isVisibilityVisible:u,formValues:c,isFormValid:l}),size:"s"},a.a.createElement(v.Button.Label,null,"Ask"))))))))};x.defaultProps={guideLines:"deref/"+encodeURIComponent("https://explore.researchgate.net/pages/viewpage.action?pageId=14155852")+"?forcePage=false",blockModifier:"create",isVisibilityVisible:!0};var k=x,j=n(194),T=n(195),A=Object(f.reduxForm)({asyncValidate:function(e){return e.subject?!e.subject.length>0?h:Object(d.default)("/converse/api/topics/message/validate",{method:"POST",body:Object.assign({},e)}).then(function(e){if(e&&e.result&&e.result.title&&e.result.title.length>0)return Promise.reject({subject:e.result.title[0]})}):h},asyncBlurFields:["subject"]})(k),P=l()(Object(s.connectWidget)(j.a),p()(T.a))(function(e){var t=e.id,n=i()(e,["id"]);return a.a.createElement(A,Object.assign({id:t,form:t,initialValues:{subject:"",body:{text:null,struct:null}}},n))}),M=new C.a({name:"converse-editor"}),D=function(e){var t=e.id,n=e.doSubmit,r=e.handleSubmit,i=e.blockModifier,o=e.isSubmitting,s=e.headerComponent,c=e.formValues;return a.a.createElement("form",Object.assign({},M(),{onSubmit:r(n)}),a.a.createElement(v.Card,null,a.a.createElement(v.Card.Body,null,a.a.createElement(v.Stack,{gutter:"s"},a.a.createElement(v.Stack.Item,null,s),a.a.createElement(v.Stack.Item,null,a.a.createElement(v.FormGroup,null,a.a.createElement(v.FormGroup.Item,null,a.a.createElement(f.Field,{name:"body",component:b.a,props:{name:"body",label:"Answer",placeholder:"Add an answer",blockModifier:i,showRichTextOptionsOnMount:!1,showRichTextControlsUnderInput:!0,tooltipBody:a.a.createElement("div",null,a.a.createElement(v.Text,{size:"l"},a.a.createElement("b",null,"Add your answers")),a.a.createElement(v.Text,null,"Identify yourself as an expert in your field by providing high-quality answers."))},validate:[m.c,m.b]}))))),a.a.createElement(w.a,Object.assign({},M("attachment-list",i),{id:t}))),a.a.createElement(v.Card.Footer,null,a.a.createElement(v.MediaObject,null,a.a.createElement(v.MediaObject.Item,{width:"full"},a.a.createElement(v.Pack,{verticalAlign:"middle"},a.a.createElement(v.Pack.Item,null,a.a.createElement(E.a,{id:t,url:"/converse/api/topics/message/upload"})),a.a.createElement(v.Pack.Item,null,a.a.createElement(_.b,null)))),a.a.createElement(v.MediaObject.Item,null,a.a.createElement(v.Button,{type:"submit",status:function(e){var t=e.isSubmitting,n=e.formValues;if(t)return"busy";if(!n)return"disabled";var r=n.body.text;return!r||r.length<m.a?"disabled":null}({isSubmitting:o,formValues:c}),size:"s"},a.a.createElement(v.Button.Label,null,"Add answer")))))))};D.defaultProps={blockModifier:"reply"};var R=D,N=Object(f.reduxForm)({})(R),L=l()(Object(s.connectWidget)(j.a),p()(T.a))(function(e){var t=e.id,n=i()(e,["id"]);return a.a.createElement(N,Object.assign({id:t,form:t,initialValues:{body:{text:null,struct:null}}},n))});n.d(t,"a",function(){return L});t.b=P},530:function(e,t,n){"use strict";function r(e){var t=e.className,n=c()(e,["className"]);return u.a.createElement("table",Object.assign({},n,d({extra:t})))}function i(e){var t=e.type,n=e.className,r=c()(e,["type","className"]),i="header"===t?"th":"td";return u.a.createElement(i,Object.assign({},r,d({element:"cell",extra:n})))}function o(e){var t=e.className,n=c()(e,["className"]);return u.a.createElement("tr",Object.assign({},n,d({element:"row",extra:t})))}function a(e){var t=e.children,n=e.className,r=c()(e,["children","className"]);return u.a.createElement("thead",Object.assign({},r,d({element:"header",extra:n})),u.a.createElement(o,null,t))}var s=n(16),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(7),d=new(n.n(p).a)({name:"project-admin-table"});n.d(t,"d",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i}),r.Body="tbody"},538:function(e,t,n){"use strict";var r=n(1103);t.a=r.a},542:function(e,t,n){var r=n(141)("sortBy",n(278));r.placeholder=n(137),e.exports=r},546:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(2),h=n(15),f=n.n(h),m={width:"full",theme:"bare",align:"left",color:"black"},g=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.clickHandler=function(){r.popover.hide()},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.className,i=t.onOpen,o=t.target;return p.a.createElement(d.Popover,{target:o,didEnter:i,ref:function(t){e.popover=t}},p.a.createElement("div",{className:"actions-dropdown "+r},p.a.createElement(d.ButtonGroup,{orientation:"vertical",width:"full",gutter:"none",onClick:this.clickHandler},p.a.Children.map(n,function(e,t){var n=m,r=f()(e.className,{"actions-dropdown__button":!0,"actions-dropdown__button--first":0===t});return e.type!==d.Button?n={buttonProps:Object.assign({},m,{className:r})}:n.className=r,p.a.cloneElement(e,Object.assign({},n))}))))},t}(u.Component);g.defaultProps={onOpen:function(){}},t.a=g},552:function(e,t,n){"use strict";function r(e){var t=e.children,n=e.adPosition,r=e.adSlot,i=o()(e,["children","adPosition","adSlot"]),a=[],c=Math.min(s.a.Children.count(t),n)-1;return s.a.Children.forEach(t,function(e,t){a.push(e),r&&t===c&&a.push(r)}),s.a.createElement(l.Stack,i,a)}var i=n(16),o=n.n(i),a=n(0),s=n.n(a),c=n(1),l=(n.n(c),n(2));r.defaultProps={adPosition:4},t.a=r},553:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(7),f=n.n(h),m=n(2),g=n(181),v=n(476),y=new f.a({name:"question-stack-item-ad-container"}),b=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleBlacklist=function(){Object(v.h)(r.props.slotId,r.props.creativeId)},o=n,a()(r,o)}return c()(t,e),t.prototype.getBlacklistButton=function(){return this.props.isSlotRendered?p.a.createElement(m.Button,Object.assign({onClick:this.handleBlacklist,theme:"bare",size:"xs",color:"grey",type:"button"},y("blacklist")),p.a.createElement(m.Button.Icon,{identifier:"close"})):null},t.prototype.getHeader=function(){var e=this.props,t=e.iconSmall;return e.isSlotRendered?p.a.createElement("div",y("header"),p.a.createElement("div",y("icon",t?"small":"big"),p.a.createElement(m.Icon,{size:t?"s":"m",identifier:"pencil"})),p.a.createElement("div",y("header-body"),p.a.createElement(m.Text,null,"Sponsored content you might like"))):null},t.prototype.render=function(){var e=this.props,t=e.isSlotRendered,n=e.iconSmall,r=e.children,i=t?"ready":"collapsed";return p.a.createElement(m.Stack.Item,y({modifier:i}),this.getHeader(),p.a.createElement("div",y("body",n?"icon-small":"icon-big"),this.getBlacklistButton(),r))},t}(u.Component);b.defaultProps={legacyBlacklistButton:!1,borderTop:!1,iconSmall:!1},t.a=Object(d.connectWidget)(function(e,t){return{isSlotRendered:Object(g.e)(e,t),creativeId:Object(g.f)(e,t)}})(b)},575:function(e,t,n){var r=n(141)("map",n(29));r.placeholder=n(137),e.exports=r},576:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(7),h=n.n(d),f=n(6),m=n(153),g=n(407),v=n(14),y=n(2),b=new h.a({name:"author-suggestion-ignore-modal"}),E="ignorePublication",w="ignoreResearcher",_={isModalVisible:!1,ignoreReason:E},S=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state=_,r.onIgnoreReasonChanged=function(e){r.setState({ignoreReason:e.currentTarget.value})},r.openModal=function(e){e.preventDefault(),e.stopPropagation();var t=r.props,n=t.ignoreButtonClickMilestone,i=t.accountId,o=t.accountMappingSuggesterId;n&&Object(v.a)(n,[Object(g.h)(i,o)]),r.setState({isModalVisible:!0})},r.closeModal=function(){r.setState(_)},r.submitModal=function(){var e=r.props,t=e.accountId,n=e.accountMappingSuggesterId,i=e.onAction;r.state.ignoreReason===w?r.props.dispatch(Object(g.k)(t,Object(g.h)(t,n))):r.props.dispatch(Object(g.j)(t,n,Object(g.h)(t,n))),i&&i(),r.closeModal()},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.openModal,t=this.closeModal,n=this.submitModal,r=this.onIgnoreReasonChanged,i=this.state,o=i.isModalVisible,a=i.ignoreReason,s=this.props.targetAccountFirstName;return p.a.createElement("div",b(),p.a.createElement(y.Button,{theme:"bare",onClick:e,size:"s",width:"full"},"I don't know"),p.a.createElement(y.Modal,{isOpen:o,onRequestClose:t},p.a.createElement(y.Modal.Body,b("body"),p.a.createElement(y.Text,{size:"xl",family:"sans-serif",spacing:"m",tag:"div"},"How well do you know ",s,"'s work?"),p.a.createElement(y.FormGroup,null,p.a.createElement(y.FormGroup.Item,null,p.a.createElement(y.Radio,{value:E,checked:a===E,onChange:r},"I know their work but I don't know if they authored this publication")),p.a.createElement(y.FormGroup.Item,null,p.a.createElement(y.Radio,{value:w,checked:a===w,onChange:r},"I don't know this researcher's work")))),p.a.createElement(y.Modal.Footer,null,p.a.createElement(y.Button,{onClick:n},"Submit"))))},t}(u.Component);t.a=Object(f.connectWidget)(function(e){return{isRequestInProgress:Object(m.f)(e),ignoreButtonClickMilestone:Object(m.d)(e)}})(S)},58:function(e,t,n){"use strict";function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function i(){}function o(e){var t;return e=(e+"").trim().toLowerCase(),(t=T.exec(e))?(t=parseInt(t[1],16),new u(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=A.exec(e))?a(parseInt(t[1],16)):(t=P.exec(e))?new u(t[1],t[2],t[3],1):(t=M.exec(e))?new u(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=D.exec(e))?s(t[1],t[2],t[3],t[4]):(t=R.exec(e))?s(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=N.exec(e))?p(t[1],t[2]/100,t[3]/100,1):(t=L.exec(e))?p(t[1],t[2]/100,t[3]/100,t[4]):F.hasOwnProperty(e)?a(F[e]):"transparent"===e?new u(NaN,NaN,NaN,0):null}function a(e){return new u(e>>16&255,e>>8&255,255&e,1)}function s(e,t,n,r){return r<=0&&(e=t=n=NaN),new u(e,t,n,r)}function c(e){return e instanceof i||(e=o(e)),e?(e=e.rgb(),new u(e.r,e.g,e.b,e.opacity)):new u}function l(e,t,n,r){return 1===arguments.length?c(e):new u(e,t,n,null==r?1:r)}function u(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function p(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new h(e,t,n,r)}function d(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof h)return new h(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=o(e)),!e)return new h;if(e instanceof h)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),c=NaN,l=s-a,u=(s+a)/2;return l?(c=t===s?(n-r)/l+6*(n<r):n===s?(r-t)/l+2:(t-n)/l+4,l/=u<.5?s+a:2-s-a,c*=60):l=u>0&&u<1?0:c,new h(c,l,u,e.opacity)}(e):new h(e,t,n,null==r?1:r)}function h(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function f(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function m(e){if(e instanceof v)return new v(e.l,e.a,e.b,e.opacity);if(e instanceof S){var t=e.h*U;return new v(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof u||(e=c(e));var n=w(e.r),r=w(e.g),i=w(e.b),o=y((.4124564*n+.3575761*r+.1804375*i)/q),a=y((.2126729*n+.7151522*r+.072175*i)/V);return new v(116*a-16,500*(o-a),200*(a-y((.0193339*n+.119192*r+.9503041*i)/W)),e.opacity)}function g(e,t,n,r){return 1===arguments.length?m(e):new v(e,t,n,null==r?1:r)}function v(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function y(e){return e>K?Math.pow(e,1/3):e/Y+z}function b(e){return e>H?e*e*e:Y*(e-z)}function E(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function w(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function _(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof S)return new S(e.h,e.c,e.l,e.opacity);e instanceof v||(e=m(e));var t=Math.atan2(e.b,e.a)*B;return new S(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new S(e,t,n,null==r?1:r)}function S(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function I(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof C)return new C(e.h,e.s,e.l,e.opacity);e instanceof u||(e=c(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Z*r+X*t-J*n)/(Z+X-J),o=r-i,a=($*(n-i)-G*o)/Q,s=Math.sqrt(a*a+o*o)/($*i*(1-i)),l=s?Math.atan2(a,o)*B-120:NaN;return new C(l<0?l+360:l,s,i,e.opacity)}(e):new C(e,t,n,null==r?1:r)}function C(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}var O=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e},x="\\s*([+-]?\\d+)\\s*",k="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",j="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T=/^#([0-9a-f]{3})$/,A=/^#([0-9a-f]{6})$/,P=new RegExp("^rgb\\("+[x,x,x]+"\\)$"),M=new RegExp("^rgb\\("+[j,j,j]+"\\)$"),D=new RegExp("^rgba\\("+[x,x,x,k]+"\\)$"),R=new RegExp("^rgba\\("+[j,j,j,k]+"\\)$"),N=new RegExp("^hsl\\("+[k,j,j]+"\\)$"),L=new RegExp("^hsla\\("+[k,j,j,k]+"\\)$"),F={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O(i,o,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),O(u,l,r(i,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new u(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new u(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),O(h,d,r(i,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new h(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new h(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new u(f(e>=240?e-240:e+120,i,r),f(e,i,r),f(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var U=Math.PI/180,B=180/Math.PI,q=.95047,V=1,W=1.08883,z=4/29,H=6/29,Y=3*H*H,K=H*H*H;O(v,g,r(i,{brighter:function(e){return new v(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new v(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=V*b(e),t=q*b(t),n=W*b(n),new u(E(3.2404542*t-1.5371385*e-.4985314*n),E(-.969266*t+1.8760108*e+.041556*n),E(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),O(S,_,r(i,{brighter:function(e){return new S(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new S(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return m(this).rgb()}}));var G=-.29227,Q=-.90649,$=1.97294,X=$*Q,J=1.78277*$,Z=1.78277*G- -.14861*Q;O(C,I,r(i,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new C(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new C(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*U,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new u(255*(t+n*(-.14861*r+1.78277*i)),255*(t+n*(G*r+Q*i)),255*(t+n*($*r)),this.opacity)}})),n.d(t,"a",function(){return o}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return g}),n.d(t,"c",function(){return _}),n.d(t,"b",function(){return I})},60:function(e,t,n){"use strict";function r(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function i(e,t){return function(n){return e+n*t}}function o(e,t){var n=t-e;return n?i(e,n>180||n<-180?n-360*Math.round(n/360):n):_(isNaN(e)?t:e)}function a(e){return 1==(e=+e)?s:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):_(isNaN(t)?n:t)}}function s(e,t){var n=t-e;return n?i(e,n):_(isNaN(e)?t:e)}function c(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Object(b.f)(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}function l(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],c=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var c=a.push("translate(",null,t,null,n);s.push({i:c-4,x:k(e,i)},{i:c-2,x:k(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,c),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:k(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,c),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:k(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,c),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:k(e,n)},{i:s-2,x:k(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,c),o=a=null,function(e){for(var t,n=-1,r=c.length;++n<r;)s[(t=c[n]).i]=t.x(e);return s.join("")}}}function u(e){return((e=Math.exp(e))+1/e)/2}function p(e){return function(t,n){var r=e((t=Object(b.d)(t)).h,(n=Object(b.d)(n)).h),i=s(t.s,n.s),o=s(t.l,n.l),a=s(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=a(e),t+""}}}function d(e,t){var n=s((e=Object(b.e)(e)).l,(t=Object(b.e)(t)).l),r=s(e.a,t.a),i=s(e.b,t.b),o=s(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function h(e){return function(t,n){var r=e((t=Object(b.c)(t)).h,(n=Object(b.c)(n)).h),i=s(t.c,n.c),o=s(t.l,n.l),a=s(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=a(e),t+""}}}function f(e){return function t(n){function r(t,r){var i=e((t=Object(b.b)(t)).h,(r=Object(b.b)(r)).h),o=s(t.s,r.s),a=s(t.l,r.l),c=s(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=c(e),t+""}}return n=+n,r.gamma=t,r}(1)}var m,g,v,y,b=n(58),E=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[i],a=e[i+1],s=i>0?e[i-1]:2*o-a,c=i<t-1?e[i+2]:2*a-o;return r((n-i/t)*t,s,o,a,c)}},w=function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),o=e[(i+t-1)%t],a=e[i%t],s=e[(i+1)%t],c=e[(i+2)%t];return r((n-i/t)*t,o,a,s,c)}},_=function(e){return function(){return e}},S=function e(t){function n(e,t){var n=r((e=Object(b.f)(e)).r,(t=Object(b.f)(t)).r),i=r(e.g,t.g),o=r(e.b,t.b),a=s(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}var r=a(t);return n.gamma=e,n}(1),I=c(E),C=c(w),O=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=M(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}},x=function(e,t){var n=new Date;return e=+e,t-=e,function(r){return n.setTime(e+t*r),n}},k=function(e,t){return e=+e,t-=e,function(n){return e+t*n}},j=function(e,t){var n,r={},i={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(n in t)n in e?r[n]=M(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},T=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,A=new RegExp(T.source,"g"),P=function(e,t){var n,r,i,o=T.lastIndex=A.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=T.exec(e))&&(r=A.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:k(n,r)})),o=A.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})},M=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?_(t):("number"===r?k:"string"===r?(n=Object(b.a)(t))?(t=n,S):P:t instanceof b.a?S:t instanceof Date?x:Array.isArray(t)?O:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?j:k)(e,t)},D=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}},R=180/Math.PI,N={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},L=function(e,t,n,r,i,o){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*R,skewX:Math.atan(c)*R,scaleX:a,scaleY:s}},F=l(function(e){return"none"===e?N:(m||(m=document.createElement("DIV"),g=document.documentElement,v=document.defaultView),m.style.transform=e,e=v.getComputedStyle(g.appendChild(m),null).getPropertyValue("transform"),g.removeChild(m),e=e.slice(7,-1).split(","),L(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),U=l(function(e){return null==e?N:(y||(y=document.createElementNS("http://www.w3.org/2000/svg","g")),y.setAttribute("transform",e),(e=y.transform.baseVal.consolidate())?(e=e.matrix,L(e.a,e.b,e.c,e.d,e.e,e.f)):N)},", ",")",")"),B=Math.SQRT2,q=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],c=t[1],l=t[2],p=s-i,d=c-o,h=p*p+d*d;if(h<1e-12)r=Math.log(l/a)/B,n=function(e){return[i+e*p,o+e*d,a*Math.exp(B*e*r)]};else{var f=Math.sqrt(h),m=(l*l-a*a+4*h)/(2*a*2*f),g=(l*l-a*a-4*h)/(2*l*2*f),v=Math.log(Math.sqrt(m*m+1)-m),y=Math.log(Math.sqrt(g*g+1)-g);r=(y-v)/B,n=function(e){var t=e*r,n=u(v),s=a/(2*f)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(B*t+v)-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[i+s*p,o+s*d,a*n/u(B*t+v)]}}return n.duration=1e3*r,n},V=p(o),W=p(s),z=h(o),H=h(s),Y=f(o),K=f(s),G=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n};n.d(t,"a",function(){return M}),n.d(t,!1,function(){return O}),n.d(t,!1,function(){return E}),n.d(t,!1,function(){return w}),n.d(t,!1,function(){return x}),n.d(t,"c",function(){return k}),n.d(t,!1,function(){return j}),n.d(t,"e",function(){return D}),n.d(t,"f",function(){return P}),n.d(t,"g",function(){return F}),n.d(t,"h",function(){return U}),n.d(t,"i",function(){return q}),n.d(t,"d",function(){return S}),n.d(t,!1,function(){return I}),n.d(t,!1,function(){return C}),n.d(t,!1,function(){return V}),n.d(t,!1,function(){return W}),n.d(t,!1,function(){return d}),n.d(t,!1,function(){return z}),n.d(t,!1,function(){return H}),n.d(t,!1,function(){return Y}),n.d(t,"b",function(){return K}),n.d(t,!1,function(){return G})},617:function(e,t,n){"use strict";var r=n(11),i=n.n(r),o=n(0),a=n.n(o),s=n(8),c=n.n(s),l=n(116),u=n.n(l),p=n(6),d=n(13),h=(n.n(d),n(874)),f=n(618),m=n(705),g=(n(493),i()(["\n        query SuccessStoryText($id: ID!) {\n            successStory(id: $id) {\n                ...SuccessStoryData\n            }\n        }\n    "],["\n        query SuccessStoryText($id: ID!) {\n            successStory(id: $id) {\n                ...SuccessStoryData\n            }\n        }\n    "]));t.a=c()(Object(p.connectWidget)(),Object(d.withQuery)(Object(d.gql)(g),{mapDataToProps:h.a}),u()(function(e){return{pointOfView:e.accountId===e.currentAccountId?f.a.SECOND_PERSON:f.a.THIRD_PERSON}}))(function(e){return a.a.createElement("span",null,Object(m.a)(e))})},618:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={FIRST_PERSON:"firstPerson",SECOND_PERSON:"secondPerson",THIRD_PERSON:"thirdPerson"}},620:function(e,t,n){"use strict";n(1);var r=n(0),i=n.n(r),o=n(7),a=new(n.n(o).a)({name:"ad-campaign-products-layout"}),s=n(2),c=function(e){var t=e.className,n=e.children;return i.a.createElement(s.Stack.Item,a("tabs",null,t),i.a.createElement("div",a("tabs-container",null,t),n))};c.role="AdCampaignProductsLayoutTabs";var l=c,u=function(e){var t=e.className,n=e.children,r=e.href;return e.active?i.a.createElement("div",a("tab","active",t),n):i.a.createElement("a",Object.assign({},a("tab","inactive",t),{href:r}),n)},p=function(e){var t=e.className,n=e.children;return i.a.createElement(s.Text,Object.assign({size:"l"},a("header",null,t)),n)};p.role="AdCampaignProductsLayoutHeader";var d=p,h=function(e){var t=e.className,n=e.children;return i.a.createElement(s.ButtonGroup,a("actions",null,t),n)};h.role="AdCampaignProductsLayoutActions";var f=h,m=function(e,t,n){var r=i.a.Children.toArray(e).filter(function(e){return e.type&&e.type.role===t});return r.length?1===n?r[0]:n>1?r.slice(0,n):r:null},g=function(e){var t=e.className,n=e.children;return i.a.createElement(s.Stack.Item,a("chart",null,t),n)};g.role="AdCampaignProductsLayoutChart";var v=g,y=function(e){var t=e.className,n=e.children;return i.a.createElement(s.Stack.Item,a("table-actions",null,t),n)};y.role="AdCampaignProductsLayoutTableActions";var b=y,E=function(e){var t=e.className,n=e.children;return i.a.createElement(s.Stack.Item,a("table",null,t),n)};E.role="AdCampaignProductsLayoutTable";var w=E,_=function(e){var t=e.className,n=e.isLoading,r=e.children,o=m(r,l.role,1),c=m(r,d.role,1),u=m(r,f.role,1),p=m(r,v.role,1),h=m(r,b.role,1),g=m(r,w.role,1),y=c||u?i.a.createElement(s.Stack.Item,null,i.a.createElement(s.MediaObject,null,i.a.createElement(s.MediaObject.Item,{width:"full"},c),i.a.createElement(s.MediaObject.Item,{width:"auto"},u))):null;return i.a.createElement(s.Stack,a(null,{loading:n},t),o,y,p,h,g)};_.Tabs=l,_.Tab=u,_.Header=d,_.Actions=f,_.Chart=v,_.TableActions=b,_.Table=w;t.a=_},621:function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=n(3),a=n.n(o),s=n(4),c=n.n(s),l=n(5),u=n.n(l),p=(n(1),n(0)),d=n.n(p),h=n(6),f=n(22),m=n.n(f),g=n(340),v=function(e){function t(){var n,r,i;a()(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=r=c()(this,e.call.apply(e,[this].concat(s))),r.handleChange=function(e){var t=e.map(function(e){return e.value});r.props.onChange(t)},i=n,c()(r,i)}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.locations,n=e.selectedIds,r=i()(e,["locations","selectedIds"]),o=Object.entries(t).map(function(e){return{value:e[0],label:e[1]}});return d.a.createElement(g.a,Object.assign({},r,{onChange:this.handleChange,options:o,value:n}))},t}(p.Component);v.defaultProps={size:"m"};t.a=Object(h.connectWidget)(function(e){return{locations:function(e){return m()(e,["applicationLocations"],{})}(e)}})(v)},625:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(2),d=n(7),h=n.n(d),f=n(51),m=new h.a("selectable-list-item"),g=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleClick=function(){r.props.onClick(r.props.id)},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.addedByText,n=e.itemType,r=e.name,i=e.isSelected;return u.a.createElement("div",Object.assign({onClick:this.handleClick},m()),u.a.createElement(p.MediaObject,null,u.a.createElement(p.MediaObject.Item,{width:"full"},t&&u.a.createElement(p.Qualifier,null,u.a.createElement(p.Qualifier.Labels,null,u.a.createElement(p.Qualifier.Label,null,u.a.createElement(p.Text,{spacing:"xxs"},"Added by ",t)))),!n&&u.a.createElement("b",null,r),"publicationItem"===n&&u.a.createElement(f.a,this.props)),u.a.createElement(p.MediaObject.Item,null,i&&u.a.createElement("div",m("icon-full"),u.a.createElement(p.Icon,Object.assign({},m("icon-full-inner"),{identifier:"check",color:"white",size:"s"}))),!i&&u.a.createElement("div",m("icon-empty"),u.a.createElement(p.Icon,Object.assign({},m("icon-empty-inner"),{identifier:"check",color:"blue",size:"s"}))))))},t}(l.Component),v=n(33),y=n.n(v),b=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.emptyText,r=t.items;return u.a.createElement("div",{className:"selectable-list"},y()(r)&&u.a.createElement("div",{className:"empty-text"},n),!y()(r)&&Object.keys(r).map(function(t){return u.a.createElement(g,Object.assign({key:r[t].id,onClick:e.props.onClick,isSelected:e.props.selectedItemIds.indexOf(r[t].id)>=0},r[t]))}))},t}(l.Component),E=n(19),w=n.n(E),_=new h.a("featured-item-selector"),S=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={selectedTabIndex:0},r.handleTabSelect=function(e){r.setState({selectedTabIndex:e})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.emptyText,r=t.itemType,i=t.userTabItems,o=t.selectedTabItems,a=t.selectedItemIds,s=t.onItemClick;return u.a.createElement("div",_(""),u.a.createElement("div",_("tab-list"),u.a.createElement("span",Object.assign({},_({element:"tab-item",modifier:{selected:0===this.state.selectedTabIndex}}),{onClick:function(){e.handleTabSelect(0)}}),"Your ",w()(r,i)),Object.keys(o).length>0&&u.a.createElement("span",Object.assign({},_({element:"tab-item",modifier:{selected:1===this.state.selectedTabIndex}}),{onClick:function(){e.handleTabSelect(1)}}),u.a.createElement("b",null,"Featured ",w()(r,a.length))," ",a.length>0&&u.a.createElement(p.Badge,null,a.length))),0===this.state.selectedTabIndex&&u.a.createElement(b,{emptyText:n,items:i,selectedItemIds:a,onClick:s}),1===this.state.selectedTabIndex&&u.a.createElement(b,{emptyText:n,items:o,selectedItemIds:a,onClick:s}))},t}(l.Component);t.a=S},629:function(e,t,n){"use strict";var r=n(900);t.a=r.a},63:function(e,t,n){"use strict";n.d(t,"i",function(){return u}),n.d(t,"e",function(){return p}),n.d(t,"g",function(){return d}),n.d(t,"c",function(){return h}),n.d(t,"h",function(){return f}),n.d(t,"j",function(){return m}),n.d(t,"f",function(){return g}),n.d(t,"b",function(){return v}),n.d(t,"a",function(){return y}),n.d(t,"d",function(){return b});var r=n(21),i=(n.n(r),n(17)),o=n(35),a=(n.n(o),Object(o.fromJS)({replyIds:[],totalCount:0})),s=Object(o.fromJS)({messageIds:[],totalCount:0}),c=function(e){return e.converseMessages.get("messages")},l=function(e){return e.converseMessages.get("messageIdToReplyIds")},u=function(e,t){return e.converseMessages.getIn(["rootIdToMessageIds",String(t)],s)},p=function(e,t){return t.messageId},d=function(e,t){var n=c(e);return t.map(function(e){return n.get(e)}).filter(function(e){return!!e})},h=function(e){return Object(r.createSelector)([c,e],function(e,t){return e.get(t)})},f=function(e){return Object(r.createSelector)([e,l],function(e,t){return t.get(e,a).get("replyIds")})},m=function(e){return Object(r.createSelector)([e,l],function(e,t){return t.get(e,a).get("totalCount")})},g=function(e){return Object(r.createSelector)([e],function(e){return new i.a(e,i.b.TYPE_MESSAGE).getFullKey()})},v=function(e){return e.converseMessages.getIn(["composer","parentId"],null)},y=function(e){return e.converseMessages.getIn(["composer","highlight"],null)},b=function(e,t,n){return Object(r.createSelector)([e,t,n,c],function(e,t,n,r){return r.find(function(r){return r.get("rootId")===e&&r.get("accountId")===t&&r.get("externalType")===n})})}},633:function(e,t,n){var r=n(515),i=n(758),o=n(277),a=n(760),s=o(function(e){return e.push(void 0,a),r(i,void 0,e)});e.exports=s},643:function(e,t,n){var r=n(577),i=n(375),o=n(167),a=n(644),s=n(121);e.exports=function(e,t,n){var c=s(e)?r:a,l=arguments.length<3;return c(e,o(t,4),n,l,i)}},644:function(e,t){e.exports=function(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}},648:function(e,t,n){"use strict";function r(e){var t=O[O.length-1]===e;O=t?[].concat(I(O),[e]):[e];for(var n=function(){if(C)return C;return(C=document.createElement("div")).setAttribute("id","a11y-status-message"),C.setAttribute("role","status"),C.setAttribute("aria-live","assertive"),C.setAttribute("aria-relevant","additions text"),Object.assign(C.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),document.body.appendChild(C),C}();n.lastChild;)n.removeChild(n.firstChild);O.filter(Boolean).forEach(function(e,t){n.appendChild(function(e,t){var n=t===O.length-1?"block":"none",r=document.createElement("div");return r.style.display=n,r.textContent=e,r}(e,t))})}function i(e){return"function"==typeof e?e:o}function o(){}function a(e,t,n){return null!==t&&t!==n.parentNode?e(t)?t===document.body&&0===t.scrollTop?document.documentElement:t:a(e,t.parentNode,n):null}function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some(function(t){return t&&t.apply(void 0,[e].concat(r)),e.defaultPrevented})}}function c(e){return e+"-"+x++}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find(function(e){return void 0!==e})}function u(e,t){return!(e=Array.isArray(e)?e[0]:e)&&t?t:e}function p(e){return e.nodeName?"string"==typeof e.nodeName:"string"==typeof e.type}function d(e){return e.props||e.attributes}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return j.forEach(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var f=n(0),m=n.n(f),g=n(1),v=n.n(g),y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},S=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},I=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},C="undefined"==typeof document?null:document.getElementById("a11y-status-message"),O=[],x=1,k=a.bind(null,function(e){return e.scrollHeight>e.clientHeight}),j=["highlightedIndex","inputValue","isOpen","selectedItem","type"],T=function(e){function t(){var e;y(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));A.call(o);var a=o.getState({highlightedIndex:o.props.defaultHighlightedIndex,isOpen:o.props.defaultIsOpen,inputValue:o.props.defaultInputValue,selectedItem:o.props.defaultSelectedItem});return a.selectedItem&&(a.inputValue=o.props.itemToString(a.selectedItem)),o.state=a,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f["Component"]),b(t,[{key:"getState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return Object.keys(t).reduce(function(n,r){return n[r]=e.isControlledProp(r)?e.props[r]:t[r],n},{})}},{key:"isControlledProp",value:function(e){return void 0!==this.props[e]}},{key:"getItemCount",value:function(){return null!=this.itemCount?this.itemCount:void 0!==this.props.itemCount?this.props.itemCount:this.items.length}},{key:"internalSetState",value:function(e,n){var r=this,o=void 0,a=void 0,s={},c="function"==typeof e;return!c&&e.hasOwnProperty("inputValue")&&this.props.onInputValueChange(e.inputValue,w({},this.getStateAndHelpers(),e)),this.setState(function(n){n=r.getState(n),e=c?e(n):e;var i={},l={};return(o=e.hasOwnProperty("selectedItem"))&&e.selectedItem!==n.selectedItem&&(a=e.selectedItem),e.type=e.type||t.stateChangeTypes.unknown,Object.keys(e).forEach(function(t){n[t]!==e[t]&&(s[t]=e[t]),"type"!==t&&(l[t]=e[t],r.isControlledProp(t)||(i[t]=e[t]))}),c&&e.hasOwnProperty("inputValue")&&r.props.onInputValueChange(e.inputValue,w({},r.getStateAndHelpers(),e)),i},function(){i(n)();Object.keys(s).length>1&&r.props.onStateChange(s,r.getStateAndHelpers()),o&&r.props.onSelect(e.selectedItem,r.getStateAndHelpers()),void 0!==a&&r.props.onChange(a,r.getStateAndHelpers()),r.props.onUserAction(s,r.getStateAndHelpers())})}},{key:"getStateAndHelpers",value:function(){var e=this.getState(),t=e.highlightedIndex,n=e.inputValue,r=e.selectedItem,i=e.isOpen,o=this.props,a=o.id,s=o.itemToString,c=this.getRootProps,l=this.getButtonProps,u=this.getLabelProps,p=this.getInputProps,d=this.getItemProps,h=this.openMenu,f=this.closeMenu,m=this.toggleMenu,g=this.selectItem,v=this.selectItemAtIndex,y=this.selectHighlightedItem,b=this.setHighlightedIndex,E=this.clearSelection,w=this.clearItems;return{getRootProps:c,getButtonProps:l,getLabelProps:u,getInputProps:p,getItemProps:d,reset:this.reset,openMenu:h,closeMenu:f,toggleMenu:m,selectItem:g,selectItemAtIndex:v,selectHighlightedItem:y,setHighlightedIndex:b,clearSelection:E,clearItems:w,setItemCount:this.setItemCount,unsetItemCount:this.unsetItemCount,itemToString:s,id:a,highlightedIndex:t,inputValue:n,isOpen:i,selectedItem:r}}},{key:"getItemId",value:function(e){return this.props.id+"-item-"+e}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var n=function(){e.isMouseDown=!0},r=function(n){e.isMouseDown=!1,n.target!==e._rootNode&&e._rootNode.contains(n.target)||!e.getState().isOpen||e.reset({type:t.stateChangeTypes.mouseUp},function(){return e.props.onOuterClick(e.getStateAndHelpers())})};this.props.environment.addEventListener("mousedown",n),this.props.environment.addEventListener("mouseup",r),this.cleanup=function(){e._isMounted=!1,e.props.environment.removeEventListener("mousedown",n),e.props.environment.removeEventListener("mouseup",r)}}},{key:"componentDidUpdate",value:function(e){this.isControlledProp("selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:t.stateChangeTypes.controlledPropUpdatedSelectedItem,inputValue:this.props.itemToString(this.props.selectedItem)}),this.isControlledProp("highlightedIndex")&&this.props.highlightedIndex!==e.highlightedIndex&&this.scrollHighlightedItemIntoView(),this.updateStatus()}},{key:"componentWillUnmount",value:function(){this.cleanup()}},{key:"render",value:function(){var e=u(this.props.render||this.props.children,o);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var t=u(e(this.getStateAndHelpers()));if(!t)return null;if(this.getRootProps.called)return this.getRootProps.suppressRefError||function(e,t){var n=t.refKey,r="ref"!==n,i=!p(e);if(i&&!r)throw new Error("downshift: You returned a non-DOM element. You must specify a refKey in getRootProps");if(!i&&r)throw new Error('downshift: You returned a DOM element. You should not specify a refKey in getRootProps. You specified "'+n+'"');if(!d(e).hasOwnProperty(n))throw new Error('downshift: You must apply the ref prop "'+n+'" from getRootProps onto your root element.')}(t,this.getRootProps),t;if(p(t))return m.a.cloneElement(t,this.getRootProps(d(t)));throw new Error("downshift: If you return a non-DOM element, you must use apply the getRootProps function")}}]),t}();T.propTypes={children:v.a.func,render:v.a.func,defaultHighlightedIndex:v.a.number,defaultSelectedItem:v.a.any,defaultInputValue:v.a.string,defaultIsOpen:v.a.bool,getA11yStatusMessage:v.a.func,itemToString:v.a.func,onChange:v.a.func,onSelect:v.a.func,onStateChange:v.a.func,onInputValueChange:v.a.func,onUserAction:v.a.func,onClick:v.a.func,onOuterClick:v.a.func,selectedItemChanged:v.a.func,itemCount:v.a.number,id:v.a.string,environment:v.a.shape({addEventListener:v.a.func,removeEventListener:v.a.func,document:v.a.shape({getElementById:v.a.func})}),selectedItem:v.a.any,isOpen:v.a.bool,inputValue:v.a.string,highlightedIndex:v.a.number,breakingChanges:v.a.shape({resetInputOnSelection:v.a.bool})},T.defaultProps={defaultHighlightedIndex:null,defaultSelectedItem:null,defaultInputValue:"",defaultIsOpen:!1,getA11yStatusMessage:function(e){var t=e.isOpen,n=e.highlightedItem,r=e.selectedItem,i=e.resultCount,o=e.previousResultCount,a=e.itemToString;return t?i?n&&i===o?a(n):i+" "+(1===i?"result is":"results are")+" available, use up and down arrow keys to navigate.":"No results.":r?a(r):""},id:c("downshift"),itemToString:function(e){return null==e?"":String(e)},onStateChange:function(){},onInputValueChange:function(){},onUserAction:function(){},onChange:function(){},onSelect:function(){},onOuterClick:function(){},selectedItemChanged:function(e,t){return e!==t},environment:"undefined"==typeof window?{}:window,breakingChanges:{}},T.stateChangeTypes={unknown:"__autocomplete_unknown__",mouseUp:"__autocomplete_mouseup__",itemMouseEnter:"__autocomplete_item_mouseenter__",keyDownArrowUp:"__autocomplete_keydown_arrow_up__",keyDownArrowDown:"__autocomplete_keydown_arrow_down__",keyDownEscape:"__autocomplete_keydown_escape__",keyDownEnter:"__autocomplete_keydown_enter__",blurInput:"__autocomplete_blur_input__",changeInput:"__autocomplete_change_input__",keyDownSpaceButton:"__autocomplete_keydown_space_button__",clickButton:"__autocomplete_click_button__",controlledPropUpdatedSelectedItem:"__autocomplete_controlled_prop_updated_selected_item__"};var A=function(){var e=this;this.root_handleClick=s(this.props.onClick,this.root_handleClick),this.input=null,this.items=[],this.itemCount=null,this.previousResultCount=0,this.setItemCount=function(t){return e.itemCount=t},this.unsetItemCount=function(){return e.itemCount=null},this.getItemNodeFromIndex=function(t){return e.props.environment.document.getElementById(e.getItemId(t))},this.setHighlightedIndex=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.defaultHighlightedIndex,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=h(n),e.internalSetState(w({highlightedIndex:t},n),e.scrollHighlightedItemIntoView)},this.scrollHighlightedItemIntoView=function(){!function(e,t){var n=k(e,t);if(null!==n){var r=getComputedStyle(n),i=n.getBoundingClientRect(),o=parseInt(r.borderTopWidth,10),a=o+parseInt(r.borderBottomWidth,10),s=i.top+o,c=e.getBoundingClientRect();if(c.top<0)n.scrollTop+=c.top;else if(c.top>0&&i.top<0)i.bottom>0&&c.bottom+a>i.bottom&&(n.scrollTop+=c.bottom-i.bottom+a);else{var l=c.top+n.scrollTop-s;l<n.scrollTop?n.scrollTop=l:l+c.height+a>n.scrollTop+i.height&&(n.scrollTop=l+c.height-i.height+a)}}}(e.getItemNodeFromIndex(e.getState().highlightedIndex),e._rootNode)},this.openAndHighlightDefaultIndex=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setHighlightedIndex(void 0,w({isOpen:!0},t))},this.highlightDefaultIndex=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setHighlightedIndex(void 0,t)},this.moveHighlightedIndex=function(t,n){e.getState().isOpen?e.changeHighlightedIndex(t,n):e.openAndHighlightDefaultIndex(n)},this.changeHighlightedIndex=function(t,n){var r=e.getItemCount()-1;if(!(r<0)){var i=e.getState().highlightedIndex;null===i&&(i=t>0?-1:r+1);var o=i+t;o<0?o=r:o>r&&(o=0),e.setHighlightedIndex(o,n)}},this.clearSelection=function(t){e.internalSetState({selectedItem:null,inputValue:"",isOpen:!1},function(){var n=e._rootNode.querySelector("#"+e.inputId);n&&n.focus&&n.focus(),i(t)()})},this.selectItem=function(t,n,r){n=h(n),e.internalSetState(w({isOpen:!1,highlightedIndex:e.props.defaultHighlightedIndex,selectedItem:t,inputValue:e.isControlledProp("selectedItem")&&e.props.breakingChanges.resetInputOnSelection?e.props.defaultInputValue:e.props.itemToString(t)},n),i(r))},this.selectItemAtIndex=function(t,n,r){var i=e.items[t];null!=i&&e.selectItem(i,n,r)},this.selectHighlightedItem=function(t,n){return e.selectItemAtIndex(e.getState().highlightedIndex,t,n)},this.rootRef=function(t){return e._rootNode=t},this.getRootProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).suppressRefError,r=void 0!==n&&n,i=t.refKey,o=void 0===i?"ref":i,a=_(t,["refKey"]);return e.getRootProps.called=!0,e.getRootProps.refKey=o,e.getRootProps.suppressRefError=r,w(E({},o,e.rootRef),a)},this.keyDownHandlers={ArrowDown:function(e){e.preventDefault();var t=e.shiftKey?5:1;this.moveHighlightedIndex(t,{type:T.stateChangeTypes.keyDownArrowDown})},ArrowUp:function(e){e.preventDefault();var t=e.shiftKey?-5:-1;this.moveHighlightedIndex(t,{type:T.stateChangeTypes.keyDownArrowUp})},Enter:function(e){this.getState().isOpen&&(e.preventDefault(),this.selectHighlightedItem({type:T.stateChangeTypes.keyDownEnter}))},Escape:function(e){e.preventDefault(),this.reset({type:T.stateChangeTypes.keyDownEscape})}},this.buttonKeyDownHandlers=w({},this.keyDownHandlers,{" ":function(e){e.preventDefault(),this.toggleMenu({type:T.stateChangeTypes.keyDownSpaceButton})}}),this.getButtonProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onClick,r=t.onKeyDown,i=_(t,["onClick","onKeyDown"]),o=e.getState().isOpen,a=i.disabled?{}:{onClick:s(n,e.button_handleClick),onKeyDown:s(r,e.button_handleKeyDown)};return w({role:"button","aria-label":o?"close menu":"open menu","aria-expanded":o,"aria-haspopup":!0},a,i)},this.button_handleKeyDown=function(t){e.buttonKeyDownHandlers[t.key]&&e.buttonKeyDownHandlers[t.key].call(e,t)},this.button_handleClick=function(t){t.preventDefault(),e.toggleMenu({type:T.stateChangeTypes.clickButton})},this.getLabelProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.getLabelProps.called=!0,e.getInputProps.called&&t.htmlFor&&t.htmlFor!==e.inputId)throw new Error('downshift: You provided the htmlFor of "'+t.htmlFor+'" for your label, but the id of your input is "'+e.inputId+'". You must either remove the id from your input or set the htmlFor of the label equal to the input id.');return e.inputId=l(e.inputId,t.htmlFor,c("downshift-input")),w({},t,{htmlFor:e.inputId})},this.getInputProps=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.onKeyDown,i=n.onBlur,o=n.onChange,a=n.onInput,u=_(n,["onKeyDown","onBlur","onChange","onInput"]);if(e.getInputProps.called=!0,e.getLabelProps.called&&u.id&&u.id!==e.inputId)throw new Error('downshift: You provided the id of "'+u.id+'" for your input, but the htmlFor of your label is "'+e.inputId+'". You must either remove the id from your input or set the htmlFor of the label equal to the input id.');e.inputId=l(e.inputId,u.id,c("downshift-input"));var p=Boolean(!1)?"onInput":"onChange",d=e.getState(),h=d.inputValue,f=d.isOpen,m=d.highlightedIndex,g=u.disabled?{}:(t={},E(t,p,s(o,a,e.input_handleChange)),E(t,"onKeyDown",s(r,e.input_handleKeyDown)),E(t,"onBlur",s(i,e.input_handleBlur)),t);return w({role:"combobox","aria-autocomplete":"list","aria-expanded":f,"aria-activedescendant":"number"==typeof m&&m>=0?e.getItemId(m):null,autoComplete:"off",value:h},g,u,{id:e.inputId})},this.input_handleKeyDown=function(t){t.key&&e.keyDownHandlers[t.key]&&e.keyDownHandlers[t.key].call(e,t)},this.input_handleChange=function(t){e.internalSetState({type:T.stateChangeTypes.changeInput,isOpen:!0,inputValue:t.target.value})},this.input_handleBlur=function(){e.isMouseDown||e.reset({type:T.stateChangeTypes.blurInput})},this.getItemProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onMouseEnter,r=t.onClick,i=t.index,o=t.item,a=void 0===o?function(e,t){throw new Error('The property "'+t+'" is required in "'+e+'"')}("getItemProps","item"):o,c=_(t,["onMouseEnter","onClick","index","item"]);return void 0===i?(e.items.push(a),i=e.items.indexOf(a)):e.items[i]=a,w({id:e.getItemId(i),onMouseEnter:s(n,function(){e.setHighlightedIndex(i,{type:T.stateChangeTypes.itemMouseEnter})}),onClick:s(r,function(){e.selectItemAtIndex(i)})},c)},this.clearItems=function(){e.items=[]},this.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];t=h(t),e.internalSetState(function(n){var r=n.selectedItem;return w({isOpen:!1,highlightedIndex:null,inputValue:e.props.itemToString(r)},t)},i(n))},this.toggleMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];t=h(t),e.internalSetState(function(e){var n=e.isOpen;return w({isOpen:!n},t)},function(){e.getState().isOpen&&e.highlightDefaultIndex(),i(n)()})},this.openMenu=function(t){e.internalSetState({isOpen:!0},i(t))},this.closeMenu=function(t){e.internalSetState({isOpen:!1},i(t))},this.updateStatus=function(e,t){var n=void 0;return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];n&&clearTimeout(n),n=setTimeout(function(){n=null,e.apply(void 0,i)},t)}}(function(){if(e._isMounted){var t=e.getState(),n=e.items[t.highlightedIndex]||{},i=e.getItemCount(),o=e.props.getA11yStatusMessage(w({itemToString:e.props.itemToString,previousResultCount:e.previousResultCount,resultCount:i,highlightedItem:n},t));e.previousResultCount=i,r(o)}},200)};T.default=T,t.a=T},658:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(6),u=(n(1),n(0)),p=n.n(u),d=n(2),h=n(12),f=n(7),m=n.n(f),g=n(10),v=n(19),y=n.n(v),b=n(629),E=n(921),w=n(42),_=n(14),S=new m.a("after-claim-invite-coauthors"),I=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.onSkip=function(){Object(_.a)(r.props.milestones.skip),YRG.fire("invitations.AfterClaimInviteCoauthors:close"),r.props.onSkipped&&r.props.onSkipped()},r.onInvite=function(){r.setState({inviteButtonStatus:"busy"}),Object(g.default)("invitations.AfterClaimInviteCoauthors.html",{method:"POST",body:{authors:r.props.authors,invitationContext:r.props.invitationContext}}).then(function(e){var t=e.result.invitedAuthorNames,n=Object.keys(t).length,i=n>1?"You've invited "+n+" researchers":"You've invited "+t[0];r.props.dispatch(Object(h.pushAlert)(function(){return p.a.createElement(d.Alert,{title:"Your invitation is on the way",description:i,color:"green"})})),r.props.onInvited&&r.props.onInvited(),YRG.fire("invitations.AfterClaimInviteCoauthors:close")}).catch(function(e){r.setState({inviteButtonStatus:""});var t="Something went wrong";e.errors&&(t=e.errors[0]),r.props.dispatch(Object(h.pushAlert)(function(){return p.a.createElement(d.Alert,{title:"Invalid email addresses.",description:t,color:"red"})}))})},r.getTooltipContents=function(){return p.a.createElement("div",{className:"tooltip"},p.a.createElement(d.Text,{size:"m"},p.a.createElement("b",null,"From:")),p.a.createElement(d.Text,{size:"m",spacing:"xs"},r.props.inviterAccount.fullname," via ResearchGate"),p.a.createElement(d.Text,{size:"m"},p.a.createElement("b",null,"Subject:")),p.a.createElement(d.Text,{size:"m",spacing:"xs"},r.props.inviterAccount.fullname," invited you to confirm authorship of your work"),p.a.createElement(d.Text,{size:"m"},p.a.createElement("b",null,"Message:")),p.a.createElement(d.Text,{size:"m",spacing:"xxs"},r.props.inviterAccount.fullname," invited you to join ResearchGate and confirm authorship of your publications."))},r.state={inviteButtonStatus:"disabled"},r}return c()(t,e),t.prototype.componentWillReceiveProps=function(e){var t=!1;for(var n in e.authors)if(e.authors.hasOwnProperty(n)){if(e.authors[n].email.length>4){t=!0;break}}this.setState({inviteButtonStatus:t?"":"disabled"})},t.prototype.getHeader=function(){var e="Some of your co-authors aren't on ResearchGate yet.";this.props.header?e=this.props.header:this.props.showSocialProof&&this.props.unconfirmedCoauthorsCount?e=this.props.unconfirmedCoauthorsCount+"% of your co-authors aren't confirmed yet.":this.props.unconfirmedCoauthorsCount&&(e=this.props.unconfirmedCoauthorsCount+"% of your co-authors aren't on ResearchGate yet.");var t="Quickly invite them to confirm their authorship and gain more visibility for your mutual work.";return this.props.subHeader?t=this.props.subHeader:this.props.showSocialProof&&(t="Publications with confirmed co-authors are easier to find by researchers in your field on ResearchGate."),p.a.createElement("div",S("header"),p.a.createElement(d.MediaObject,{verticalAlign:"top",gutter:"none"},p.a.createElement(d.MediaObject.Item,{width:"full"},p.a.createElement(d.Text,{size:"xl",family:"sans-serif",spacing:"s",tag:"div"},e),p.a.createElement(d.Text,{size:"m",family:"sans-serif",spacing:"s",tag:"div"},t),this.getSocialProof()),p.a.createElement(d.MediaObject.Item,null,"default"===this.props.variant?p.a.createElement("img",{src:"https://c5.rgstatic.net/m/4819445351554/images/symbols/mail-grey.svg",width:"80",height:"80"}):null)))},t.prototype.getSocialProof=function(){if(!this.props.socialProof)return null;var e=Object.keys(this.props.socialProofDisplayableAccounts).length;if(e<=0)return null;var t=void 0;if(1===e)t=p.a.createElement("span",null,p.a.createElement("b",null,Object.values(this.props.socialProofDisplayableAccounts)[0].fullName)," is an already confirmed co-author on ResearchGate");else if(2===e){var n=this.props.socialProof.coauthorAccountIdsTotalCount;2===n?t=p.a.createElement("span",null,p.a.createElement("b",null,Object.values(this.props.socialProofDisplayableAccounts)[0].fullName)," and ",p.a.createElement("b",null,Object.values(this.props.socialProofDisplayableAccounts)[1].fullName)," are already confirmed co-authors on ResearchGate"):n>=3&&(t=p.a.createElement("span",null,p.a.createElement("b",null,Object.values(this.props.socialProofDisplayableAccounts)[0].fullName),", ",p.a.createElement("b",null,Object.values(this.props.socialProofDisplayableAccounts)[1].fullName),", and ",p.a.createElement("b",null,n," ",y()("other",n))," are already confirmed co-authors on ResearchGate"))}return p.a.createElement(d.MediaObject.Item,S("social-proof"),p.a.createElement(d.Pack,{width:"auto",verticalAlign:"middle",gutter:"none"},p.a.createElement(d.Pack.Item,null,p.a.createElement(b.a,Object.assign({},S("facepile"),{accountIds:this.props.socialProof.coauthorAccountIdsDisplayed,size:"m"}))),p.a.createElement(d.Pack.Item,null,p.a.createElement(d.Text,{size:"m"},t))))},t.prototype.getBody=function(){return p.a.createElement(E.a,{onInvite:this.onInvite,widgetId:this.props.inviteAuthorsList})},t.prototype.getFooter=function(){return p.a.createElement("div",S("footer"),p.a.createElement(d.Pack,{verticalAlign:"middle",width:"full"},p.a.createElement(d.Pack.Item,null,p.a.createElement(d.Tooltip,{scope:"local",target:p.a.createElement(d.Link,S("preview-link"),p.a.createElement(d.Text,{size:"m"},"Preview email"))},this.getTooltipContents())),p.a.createElement(d.Pack.Item,null,p.a.createElement(d.ButtonGroup,S("footer-actions"),p.a.createElement(d.Button,{size:"m",theme:"bare",color:"blue",onClick:this.onSkip,type:"button"},p.a.createElement(d.Button.Label,null,"Skip")),p.a.createElement(d.Button,{size:"m",theme:"solid",color:"blue",onClick:this.onInvite,status:this.state.inviteButtonStatus,type:"button"},p.a.createElement(d.Button.Label,null,"Invite co-authors"))))))},t.prototype.render=function(){return p.a.createElement("div",S(),this.getHeader(),this.getBody(),this.getFooter())},t}(u.Component);t.a=Object(l.connectWidget)(function(e,t){var n=[];return t.socialProof&&t.socialProof.coauthorAccountIdsDisplayed&&t.socialProof.coauthorAccountIdsDisplayed.forEach(function(t){n.push(Object(w.c)(e,{accountId:t}))}),{socialProofDisplayableAccounts:n,authors:e.invitationsInviteAuthorsList.authors}})(I)},661:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(1),d=(n.n(p),n(6)),h=n(10),f=n(7),m=n.n(f),g=n(1087),v=n(1552),y=n(340),b=new m.a({name:"institution-select"}),E=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleChange=function(e){r.props.multi?r.handleMultiChange(e):r.handleSingleChange(e)},r.handleLoadOptions=function(e){var t=r.props,n=t.excludedIds,i=t.allTypes;return e.length<2?Promise.resolve({options:[]}):Object(h.default)(r.props.searchUrl,{method:"GET",query:{query:e,excludedIds:n,allTypes:i}}).then(function(e){return{options:e.result}})},r.handleOptionRender=function(e){var t=e.name,n=e.city,r=e.country,i=e.synonym;return u.a.createElement("span",null,u.a.createElement("span",null,t),n&&u.a.createElement("span",null,", ",n),r&&u.a.createElement("span",null,", ",r),i&&u.a.createElement("span",b("synonym"),i))},o=n,a()(r,o)}return c()(t,e),t.prototype.handleSingleChange=function(e){if(null!==e){var t=e.id,n=e.state,r=e.name,i=e.adminUrl;this.props.dispatch(Object(v.b)(n)),this.props.onChange(t,{name:r,adminUrl:i})}else this.props.onChange(null)},t.prototype.handleMultiChange=function(e){for(var t=new Set,n=e,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o,s=a.id,c=a.state;this.props.dispatch(Object(v.b)(c)),t.add(s)}this.props.onChange(Array.from(t))},t.prototype.render=function(){return u.a.createElement(y.a,Object.assign({},this.props,{value:this.props.selectedItems,labelKey:"name",valueKey:"id",onChange:this.handleChange,loadOptions:this.handleLoadOptions,optionRenderer:this.handleOptionRender,isAsync:!0,ignoreAccents:!1,ignoreCase:!1,filterOptions:null,multi:this.props.multi}))},t}(l.Component);E.defaultProps={placeholder:"Select institutions",searchPromptText:"Start typing to see institutions",searchUrl:"application.InstitutionSelect.ajaxInstitutions.html",allTypes:!1},t.a=Object(d.connectWidget)(function(e,t){var n=!1!==t.multi,r=function(t){var n=Object(g.a)(e,{institutionId:t});return{id:t,name:n?n.get("name"):"Deleted institution "+t}};return{selectedItems:function(e){return n?e?e.map(function(e){return r(e)}):[]:e?r(e):null}(t.value),multi:n}})(E)},700:function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return v}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return E});var r=n(16),i=n.n(r),o=n(0),a=n.n(o),s=n(74),c=n(70),l=n(17),u=n(12),p=n(49),d=n(120),h=n(316),f=n(48),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.parentIds,r=t.limit,i=t.offset,o=t.focusedCommentId;return function(t){var c=new l.a(e,l.b.TYPE_PUBLICATION).getFullKey();return t(Object(d.r)(String(e),!0)),Object(h.d)(c,{parentIds:n,limit:r,offset:i,focusedCommentId:o}).catch(function(e){var n=e.message;t(Object(u.pushAlert)(function(){return a.a.createElement(s.a,{title:n})}))}).then(function(e){t(Object(p.b)(e))}).then(function(){t(Object(d.r)(String(e),!1))})}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=t.offset;return function(t){return t(Object(d.s)(e,!0)),Object(h.e)(e,{offset:r,limit:n}).then(function(e){t(Object(p.b)(e))}).then(function(){t(Object(d.s)(e,!1))})}},v=function(e,t){return function(n){return n(Object(d.n)(e,t)).then(function(){n(Object(u.pushAlert)(function(){return a.a.createElement(c.a,{title:"Comment deleted"})}))}).catch(function(e){var t=e.message;n(Object(u.pushAlert)(function(){return a.a.createElement(s.a,{title:"Comment could not be deleted",description:t})}))})}},y=function(e,t,n,r){return function(i){return i(Object(d.k)(t,n,r)).then(function(){Object(f.a)(["rg-base"],function(t){t.fire("publicationCommentCreated",{publicationUid:e})}),i(Object(u.pushAlert)(function(){return a.a.createElement(c.a,{title:"Comment added",description:"Your comment is now visible to the authors and others."})}))})}},b=function(e,t,n){var r=e.publicationUid,o=i()(e,["publicationUid"]),a=new l.a(r,l.b.TYPE_PUBLICATION).getFullKey(),s=Object.assign({rootId:a,parentId:a},o);return y(r,s,t,n)},E=function(e,t,n){var r=e.publicationUid,o=e.assetKey,a=i()(e,["publicationUid","assetKey"]),s=new l.a(r,l.b.TYPE_PUBLICATION).getFullKey(),c=Object.assign({rootId:s,parentId:o},a);return y(r,c,t,n)}},705:function(e,t,n){"use strict";function r(e){switch(e.pointOfView){case y.a.FIRST_PERSON:return"my";case y.a.SECOND_PERSON:return"your";case y.a.THIRD_PERSON:default:return"their"}}function i(e){return function(e){var t=e.accountFirstname;switch(e.pointOfView){case y.a.FIRST_PERSON:return"my";case y.a.SECOND_PERSON:return"your";case y.a.THIRD_PERSON:default:return t+"'s"}}({accountFirstname:e.accountFirstname,pointOfView:e.pointOfView})}function o(e){switch(e.targetGroup){case m.e.PUBLICATIONS:return"publication";case m.e.PROJECTS:return"project";case m.e.QUESTIONS:return"question";case m.e.ANSWERS:return"answer";case m.e.PROJECT_UPDATES:return"project update";case m.e.RESEARCH:return"contribution";default:return null}}function a(e){var t=e.targetType,n=e.targetTypeName,r=e.targetGroup;if(t===w.b.TYPE_ACCOUNT)return E.a.plural(o(e));if(t===w.b.TYPE_PUBLICATION&&n)return Object(_.b)(n);if(t===w.b.TYPE_PROJECT)return"project";var i=r?o(e):null;return i||t}function s(e){var t=e.value;return I()(t).format("0,0")}function c(e){switch(e.interactionType){case m.b.CITED:return"citations";case m.b.FOLLOWED:return"followers";case m.b.READ:return"reads";case m.b.RECOMMENDED:return"recommendations";case m.b.VIEWED:return"views";case m.b.DOWNLOADED:return"downloads"}}function l(e){return[v()(i(e)),a(e),"reached",s(e),c(e)].join(" ")}function u(e){return C.hasOwnProperty(e)}function p(e){return u(e)?function(e){return u(e)?!0===C[e]?"the":C[e]:""}(e)+" "+e:e}function d(e){var t=a(e),n=E.a.isPlural(t)?"were":"was",o=["With",s(e),"new",c(e)+",",i(e),t,n+" the most",function(e){switch(e.interactionType){case m.b.CITED:return"cited";case m.b.FOLLOWED:return"followed";case m.b.READ:return"read";case m.b.RECOMMENDED:return"recommended";case m.b.VIEWED:return"viewed";case m.b.DOWNLOADED:return"downloaded"}}(e),t];return e.domainKey&&o.push(function(e){var t=e.domainKeyType,n=e.domainKeyName,i=e.pointOfView;switch(t){case w.b.TYPE_SCIENCE:return O+" "+n;case w.b.TYPE_COUNTRY:return O+" "+p(n);case w.b.TYPE_INSTITUTION:return O+" "+r({pointOfView:i})+" institution";case w.b.TYPE_DEPARTMENT:return O+" "+r({pointOfView:i})+" department"}}(e)),o}function h(e){switch(e.storyType){case m.d.MILESTONE:return l(e);case m.d.MOST_MONTHLY:case m.d.MOST_WEEKLY:return function(e){return d(e).join(" ")}(e)}}function f(e){switch(e.storyType){case m.d.MILESTONE:return l(e);case m.d.MOST_MONTHLY:case m.d.MOST_WEEKLY:return function(e){var t=e.storyType,n=d(e);switch(t){case m.d.MOST_WEEKLY:n.push("last week");break;case m.d.MOST_MONTHLY:n.push("last month")}return n.join(" ")}(e)}}var m=n(263),g=n(126),v=n.n(g),y=n(618),b=n(19),E=n.n(b),w=n(17),_=n(441),S=n(43),I=n.n(S),C={"Aland Islands":!0,Bahamas:!0,"British Indian Ocean Territory":!0,"British Virgin Islands":!0,"Cayman Islands":!0,"Central African Republic":!0,"Cocos Islands":!0,Comoros:!0,"Cook Islands":!0,"Czech Republic":!0,"Democratic Republic of the Congo":!0,"Dominican Republic":!0,"Falkland Islands":!0,"Faroe Islands":!0,"French Southern Territories":!0,Gambia:!0,"Heard Island and McDonald Islands":!0,"Isle of Man":!0,"Marshall Islands":!0,Netherlands:!0,"Netherlands Antilles":!0,"Northern Mariana Islands":!0,Pitcairn:!0,"Pitcairn Islands":!0,"Republic of the Congo":!0,Seychelles:!0,"Solomon Islands":!0,"Turks and Caicos Islands":!0,"United Arab Emirates":!0,"United Kingdom":!0,"United States":!0,"United States Minor Outlying Islands":!0,"U.S. Virgin Islands":!0},O="from";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return f})},706:function(e,t,n){"use strict";var r=n(11),i=n.n(r),o=n(0),a=n.n(o),s=n(1),c=(n.n(s),n(8)),l=n.n(c),u=n(6),p=n(13),d=(n.n(p),n(493),i()(["\n        query SuccessStoryTargetTitle($id: ID!) {\n            successStory(id: $id) {\n                ...SucessStoryTargetTitle\n            }\n        }\n    "],["\n        query SuccessStoryTargetTitle($id: ID!) {\n            successStory(id: $id) {\n                ...SucessStoryTargetTitle\n            }\n        }\n    "]));t.a=l()(Object(u.connectWidget)(),Object(p.withQuery)(Object(p.gql)(d),{mapDataToProps:function(e){var t=e.successStory.target,n=t.__typename,r=t.url,i=void 0;switch(n){case"Message":i=t.title?t.title:t.body;break;case"Post":if(!t.message){i=t.title;break}i=t.message.title?t.message.title:t.message.body;break;default:i=t.title}return{title:i,url:r}}}))(function(e){var t=e.title;return a.a.createElement("span",null,t)})},709:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(1),d=(n.n(p),n(2)),h=n(33),f=n.n(h),m=n(68),g=n.n(m),v=n(6),y=n(10),b=n(433),E=n(225),w=n(14),_=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleClick=function(){var e=r.props,t=e.dispatch,n=e.origin,i=e.milestoneSidebarOpenedParams,o=e.payload;t(Object(b.b)(!0,n)),r.startExperiment().then(function(){Object(w.a)(i),f()(o)||Object(E.a)(o)})},o=n,a()(r,o)}return c()(t,e),t.prototype.startExperiment=function(){var e=g()(this.props.viewId);return Object(y.default)(this.props.startExperimentUrl,{method:"POST",query:{viewId:e}})},t.prototype.render=function(){var e=["content-creation-button"];return this.props.origin&&e.push("content-creation-button-"+this.props.origin),u.a.createElement(d.Button,{type:"button",size:"s",className:e.join(" "),onClick:this.handleClick},u.a.createElement(d.Button.Icon,{identifier:"plus-circle"}),u.a.createElement(d.Button.Label,null,"Add new"))},t}(l.Component);t.a=Object(v.connectWidget)()(_)},713:function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(0)),o=n.n(i),a=n(6),s=n(2),c=n(17),l=n(94),u=n(7),p=n.n(u),d=n(28),h=new p.a({name:"ad-campaign-chart-container"}),f=[c.b.TYPE_DFPORDER,c.b.TYPE_HOSTEDCONTENT,c.b.TYPE_DIRECTPROMOTION];t.a=Object(a.connectWidget)(function(e){var t=Object(l.q)(e);if(!f.includes(t))return{isDisabled:!0};var n=Object(l.j)(e),r=n.startDate,i=n.endDate,o=Object(l.m)(e);if(o){return{rgKeys:[new c.a(o,c.b.TYPE_DFPLINEITEM).toString()],startDate:r,endDate:i}}var a=Object(l.o)(e);if(a){return{rgKeys:[new c.a(a,c.b.TYPE_DFPORDER).toString()],startDate:r,endDate:i}}var s=Object(l.b)(e,t);return s.length?{rgKeys:s,startDate:r,endDate:i}:{isDisabled:!0}})(function(e){var t=e.isDisabled,r=e.rgKeys,i=e.startDate,a=e.endDate;return t?null:o.a.createElement(s.Card,h(),o.a.createElement("div",h("placeholder"),o.a.createElement(d.a,{url:"adminads.AdCampaignChart.html",widgetParams:{rgKeys:r,startDate:i,endDate:a},loadComponentInternalDoNotSetOrYouWillBeFired:function(e){return n.e(12).then(function(){var t=[n(1413)];e.apply(null,t)}.bind(this)).catch(n.oe)}})))})},714:function(e,t,n){"use strict";function r(e){var t=e.disciplines,n=e.selectedIds;if(0===n.length)return h.a.createElement("span",null);var r=t.map(function(e){var t=e.id,r=e.name,i=e.children;if(n.includes(t))return h.a.createElement("div",{key:r},r);var o=i.filter(function(e){var t=e.id;return n.includes(t)}).map(function(e){return h.a.createElement("div",Object.assign({},y("second-level"),{key:e.name}),e.name)});return o.length?h.a.createElement("div",{key:r},h.a.createElement("div",y("title"),r),o):null});return h.a.createElement("div",y(),h.a.createElement(v.Text,y("header"),"Selected disciplines"),h.a.createElement("div",y("list"),r))}var i=n(3),o=n.n(i),a=n(4),s=n.n(a),c=n(5),l=n.n(c),u=n(1),p=n.n(u),d=n(0),h=n.n(d),f=n(6),m=n(7),g=n.n(m),v=n(2),y=new g.a({name:"disciplines-tree"}),b=(p.a.number.isRequired,p.a.string.isRequired,n(340)),E=3,w=function(e){function t(){var n,r,i;o()(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s()(this,e.call.apply(e,[this].concat(c))),r.handleChange=function(e){var t=e.map(function(e){return e.value});r.props.onChange(t)},r.handleRenderOption=function(e){var t=e.label,n=e.isParent?"strong":"span";return h.a.createElement(n,null,t)},r.filterOption=function(e,t){if(!t)return!0;if(t.length>=E&&e.parent&&e.parent.toLowerCase().substr(0,t.length)===t)return!0;return String(e.label).toLowerCase().indexOf(t)>=0},i=n,s()(r,i)}return l()(t,e),t.prototype.getOption=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{label:e.name,value:e.id,parent:n,isParent:t}},t.prototype.render=function(){var e,t=this,n=this.props,i=n.disciplines,o=n.selectedIds,a=n.showTree,s=n.clearBtn,c=i.map(function(e){var n=t.getOption(e,!0),r=e.children.map(function(e){return t.getOption(e,!1,n.label)});return[n].concat(r)}),l=(e=[]).concat.apply(e,c);return h.a.createElement("div",null,h.a.createElement(b.a,{onChange:this.handleChange,options:l,value:o,optionRenderer:this.handleRenderOption,filterOption:this.filterOption,clearBtn:s}),a?h.a.createElement(r,{disciplines:i,selectedIds:o}):null)},t}(d.Component);p.a.number.isRequired,p.a.string.isRequired;w.defaultProps={multi:!0,showTree:!0};t.a=Object(f.connectWidget)()(w)},715:function(e,t,n){"use strict";function r(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}function i(e,t,n){return e.set(t,n)}function o(e,t,n){return e.add(t,n)}function a(e,t,n){return e.subtract(t,n)}function s(e,t){return e.get(t)}function c(e,t){return e.startOf(t)}function l(e){return J()(e)}function u(e){return null==e?l():function(e){return J()().utc().utcOffset(e)}(e)}function p(e){return e.clone()}function d(e){return J.a.isMoment(e)}function h(e,t){return e.format(t)}function f(e,t){var n=t.hour,r=t.minute,i=t.second;return e.set({hour:n,minute:r,second:i}),e}function m(e){return s(e,"minute")}function g(e){return s(e,"hour")}function v(e){return s(e,"month")}function y(e){return s(e,"year")}function b(e){return s(e,"date")}function E(e){return c(e,"week")}function w(e,t){return o(e,t,"minutes")}function _(e,t){return o(e,t,"days")}function S(e,t){return o(e,t,"weeks")}function I(e,t){return o(e,t,"months")}function C(e,t){return a(e,t,"months")}function O(e,t){return e.isBefore(t)}function x(e,t){return e.isAfter(t)}function k(e,t){return function(e,t,n){return e.isSame(t,n)}(e,t,"month")}function j(e,t){return e&&t?e.isSame(t,"day"):!e&&!t}function T(e,t,n){var r=t.clone().startOf("day").subtract(1,"seconds"),i=n.clone().startOf("day").add(1,"seconds");return e.clone().startOf("day").isBetween(r,i)}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate;return n&&e.isBefore(n,"day")||r&&e.isAfter(r,"day")||i&&i.some(function(t){return j(e,t)})||o&&!o.some(function(t){return j(e,t)})||a&&!a(e.clone())||!1}function P(e,t){for(var n=t.length,r=0;r<n;r++)if(t[r].get("hours")===e.get("hours")&&t[r].get("minutes")===e.get("minutes"))return!0;return!1}function M(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=J()().hours(0).minutes(0).seconds(0),o=i.clone().hours(e.get("hours")).minutes(e.get("minutes")),a=i.clone().hours(n.get("hours")).minutes(n.get("minutes")),s=i.clone().hours(r.get("hours")).minutes(r.get("minutes"));return!(o.isSameOrAfter(a)&&o.isSameOrBefore(s))}function D(e){var t=e.minDate,n=e.includeDates;return n&&t?J.a.min(n.filter(function(e){return t.isSameOrBefore(e,"day")})):n?J.a.min(n):t}function R(e){var t=e.maxDate,n=e.includeDates;return n&&t?J.a.max(n.filter(function(e){return t.isSameOrAfter(e,"day")})):n?J.a.max(n):t}var N,L=n(0),F=n.n(L),U=n(1),B=n.n(U),q=n(15),V=n.n(q),W=n(44),z=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}},H=function(e){return void 0===e&&(e=0),function(){return++e}}(),Y={},K={},G=["touchstart","touchmove"],Q="ignore-react-onclickoutside",$=function(e,t){var n,i;return i=n=function(n){function i(e){var t;return t=n.call(this,e)||this,t.__outsideClickHandler=function(e){if("function"!=typeof t.__clickOutsideHandlerProp){var n=t.getInstance();if("function"!=typeof n.props.handleClickOutside){if("function"!=typeof n.handleClickOutside)throw new Error("WrappedComponent lacks a handleClickOutside(event) function for processing outside click events.");n.handleClickOutside(e)}else n.props.handleClickOutside(e)}else t.__clickOutsideHandlerProp(e)},t.enableOnClickOutside=function(){if("undefined"!=typeof document&&!K[t._uid]){void 0===N&&(N=z()),K[t._uid]=!0;var e=t.props.eventTypes;e.forEach||(e=[e]),Y[t._uid]=function(e){t.props.disableOnClickOutside||null===t.componentNode||(t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),t.props.excludeScrollbar&&function(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}(e))||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(r(e,t,n))return!0;e=e.parentNode}return e}(e.target,t.componentNode,t.props.outsideClickIgnoreClass)===document&&t.__outsideClickHandler(e)},e.forEach(function(e){var n=null;-1!==G.indexOf(e)&&N&&(n={passive:!t.props.preventDefault}),document.addEventListener(e,Y[t._uid],n)})}},t.disableOnClickOutside=function(){delete K[t._uid];var e=Y[t._uid];if(e&&"undefined"!=typeof document){var n=t.props.eventTypes;n.forEach||(n=[n]),n.forEach(function(t){return document.removeEventListener(t,e)}),delete Y[t._uid]}},t.getRef=function(e){return t.instanceRef=e},t._uid=H(),t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(i,n);var o=i.prototype;return o.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},o.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=Object(W.findDOMNode)(this.getInstance()),this.enableOnClickOutside()}},o.componentDidUpdate=function(){this.componentNode=Object(W.findDOMNode)(this.getInstance())},o.componentWillUnmount=function(){this.disableOnClickOutside()},o.render=function(){var t=this.props,n=(t.excludeScrollbar,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["excludeScrollbar"]));return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(L.createElement)(e,n)},i}(L.Component),n.displayName="OnClickOutside("+(e.displayName||e.name||"Component")+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:Q,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},i},X=n(46),J=n.n(X),Z=n(2459),ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),re=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ie=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},oe=function(e){function t(n){te(this,t);var r=ie(this,e.call(this,n));r.renderOptions=function(){var e=r.props.year,t=r.state.yearsList.map(function(t){return F.a.createElement("div",{className:"react-datepicker__year-option",key:t,ref:t,onClick:r.onChange.bind(r,t)},e===t?F.a.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",t)}),n=r.props.minDate?r.props.minDate.year():null,i=r.props.maxDate?r.props.maxDate.year():null;return i&&r.state.yearsList.find(function(e){return e===i})||t.unshift(F.a.createElement("div",{className:"react-datepicker__year-option",ref:"upcoming",key:"upcoming",onClick:r.incrementYears},F.a.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),n&&r.state.yearsList.find(function(e){return e===n})||t.push(F.a.createElement("div",{className:"react-datepicker__year-option",ref:"previous",key:"previous",onClick:r.decrementYears},F.a.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},r.onChange=function(e){r.props.onChange(e)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(e){var t=r.state.yearsList.map(function(t){return t+e});r.setState({yearsList:t})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,a=i||(o?10:5);return r.state={yearsList:function(e,t,n,r){for(var i=[],o=0;o<2*t+1;o++){var a=e+t-o,s=!0;n&&(s=n.year()<=a),r&&s&&(s=r.year()>=a),s&&i.push(a)}return i}(r.props.year,a,r.props.minDate,r.props.maxDate)},r}return re(t,e),t.prototype.render=function(){var e=V()({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return F.a.createElement("div",{className:e},this.renderOptions())},t}(F.a.Component);oe.propTypes={minDate:B.a.object,maxDate:B.a.object,onCancel:B.a.func.isRequired,onChange:B.a.func.isRequired,scrollableYearDropdown:B.a.bool,year:B.a.number.isRequired,yearDropdownItemNumber:B.a.number};var ae={1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat",7:"sun"},se=$(oe),ce=function(e){function t(){var n,r,i;te(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=ie(this,e.call.apply(e,[this].concat(a))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var e=r.props.minDate?y(r.props.minDate):1900,t=r.props.maxDate?y(r.props.maxDate):2100,n=[],i=e;i<=t;i++)n.push(F.a.createElement("option",{key:i,value:i},i));return n},r.onSelectChange=function(e){r.onChange(e.target.value)},r.renderSelectMode=function(){return F.a.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(e){return F.a.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},F.a.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),F.a.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return F.a.createElement(se,{key:"dropdown",ref:"options",year:r.props.year,onChange:r.onChange,onCancel:r.toggleDropdown,minDate:r.props.minDate,maxDate:r.props.maxDate,scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})},r.renderScrollMode=function(){var e=r.state.dropdownVisible,t=[r.renderReadView(!e)];return e&&t.unshift(r.renderDropdown()),t},r.onChange=function(e){r.toggleDropdown(),e!==r.props.year&&r.props.onChange(e)},r.toggleDropdown=function(){r.setState({dropdownVisible:!r.state.dropdownVisible})},i=n,ie(r,i)}return re(t,e),t.prototype.render=function(){var e=void 0;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return F.a.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--"+this.props.dropdownMode},e)},t}(F.a.Component);ce.propTypes={dropdownMode:B.a.oneOf(["scroll","select"]).isRequired,maxDate:B.a.object,minDate:B.a.object,onChange:B.a.func.isRequired,scrollableYearDropdown:B.a.bool,year:B.a.number.isRequired,yearDropdownItemNumber:B.a.number};var le=function(e){function t(){var n,r,i;te(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=ie(this,e.call.apply(e,[this].concat(a))),r.renderOptions=function(){return r.props.monthNames.map(function(e,t){return F.a.createElement("div",{className:"react-datepicker__month-option",key:e,ref:e,onClick:r.onChange.bind(r,t)},r.props.month===t?F.a.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",e)})},r.onChange=function(e){return r.props.onChange(e)},r.handleClickOutside=function(){return r.props.onCancel()},i=n,ie(r,i)}return re(t,e),t.prototype.render=function(){return F.a.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())},t}(F.a.Component);le.propTypes={onCancel:B.a.func.isRequired,onChange:B.a.func.isRequired,month:B.a.number.isRequired,monthNames:B.a.arrayOf(B.a.string.isRequired).isRequired};var ue=$(le),pe=function(e){function t(){var n,r,i;te(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=ie(this,e.call.apply(e,[this].concat(a))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(e){return e.map(function(e,t){return F.a.createElement("option",{key:t,value:t},e)})},r.renderSelectMode=function(e){return F.a.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(e){return r.onChange(e.target.value)}},r.renderSelectOptions(e))},r.renderReadView=function(e,t){return F.a.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},F.a.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),F.a.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},t[r.props.month]))},r.renderDropdown=function(e){return F.a.createElement(ue,{key:"dropdown",ref:"options",month:r.props.month,monthNames:e,onChange:r.onChange,onCancel:r.toggleDropdown})},r.renderScrollMode=function(e){var t=r.state.dropdownVisible,n=[r.renderReadView(!t,e)];return t&&n.unshift(r.renderDropdown(e)),n},r.onChange=function(e){r.toggleDropdown(),e!==r.props.month&&r.props.onChange(e)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},i=n,ie(r,i)}return re(t,e),t.prototype.render=function(){var e=this,t=function(e){return J.a.localeData(e)}(this.props.locale),n=[0,1,2,3,4,5,6,7,8,9,10,11].map(function(n){return function(e,t,n){return e.months(t,n)}(t,l({M:n}),e.props.dateFormat)}),r=void 0;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(n);break;case"select":r=this.renderSelectMode(n)}return F.a.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--"+this.props.dropdownMode},r)},t}(F.a.Component);pe.propTypes={dropdownMode:B.a.oneOf(["scroll","select"]).isRequired,locale:B.a.string,dateFormat:B.a.string.isRequired,month:B.a.number.isRequired,onChange:B.a.func.isRequired};var de=function(e){function t(){var n,r,i;te(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=ie(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){!r.isDisabled()&&r.props.onClick&&r.props.onClick(e)},r.handleMouseEnter=function(e){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(e)},r.isSameDay=function(e){return j(r.props.day,e)},r.isKeyboardSelected=function(){return!r.props.inline&&!r.isSameDay(r.props.selected)&&r.isSameDay(r.props.preSelection)},r.isDisabled=function(){return A(r.props.day,r.props)},r.getHighLightedClass=function(e){var t=r.props,n=t.day,i=t.highlightDates;if(!i){var o;return o={},o[e]=!1,o}for(var a={},s=0,c=i.length;s<c;s++){var l=i[s];if(d(l))j(n,l)&&(a[e]=!0);else if("object"===(void 0===l?"undefined":ee(l))){var u=Object.keys(l),p=l[u[0]];if("string"==typeof u[0]&&p.constructor===Array)for(var h=0,f=p.length;h<f;h++)j(n,p[h])&&(a[u[0]]=!0)}}return a},r.isInRange=function(){var e=r.props,t=e.day,n=e.startDate,i=e.endDate;return!(!n||!i)&&T(t,n,i)},r.isInSelectingRange=function(){var e=r.props,t=e.day,n=e.selectsStart,i=e.selectsEnd,o=e.selectingDate,a=e.startDate,s=e.endDate;return!(!n&&!i||!o||r.isDisabled())&&(n&&s&&o.isSameOrBefore(s)?T(t,o,s):!!(i&&a&&o.isSameOrAfter(a))&&T(t,a,o))},r.isSelectingRangeStart=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,i=e.startDate;return e.selectsStart?j(t,n):j(t,i)},r.isSelectingRangeEnd=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,i=e.endDate;return e.selectsEnd?j(t,n):j(t,i)},r.isRangeStart=function(){var e=r.props,t=e.day,n=e.startDate,i=e.endDate;return!(!n||!i)&&j(n,t)},r.isRangeEnd=function(){var e=r.props,t=e.day,n=e.startDate,i=e.endDate;return!(!n||!i)&&j(i,t)},r.isWeekend=function(){var e=function(e){return s(e,"day")}(r.props.day);return 0===e||6===e},r.isOutsideMonth=function(){return void 0!==r.props.month&&r.props.month!==v(r.props.day)},r.getClassNames=function(e){var t=r.props.dayClassName?r.props.dayClassName(e):void 0;return V()("react-datepicker__day",t,"react-datepicker__day--"+function(e){return ae[e.isoWeekday()]}(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--selected":r.isSameDay(r.props.selected),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isSameDay(u(r.props.utcOffset)),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isOutsideMonth()},r.getHighLightedClass("react-datepicker__day--highlighted"))},i=n,ie(r,i)}return re(t,e),t.prototype.render=function(){return F.a.createElement("div",{className:this.getClassNames(this.props.day),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,"aria-label":"day-"+b(this.props.day),role:"option"},b(this.props.day))},t}(F.a.Component);de.propTypes={day:B.a.object.isRequired,dayClassName:B.a.func,endDate:B.a.object,highlightDates:B.a.array,inline:B.a.bool,month:B.a.number,onClick:B.a.func,onMouseEnter:B.a.func,preSelection:B.a.object,selected:B.a.object,selectingDate:B.a.object,selectsEnd:B.a.bool,selectsStart:B.a.bool,startDate:B.a.object,utcOffset:B.a.number};var he=function(e){function t(){var n,r,i;te(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=ie(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){r.props.onClick&&r.props.onClick(e)},i=n,ie(r,i)}return re(t,e),t.prototype.render=function(){var e={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!this.props.onClick};return F.a.createElement("div",{className:V()(e),"aria-label":"week-"+this.props.weekNumber,onClick:this.handleClick},this.props.weekNumber)},t}(F.a.Component);he.propTypes={weekNumber:B.a.number.isRequired,onClick:B.a.func};var fe=function(e){function t(){var n,r,i;te(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=ie(this,e.call.apply(e,[this].concat(a))),r.handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleWeekClick=function(e,t,n){"function"==typeof r.props.onWeekSelect&&r.props.onWeekSelect(e,t,n)},r.formatWeekNumber=function(e){return r.props.formatWeekNumber?r.props.formatWeekNumber(e):function(e){return s(e,"week")}(e)},r.renderDays=function(){var e=E(p(r.props.day)),t=[],n=r.formatWeekNumber(e);if(r.props.showWeekNumber){var i=r.props.onWeekSelect?r.handleWeekClick.bind(r,e,n):void 0;t.push(F.a.createElement(he,{key:"W",weekNumber:n,onClick:i}))}return t.concat([0,1,2,3,4,5,6].map(function(t){var n=_(p(e),t);return F.a.createElement(de,{key:t,day:n,month:r.props.month,onClick:r.handleDayClick.bind(r,n),onMouseEnter:r.handleDayMouseEnter.bind(r,n),minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,utcOffset:r.props.utcOffset})}))},i=n,ie(r,i)}return re(t,e),t.prototype.render=function(){return F.a.createElement("div",{className:"react-datepicker__week"},this.renderDays())},t}(F.a.Component);fe.propTypes={day:B.a.object.isRequired,dayClassName:B.a.func,endDate:B.a.object,excludeDates:B.a.array,filterDate:B.a.func,formatWeekNumber:B.a.func,highlightDates:B.a.array,includeDates:B.a.array,inline:B.a.bool,maxDate:B.a.object,minDate:B.a.object,month:B.a.number,onDayClick:B.a.func,onDayMouseEnter:B.a.func,onWeekSelect:B.a.func,preSelection:B.a.object,selected:B.a.object,selectingDate:B.a.object,selectsEnd:B.a.bool,selectsStart:B.a.bool,showWeekNumber:B.a.bool,startDate:B.a.object,utcOffset:B.a.number};var me=6,ge=function(e){function t(){var n,r,i;te(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=ie(this,e.call.apply(e,[this].concat(a))),r.handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMouseLeave=function(){r.props.onMouseLeave&&r.props.onMouseLeave()},r.isWeekInMonth=function(e){var t=r.props.day,n=_(p(e),6);return k(e,t)||k(n,t)},r.renderWeeks=function(){for(var e=[],t=r.props.fixedHeight,n=E(function(e){return c(e,"month")}(p(r.props.day))),i=0,o=!1;;){if(e.push(F.a.createElement(fe,{key:i,day:n,month:v(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,onWeekSelect:r.props.onWeekSelect,formatWeekNumber:r.props.formatWeekNumber,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,showWeekNumber:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,utcOffset:r.props.utcOffset})),o)break;i++,n=S(p(n),1);var a=t&&i>=me,s=!t&&!r.isWeekInMonth(n);if(a||s){if(!r.props.peekNextMonth)break;o=!0}}return e},r.getClassNames=function(){var e=r.props,t=e.selectingDate,n=e.selectsStart,i=e.selectsEnd;return V()("react-datepicker__month",{"react-datepicker__month--selecting-range":t&&(n||i)})},i=n,ie(r,i)}return re(t,e),t.prototype.render=function(){return F.a.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,role:"listbox"},this.renderWeeks())},t}(F.a.Component);ge.propTypes={day:B.a.object.isRequired,dayClassName:B.a.func,endDate:B.a.object,excludeDates:B.a.array,filterDate:B.a.func,fixedHeight:B.a.bool,formatWeekNumber:B.a.func,highlightDates:B.a.array,includeDates:B.a.array,inline:B.a.bool,maxDate:B.a.object,minDate:B.a.object,onDayClick:B.a.func,onDayMouseEnter:B.a.func,onMouseLeave:B.a.func,onWeekSelect:B.a.func,peekNextMonth:B.a.bool,preSelection:B.a.object,selected:B.a.object,selectingDate:B.a.object,selectsEnd:B.a.bool,selectsStart:B.a.bool,showWeekNumbers:B.a.bool,startDate:B.a.object,utcOffset:B.a.number};var ve=function(e){function t(){var n,r,i;te(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=ie(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){(r.props.minTime||r.props.maxTime)&&M(e,r.props)||r.props.excludeTimes&&P(e,r.props.excludeTimes)||r.props.onChange(e)},r.liClasses=function(e,t,n){var i=["react-datepicker__time-list-item"];return t===g(e)&&n===m(e)&&i.push("react-datepicker__time-list-item--selected"),((r.props.minTime||r.props.maxTime)&&M(e,r.props)||r.props.excludeTimes&&P(e,r.props.excludeTimes))&&i.push("react-datepicker__time-list-item--disabled"),i.join(" ")},r.renderTimes=function(){for(var e=[],t=r.props.format?r.props.format:"hh:mm A",n=r.props.intervals,i=r.props.selected?r.props.selected:l(),o=g(i),a=m(i),s=function(e){return c(e,"day")}(l()),u=1440/n,d=0;d<u;d++)e.push(w(p(s),d*n));return e.map(function(e,n){return F.a.createElement("li",{key:n,onClick:r.handleClick.bind(r,e),className:r.liClasses(e,o,a)},h(e,t))})},i=n,ie(r,i)}return re(t,e),t.prototype.componentDidMount=function(){var e=60/this.props.intervals,t=g(this.props.selected?this.props.selected:l());this.list.scrollTop=e*t*30},t.prototype.render=function(){var e=this,t=null;return this.props.monthRef&&(t=this.props.monthRef.clientHeight-39),F.a.createElement("div",{className:"react-datepicker__time-container "+(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},F.a.createElement("div",{className:"react-datepicker__header react-datepicker__header--time"},F.a.createElement("div",{className:"react-datepicker-time__header"},"Time")),F.a.createElement("div",{className:"react-datepicker__time"},F.a.createElement("div",{className:"react-datepicker__time-box"},F.a.createElement("ul",{className:"react-datepicker__time-list",ref:function(t){e.list=t},style:t?{height:t}:{}},this.renderTimes.bind(this)()))))},ne(t,null,[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null}}}]),t}(F.a.Component);ve.propTypes={format:B.a.string,intervals:B.a.number,selected:B.a.object,onChange:B.a.func,todayButton:B.a.string,minTime:B.a.object,maxTime:B.a.object,excludeTimes:B.a.array,monthRef:B.a.object};var ye=["react-datepicker__year-select","react-datepicker__month-select"],be=function(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).className||"").split(/\s+/);return ye.some(function(t){return e.indexOf(t)>=0})},Ee=function(e){function t(n){te(this,t);var r=ie(this,e.call(this,n));return r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.handleDropdownFocus=function(e){be(e.target)&&r.props.onDropdownFocus()},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,i=e.openToDate,o=e.utcOffset,a=D(r.props),s=R(r.props),c=u(o),l=i||n||t;return l||(a&&O(c,a)?a:s&&x(c,s)?s:c)},r.localizeDate=function(e){return function(e,t){return e.clone().locale(t||J.a.locale())}(e,r.props.locale)},r.increaseMonth=function(){r.setState({date:I(p(r.state.date),1)},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState({date:C(p(r.state.date),1)},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(e,t){return r.props.onSelect(e,t)},r.handleDayMouseEnter=function(e){return r.setState({selectingDate:e})},r.handleMonthMouseLeave=function(){return r.setState({selectingDate:null})},r.handleMonthChange=function(e){r.props.onMonthChange&&r.props.onMonthChange(e)},r.changeYear=function(e){r.setState({date:function(e,t){return i(e,"year",t)}(p(r.state.date),e)})},r.changeMonth=function(e){r.setState({date:function(e,t){return i(e,"month",t)}(p(r.state.date),e)},function(){return r.handleMonthChange(r.state.date)})},r.header=function(){var e=E(p(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date)),t=[];return r.props.showWeekNumbers&&t.push(F.a.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),t.concat([0,1,2,3,4,5,6].map(function(t){var n=_(p(e),t),i=function(e){return e.localeData()}(n),o=r.props.useWeekdaysShort?function(e,t){return e.weekdaysShort(t)}(i,n):function(e,t){return e.weekdaysMin(t)}(i,n);return F.a.createElement("div",{key:t,className:"react-datepicker__day-name"},o)}))},r.renderPreviousMonthButton=function(){if(r.props.forceShowMonthNavigation||!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.minDate,i=n.includeDates,o=e.clone().subtract(1,t);return r&&o.isBefore(r,t)||i&&i.every(function(e){return o.isBefore(e,t)})||!1}(r.state.date,"month",r.props))return F.a.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--previous",onClick:r.decreaseMonth})},r.renderNextMonthButton=function(){if(r.props.forceShowMonthNavigation||!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.maxDate,i=n.includeDates,o=e.clone().add(1,t);return r&&o.isAfter(r,t)||i&&i.every(function(e){return o.isAfter(e,t)})||!1}(r.state.date,"month",r.props)){var e=["react-datepicker__navigation","react-datepicker__navigation--next"];return r.props.showTimeSelect&&e.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&e.push("react-datepicker__navigation--next--with-today-button"),F.a.createElement("a",{className:e.join(" "),onClick:r.increaseMonth})}},r.renderCurrentMonth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),F.a.createElement("div",{className:t.join(" ")},h(e,r.props.dateFormat))},r.renderYearDropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showYearDropdown&&!e)return F.a.createElement(ce,{dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:y(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})},r.renderMonthDropdown=function(){if(r.props.showMonthDropdown)return F.a.createElement(pe,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonth,month:v(r.state.date)})},r.renderTodayButton=function(){if(r.props.todayButton)return F.a.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return r.props.onSelect(function(e){return c(e,"date")}(u(r.props.utcOffset)),e)}},r.props.todayButton)},r.renderMonths=function(){for(var e=[],t=0;t<r.props.monthsShown;++t){var n=I(p(r.state.date),t),i="month-"+t;e.push(F.a.createElement("div",{key:i,ref:function(e){r.monthContainer=e},className:"react-datepicker__month-container"},F.a.createElement("div",{className:"react-datepicker__header"},r.renderCurrentMonth(n),F.a.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--"+r.props.dropdownMode,onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==t),r.renderYearDropdown(0!==t)),F.a.createElement("div",{className:"react-datepicker__day-names"},r.header(n))),F.a.createElement(ge,{day:n,dayClassName:r.props.dayClassName,onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,formatWeekNumber:r.props.formatWeekNumber,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,highlightDates:r.props.highlightDates,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,inline:r.props.inline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,utcOffset:r.props.utcOffset})))}return e},r.renderTimeSection=function(){if(r.props.showTimeSelect)return F.a.createElement(ve,{selected:r.props.selected,onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer})},r.state={date:r.localizeDate(r.getDateInView()),selectingDate:null,monthContainer:r.monthContainer},r}return re(t,e),ne(t,null,[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1}}}]),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},t.prototype.componentWillReceiveProps=function(e){e.preSelection&&!j(e.preSelection,this.props.preSelection)?this.setState({date:this.localizeDate(e.preSelection)}):e.openToDate&&!j(e.openToDate,this.props.openToDate)&&this.setState({date:this.localizeDate(e.openToDate)})},t.prototype.render=function(){return F.a.createElement("div",{className:V()("react-datepicker",this.props.className)},F.a.createElement("div",{className:"react-datepicker__triangle"}),this.renderPreviousMonthButton(),this.renderNextMonthButton(),this.renderMonths(),this.renderTodayButton(),this.renderTimeSection(),this.props.children)},t}(F.a.Component);Ee.propTypes={className:B.a.string,children:B.a.node,dateFormat:B.a.oneOfType([B.a.string,B.a.array]).isRequired,dayClassName:B.a.func,dropdownMode:B.a.oneOf(["scroll","select"]).isRequired,endDate:B.a.object,excludeDates:B.a.array,filterDate:B.a.func,fixedHeight:B.a.bool,formatWeekNumber:B.a.func,highlightDates:B.a.array,includeDates:B.a.array,inline:B.a.bool,locale:B.a.string,maxDate:B.a.object,minDate:B.a.object,monthsShown:B.a.number,onClickOutside:B.a.func.isRequired,onMonthChange:B.a.func,forceShowMonthNavigation:B.a.bool,onDropdownFocus:B.a.func,onSelect:B.a.func.isRequired,onWeekSelect:B.a.func,showTimeSelect:B.a.bool,timeFormat:B.a.string,timeIntervals:B.a.number,onTimeChange:B.a.func,minTime:B.a.object,maxTime:B.a.object,excludeTimes:B.a.array,openToDate:B.a.object,peekNextMonth:B.a.bool,scrollableYearDropdown:B.a.bool,preSelection:B.a.object,selected:B.a.object,selectsEnd:B.a.bool,selectsStart:B.a.bool,showMonthDropdown:B.a.bool,showWeekNumbers:B.a.bool,showYearDropdown:B.a.bool,startDate:B.a.object,todayButton:B.a.string,useWeekdaysShort:B.a.bool,withPortal:B.a.bool,utcOffset:B.a.number,weekLabel:B.a.string,yearDropdownItemNumber:B.a.number};var we=["auto","auto-left","auto-right","bottom","bottom-end","bottom-start","left","left-end","left-start","right","right-end","right-start","top","top-end","top-start"],_e=function(e){function t(){return te(this,t),ie(this,e.apply(this,arguments))}return re(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.hidePopper,r=e.popperComponent,i=e.popperModifiers,o=e.popperPlacement,a=e.targetComponent,s=void 0;if(!n){var c=V()("react-datepicker-popper",t);s=F.a.createElement(Z.Popper,{className:c,modifiers:i,placement:o},r)}return this.props.popperContainer&&(s=F.a.createElement(this.props.popperContainer,{},s)),F.a.createElement(Z.Manager,null,F.a.createElement(Z.Target,{className:"react-datepicker-wrapper"},a),s)},ne(t,null,[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:{preventOverflow:{enabled:!0,escapeWithReference:!0,boundariesElement:"viewport"}},popperPlacement:"bottom-start"}}}]),t}(F.a.Component);_e.propTypes={className:B.a.string,hidePopper:B.a.bool,popperComponent:B.a.element,popperModifiers:B.a.object,popperPlacement:B.a.oneOf(we),popperContainer:B.a.func,targetComponent:B.a.element};var Se="react-datepicker-ignore-onclickoutside",Ie=$(Ee),Ce=function(e){function t(n){te(this,t);var r=ie(this,e.call(this,n));return r.getPreSelection=function(){return r.props.openToDate?l(r.props.openToDate):r.props.selectsEnd&&r.props.startDate?l(r.props.startDate):r.props.selectsStart&&r.props.endDate?l(r.props.endDate):u(r.props.utcOffset)},r.calcInitialState=function(){var e=r.getPreSelection(),t=D(r.props),n=R(r.props),i=t&&O(e,t)?t:n&&x(e,n)?n:e;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:r.props.selected?l(r.props.selected):i}},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input.focus()},r.setOpen=function(e){r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection})},r.handleFocus=function(e){r.state.preventFocus||(r.props.onFocus(e),r.setOpen(!0))},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(e){r.state.open?r.deferFocusInput():r.props.onBlur(e)},r.handleCalendarClickOutside=function(e){r.props.inline||r.setOpen(!1),r.props.onClickOutside(e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(e){if(!r.props.onChangeRaw||(r.props.onChangeRaw(e),!e.isDefaultPrevented())){r.setState({inputValue:e.target.value});var t=function(e,t){var n=t.dateFormat,r=t.locale,i=J()(e,n,r||J.a.locale(),!0);return i.isValid()?i:null}(e.target.value,r.props);!t&&e.target.value||r.setSelected(t,e,!0)}},r.handleSelect=function(e,t){r.setState({preventFocus:!0},function(){return r.preventFocusTimeout=setTimeout(function(){return r.setState({preventFocus:!1})},50),r.preventFocusTimeout}),r.setSelected(e,t),r.props.shouldCloseOnSelect?r.props.inline||r.setOpen(!1):r.setPreSelection(e)},r.setSelected=function(e,t,n){var i=e;null!==i&&A(i,r.props)||(j(r.props.selected,i)&&!r.props.allowSameDay||(null!==i&&(r.props.selected&&(i=f(l(i),{hour:g(r.props.selected),minute:m(r.props.selected),second:function(e){return s(e,"second")}(r.props.selected)})),r.setState({preSelection:i})),r.props.onChange(i,t)),r.props.onSelect(i,t),n||r.setState({inputValue:null}))},r.setPreSelection=function(e){(!(void 0!==r.props.minDate&&void 0!==r.props.maxDate)||!e||T(e,r.props.minDate,r.props.maxDate))&&r.setState({preSelection:e})},r.handleTimeChange=function(e){var t=f(p(r.props.selected?r.props.selected:r.getPreSelection()),{hour:g(e),minute:m(e)});r.setState({preSelection:t}),r.props.onChange(t)},r.onInputClick=function(){r.props.disabled||r.setOpen(!0)},r.onInputKeyDown=function(e){r.props.onKeyDown(e);var t=e.key;if(r.state.open||r.props.inline){var n=l(r.state.preSelection);if("Enter"===t)e.preventDefault(),d(r.state.preSelection)||function(e){return J.a.isDate(e)}(r.state.preSelection)?(r.handleSelect(n,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(n)):r.setOpen(!1);else if("Escape"===t)e.preventDefault(),r.setOpen(!1);else if("Tab"===t)r.setOpen(!1);else if(!r.props.disabledKeyboardNavigation){var i=void 0;switch(t){case"ArrowLeft":e.preventDefault(),i=function(e,t){return a(e,t,"days")}(n,1);break;case"ArrowRight":e.preventDefault(),i=_(n,1);break;case"ArrowUp":e.preventDefault(),i=function(e,t){return a(e,t,"weeks")}(n,1);break;case"ArrowDown":e.preventDefault(),i=S(n,1);break;case"PageUp":e.preventDefault(),i=C(n,1);break;case"PageDown":e.preventDefault(),i=I(n,1);break;case"Home":e.preventDefault(),i=function(e,t){return a(e,t,"years")}(n,1);break;case"End":e.preventDefault(),i=function(e,t){return o(e,t,"years")}(n,1)}r.setPreSelection(i)}}else"Enter"!==t&&"Escape"!==t&&"Tab"!==t&&r.onInputClick()},r.onClearClick=function(e){e.preventDefault(),r.props.onChange(null,e),r.setState({inputValue:null})},r.renderCalendar=function(){return r.props.inline||r.state.open&&!r.props.disabled?F.a.createElement(Ie,{ref:function(e){r.calendar=e},locale:r.props.locale,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.props.highlightDates,includeDates:r.props.includeDates,inline:r.props.inline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,utcOffset:r.props.utcOffset,outsideClickIgnoreClass:Se,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,dayClassName:r.props.dayClassName,showTimeSelect:r.props.showTimeSelect,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,className:r.props.calendarClassName,yearDropdownItemNumber:r.props.yearDropdownItemNumber},r.props.children):null},r.renderDateInput=function(){var e,t=V()(r.props.className,(e={},e[Se]=r.state.open,e)),n=r.props.customInput||F.a.createElement("input",{type:"text"}),i="string"==typeof r.props.value?r.props.value:"string"==typeof r.state.inputValue?r.state.inputValue:function(e,t){var n=t.dateFormat,r=t.locale;return e&&e.clone().locale(r||J.a.locale()).format(Array.isArray(n)?n[0]:n)||""}(r.props.selected,r.props);return F.a.cloneElement(n,{ref:function(e){r.input=e},value:i,onBlur:r.handleBlur,onChange:r.handleChange,onClick:r.onInputClick,onFocus:r.handleFocus,onKeyDown:r.onInputKeyDown,id:r.props.id,name:r.props.name,autoFocus:r.props.autoFocus,placeholder:r.props.placeholderText,disabled:r.props.disabled,autoComplete:r.props.autoComplete,className:t,title:r.props.title,readOnly:r.props.readOnly,required:r.props.required,tabIndex:r.props.tabIndex})},r.renderClearButton=function(){return r.props.isClearable&&null!=r.props.selected?F.a.createElement("a",{className:"react-datepicker__close-icon",href:"#",onClick:r.onClearClick}):null},r.state=r.calcInitialState(),r}return re(t,e),ne(t,null,[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"L",dateFormatCalendar:"MMMM YYYY",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},monthsShown:1,withPortal:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,timeIntervals:30}}}]),t.prototype.componentWillReceiveProps=function(e){var t=this.props.selected&&v(this.props.selected),n=e.selected&&v(e.selected);this.props.inline&&t!==n&&this.setPreSelection(e.selected)},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout()},t.prototype.render=function(){var e=this.renderCalendar();return this.props.inline&&!this.props.withPortal?e:this.props.withPortal?F.a.createElement("div",null,this.props.inline?null:F.a.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),this.state.open||this.props.inline?F.a.createElement("div",{className:"react-datepicker__portal"},e):null):F.a.createElement(_e,{className:this.props.popperClassName,hidePopper:!this.state.open||this.props.disabled,popperModifiers:this.props.popperModifiers,targetComponent:F.a.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement})},t}(F.a.Component);Ce.propTypes={allowSameDay:B.a.bool,autoComplete:B.a.string,autoFocus:B.a.bool,calendarClassName:B.a.string,children:B.a.node,className:B.a.string,customInput:B.a.element,dateFormat:B.a.oneOfType([B.a.string,B.a.array]),dateFormatCalendar:B.a.string,dayClassName:B.a.func,disabled:B.a.bool,disabledKeyboardNavigation:B.a.bool,dropdownMode:B.a.oneOf(["scroll","select"]).isRequired,endDate:B.a.object,excludeDates:B.a.array,filterDate:B.a.func,fixedHeight:B.a.bool,formatWeekNumber:B.a.func,highlightDates:B.a.array,id:B.a.string,includeDates:B.a.array,inline:B.a.bool,isClearable:B.a.bool,locale:B.a.string,maxDate:B.a.object,minDate:B.a.object,monthsShown:B.a.number,name:B.a.string,onBlur:B.a.func,onChange:B.a.func.isRequired,onSelect:B.a.func,onWeekSelect:B.a.func,onClickOutside:B.a.func,onChangeRaw:B.a.func,onFocus:B.a.func,onKeyDown:B.a.func,onMonthChange:B.a.func,openToDate:B.a.object,peekNextMonth:B.a.bool,placeholderText:B.a.string,popperContainer:B.a.func,popperClassName:B.a.string,popperModifiers:B.a.object,popperPlacement:B.a.oneOf(we),readOnly:B.a.bool,required:B.a.bool,scrollableYearDropdown:B.a.bool,selected:B.a.object,selectsEnd:B.a.bool,selectsStart:B.a.bool,showMonthDropdown:B.a.bool,showWeekNumbers:B.a.bool,showYearDropdown:B.a.bool,forceShowMonthNavigation:B.a.bool,startDate:B.a.object,startOpen:B.a.bool,tabIndex:B.a.number,title:B.a.string,todayButton:B.a.string,useWeekdaysShort:B.a.bool,utcOffset:B.a.number,value:B.a.string,weekLabel:B.a.string,withPortal:B.a.bool,yearDropdownItemNumber:B.a.number,shouldCloseOnSelect:B.a.bool,showTimeSelect:B.a.bool,timeFormat:B.a.string,timeIntervals:B.a.number,minTime:B.a.object,maxTime:B.a.object,excludeTimes:B.a.array};t.a=Ce},716:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(43),i=n.n(r),o=function(e){return i()(e).format()},a=function(e,t){return i()(e?t/e:0).format("0.00%")}},717:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(8),h=n.n(d),f=n(23),m=n(52),g=n(41),v=n(2),y=n(7),b=new(n.n(y).a)({name:"activity-form"}),E=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleSubmit=function(e){return r.props.onSubmit(e).then(function(){}).catch(m.handleValidationErrors)},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.handleSubmit,n=e.submitting;return p.a.createElement("div",b,p.a.createElement("form",{onSubmit:t(this.handleSubmit)},p.a.createElement(v.FormGroup,null,p.a.createElement(v.FormGroup.Item,null,p.a.createElement(v.FormGroup,null,p.a.createElement(v.FormGroup.Item,null,p.a.createElement(g.InputFormField,{label:"Name",name:"name"},p.a.createElement(v.Input,{type:"text",placeholder:"Name"}))),p.a.createElement(v.FormGroup.Item,null,p.a.createElement(g.SelectFormField,{label:"Status",name:"status"},p.a.createElement(v.Select,null,p.a.createElement(v.Select.Option,{value:"1"},"Active"),p.a.createElement(v.Select.Option,{value:"2"},"Inactive")))),p.a.createElement(v.FormGroup.Item,null,p.a.createElement(g.SelectFormField,{label:"Activity type",name:"type"},p.a.createElement(v.Select,null,p.a.createElement(v.Select.Option,{value:"1"},"Page views (counter)"),p.a.createElement(v.Select.Option,{value:"2"},"Daily visits (counter)"),p.a.createElement(v.Select.Option,{value:"3"},"Custom (counter)"),p.a.createElement(v.Select.Option,{value:"4"},"Item purchased (sales)"),p.a.createElement(v.Select.Option,{value:"5"},"Transaction (sales)"),p.a.createElement(v.Select.Option,{value:"6"},"iOS application downloads (counter)"),p.a.createElement(v.Select.Option,{value:"7"},"Android application downloads (counter)")))),p.a.createElement(v.FormGroup.Item,null,p.a.createElement(g.InputFormField,{label:"Expected URL",name:"expectedUrl"},p.a.createElement(v.Input,{type:"text",placeholder:"Expected URL"}))))),p.a.createElement(v.FormGroup.Item,null,p.a.createElement(v.ButtonGroup,null,p.a.createElement(v.Button,{type:"submit",status:n?"busy":""},"Submit"))))))},t}(u.Component);t.a=h()(Object(f.reduxForm)({form:"activityForm",validate:Object(m.createValidator)({name:{presence:!0},status:{presence:!0},type:{presence:!0}})}))(E)},758:function(e,t,n){var r=n(341),i=n(517),o=n(480),a=i(function(e,t,n,i){r(t,o(t),e,i)});e.exports=a},760:function(e,t,n){var r=n(422),i=Object.prototype,o=i.hasOwnProperty;e.exports=function(e,t,n,a){return void 0===e||r(e,i[n])&&!o.call(a,n)?t:e}},800:function(e,t,n){"use strict";var r=n(11),i=n.n(r),o=n(3),a=n.n(o),s=n(4),c=n.n(s),l=n(5),u=n.n(l),p=n(1),d=(n.n(p),n(0)),h=n.n(d),f=n(13),m=(n.n(f),n(6)),g=n(8),v=n.n(g),y=n(12),b=n(2),E=n(919),w=n(24),_=i()(["\n        query LeaveLabModal {\n            currentAccount {\n                id\n                url\n            }\n        }\n    "],["\n        query LeaveLabModal {\n            currentAccount {\n                id\n                url\n            }\n        }\n    "]),S=function(e){function t(n){a()(this,t);var r=c()(this,e.call(this,n));return r.handleClose=function(){r.props.onClose()},r.handleCancel=function(){r.props.onCancel()},r.state={leaveLabButtonStatus:""},r}return u()(t,e),t.prototype.leaveLab=function(){var e=this,t=this.props.mutate;this.setState({leaveLabButtonStatus:"busy"}),t(Object(E.a)({personKey:this.props.currentAccount.id})).then(function(t){t.data.removeMemberFromLab.length>1?e.props.dispatch(Object(y.pushAlert)(function(){return h.a.createElement(b.Alert,{title:"Lab removed",description:"Your lab is no longer visible on ResearchGate.",color:"green"})})):e.props.dispatch(Object(y.pushAlert)(function(){return h.a.createElement(b.Alert,{title:"Lab details updated",description:"You successfully left the lab.",color:"green"})})),e.props.onLabRemoved?e.props.onLabRemoved():setTimeout(function(){Object(w.b)(e.props.currentAccount.url)},2e3)}).catch(function(){e.setState({leaveLabButtonStatus:""})})},t.prototype.render=function(){var e=this;return h.a.createElement(b.Modal,{isOpen:this.props.isOpen,onRequestClose:this.handleClose},h.a.createElement(b.Modal.Body,null,h.a.createElement(b.Text,{size:"xl",spacing:"s"},this.props.labWillBeDeleted?"Are you sure you want to remove this lab?":"Are you sure you want to leave this lab?"),this.props.labWillBeDeleted&&h.a.createElement(b.Text,null,"If you remove the lab, it will be removed for all its members too.")),h.a.createElement(b.Modal.Footer,null,h.a.createElement(b.ButtonGroup,null,h.a.createElement(b.Button,{type:"button",status:this.state.leaveLabButtonStatus,theme:"ghost",onClick:function(){e.leaveLab()}},h.a.createElement(b.Button.Label,null,"Remove lab")),h.a.createElement(b.Button,{type:"button",onClick:this.handleCancel},h.a.createElement(b.Button.Label,null,"Cancel")))))},t}(d.Component);S.defaultProps={labWillBeDeleted:!0},t.a=v()(Object(m.connectWidget)(),Object(f.withQuery)(Object(f.gql)(_)))(S)},807:function(e,t,n){"use strict";t.a=function(e){return new Promise(function(t){var n=document.createElement("textarea");n.id="clipboard-helper",n.innerHTML=e,n.style.top="-1px",n.style.left="-1px",n.style.position="absolute",n.style.width="0px",n.style.height="0px",document.body.appendChild(n),n.select();try{document.execCommand("copy")}finally{document.body.removeChild(n),t()}})}},812:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=n(72),i=n.n(r),o=function(e){return e.publicationPersonalFeedbackRequests.get("states")},a=function(e,t){var n=t.publicationUid,r=t.accountId,a=o(e);return a.has(i()(n))&&a.get(i()(n)).has(i()(r))},s=function(e,t){var n=t.publicationUid,r=t.accountId;return o(e).getIn([i()(n),i()(r)])}},85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n.n(r),o=(n(1),n(71)),a=n.n(o),s=n(328),c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.setRootElement=function(e){r.setState({rootElement:e})},r.state={rootElement:void 0,rootMargin:r.computeRootMargin(n)},n.setRef(r.setRootElement),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.computeRootMargin=function(e){var t=e.threshold,n=e.axis,r=[t],i="0"+(t.match(/^-?\d*\.?\d+(px|%)$/)||[""]).pop();return"y"===n?r.push(i):r.unshift(i),r.join(" ")},t.prototype.componentWillReceiveProps=function(e){var t=e.threshold,n=e.axis;t!==this.props.threshold||n!==this.props.axis?this.setState({rootMargin:this.computeRootMargin(e)}):this.observer.reobserve()},t.prototype.render=function(){var e=this,t=this.props.onChange,n=this.state,r=n.rootElement,o=n.rootMargin;return i.a.createElement(s.a,{ref:function(t){e.observer=t},disabled:void 0===r,root:r,rootMargin:o,onChange:t},i.a.createElement("span",{style:{height:1,display:"block"}}))},t}(i.a.PureComponent),l=c,u={x:"overflowX",y:"overflowY"},p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.setRef=function(e){var t=void 0;r.setRootNode=function(n){if(n!==t){t=n;var i=window.getComputedStyle(n)[u[r.props.axis]];e(-1!==["auto","scroll","overlay"].indexOf(i)?n:null)}}},r.handleUpdate=function(e){var t=e.isIntersecting,n=r.props,i=n.awaitMore,o=n.currentLength,s=n.onIntersection,c=n.pageSize,l=r.state.size;if(r.checkedForIntersection||(r.checkedForIntersection=!0,a()(!t,"ReactIntersectionList: the sentinel detected a viewport with a bigger size than the size of its items. This could lead to detrimental behavior, e.g.: triggering more than one onIntersection callback at the start.\nTo prevent this, use either a bigger `pageSize` value or avoid using the prop awaitMore initially.")),t){var u=r.computeSize(l+c,o);r.setState({size:u}),!s||i&&!r.awaitIntersection||(r.awaitIntersection&&(r.awaitIntersection=!1),s(u,c))}},r.state={size:r.computeSize(n.pageSize,n.currentLength)},r.checkedForIntersection=0===r.state.size,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.computeSize=function(e,t){return Math.min(e,t)},t.prototype.renderItems=function(){for(var e=this,t=this.props,n=t.awaitMore,r=t.axis,o=t.children,a=t.currentLength,s=t.initialIndex,c=t.itemsRenderer,u=t.threshold,p=this.state.size,d=[],h=0;h<p;++h)d.push(o(s+h,h));var f=void 0;return(p<a||n)&&(f=i.a.createElement(l,{key:"sentinel",threshold:u,axis:r,setRef:this.setRef,onChange:this.handleUpdate}),d.push(f),n&&(this.awaitIntersection=!0)),c(d,function(t){t&&f&&e.setRootNode(t)})},t.prototype.componentWillReceiveProps=function(e){var t=e.pageSize,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["pageSize"]),r=this.props.currentLength,i=n.currentLength;if(this.props.pageSize!==t||r!==i){var o=this.computeSize(this.state.size+t,i);this.setState({size:o})}},t.prototype.render=function(){return this.renderItems()},t}(i.a.PureComponent);p.defaultProps={axis:"y",children:function(e,t){return i.a.createElement("div",{key:t},e)},initialIndex:0,currentLength:0,itemsRenderer:function(e,t){return i.a.createElement("div",{ref:t},e)},pageSize:10,threshold:"100px"};var d=p;n.d(t,"default",function(){return d})},874:function(e,t,n){"use strict";var r=n(17);t.a=function(e){var t=e.successStory;if(!t)return{};var n=t.account,i=t.domain,o=t.target,a=t.value,s=t.storyType,c=t.interactionType,l=t.targetGroup,u=t.storyDate;return{accountId:n?n.id:null,accountFirstname:n?n.firstname:"",domainKey:i&&i.id,targetId:o.id,value:a,storyType:s,interactionType:c,targetGroup:l,storyDate:u,domainKeyName:i&&i.name,domainKeyType:i&&r.a.parse(i.id).type,targetType:r.a.parse(o.id).type,targetTypeName:o.targetTypeName}}},875:function(e,t,n){var r=n(667)(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()});e.exports=r},879:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(1),d=(n.n(p),n(114)),h=n.n(d),f=n(92),m=n.n(f),g=n(161),v=n(352),y=n(1531),b=n.n(y);t.a=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).rules;return function(t){var n=function(n){function r(){var e,t,o;i()(this,r);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return e=t=a()(this,n.call.apply(n,[this].concat(c))),t.handlePushUrl=function(e){var n=t.generateUrl(e),r=n.path,i=n.query,o=b()(i,function(e){return!e}),a=new g.a(""+t.props.baseUrl+r).setQuery(o);t.history.push({pathname:a.getPath(),search:"?"+a.getQuery()})},o=e,a()(t,o)}return c()(r,n),r.prototype.componentDidMount=function(){var e=this;this.history=Object(v.a)(),this.unlisten=this.history.listen(function(t,n){var r=t.pathname,i=t.search;"POP"===n&&e.handleUrlPop(r,i)})},r.prototype.componentWillUnmount=function(){this.unlisten&&this.unlisten(),this.history=null},r.prototype.handleUrlPop=function(e,t){var n=new g.a(""+e+t).getQueryAsObject(),r=Object.assign({},this.parseUrl(e),n);this.props.onUrlChange(r,this.props)},r.prototype.generateUrl=function(t){for(var n=e||[],r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=(0,o.generate)(t);if(null!==a)return a}return{path:"",query:t}},r.prototype.parseUrl=function(t){for(var n=e||[],r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=(0,o.parse)(t);if(null!==a)return a}return{}},r.prototype.render=function(){var e=Object.assign({},this.props,{pushUrl:this.handlePushUrl});return u.a.createElement(t,e)},r}(u.a.Component);return h()(m()(t,"withPushState"))(n)}}},881:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(6),d=n(7),h=n.n(d),f=n(57),m=n.n(f),g=n(10),v=n(385),y=n.n(v),b=n(854),E=n(595),w=n(882),_=n(43),S=n.n(_),I=n(2),C=Object(p.connectWidget)(function(e,t){return Object(w.a)(e,t)})(function(e){var t=e.target,n=e.stats,r=e.editUrl,i=e.label;return u.a.createElement(I.Tooltip,{target:t},u.a.createElement(I.Text,{size:"s"},u.a.createElement("b",null,S()(n.posts).format())," questions"),u.a.createElement(I.Text,{size:"s"},u.a.createElement("b",null,S()(n.followers).format())," followers"),u.a.createElement(I.Text,{size:"s"},u.a.createElement("b",null,S()(n.skills).format())," w. skill in profile"),u.a.createElement(I.Text,{size:"s",spacing:"xs"},u.a.createElement("b",null,S()(n.publicationTargeting).format())," publications (targeted)"),u.a.createElement(I.Link,{href:r,target:"_blank",rel:"noopener",color:"blue",theme:"bare",size:"s"},"Edit ",i))}),O=new h.a({name:"keyword-recommendations"}),x=Object(p.connectWidget)(function(e,t){return{recommendations:t.keywordIds.map(function(t){var n=Object(w.a)(e,{keywordId:t});return{label:n.label,value:n.value}})}})(function(e){var t=e.keywordIds,n=e.recommendations,r=e.onSelect,i=n.map(function(e){var t=e.label,n=e.value,i=u.a.createElement("div",O("item"),u.a.createElement(I.Badge,{luminosity:"high",color:"grey"},u.a.createElement(I.Link,{theme:"bare",onClick:function(){return r([n])}},t)));return u.a.createElement(C,{keywordId:n,target:i,key:n})});return u.a.createElement("div",O(),u.a.createElement(I.Text,O("header"),"Similar keywords"),i,u.a.createElement("div",O("item"),u.a.createElement(I.Badge,{luminosity:"medium",color:"grey"},u.a.createElement(I.Link,{theme:"bare",onClick:function(){return r(t)}},"Add all"))))}),k=n(340),j=new h.a({name:"keyword-select"}),T=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={recommendations:[],isPresetLoading:!1},r.handleChange=function(e){var t=e.map(function(e){return e.value});r.changeSelectedIds(t)},r.handleLoadOptions=function(e){if(e.length<2)return Promise.resolve({options:[]});if(-1!==e.indexOf(",")){var t=e.split(",").map(function(e){return e.trim()});return Object(g.default)(r.props.fetchByNamesUrl,{method:"POST",query:{names:t}}).then(function(e){var t=e.result;r.props.dispatch(Object(b.b)(t.targetingValues)),r.props.dispatch(Object(E.b)(t.options)),r.addKeywords(Object.keys(t.options))}),Promise.resolve({options:[]})}var n=r.props.selectedItems.map(function(e){return e.value});return Object(g.default)(r.props.searchUrl,{method:"GET",query:{query:e,selected:n}}).then(function(e){var t=e.result;r.props.dispatch(Object(b.b)(t.targetingValues)),r.props.dispatch(Object(E.b)(t.options));return{options:Object.values(t.options)}})},r.handlePresetChange=function(e){var t=e.value;r.setState({isPresetLoading:!0,recommendations:[]}),Object(g.default)(r.props.presetUrl,{method:"GET",query:{presetId:t}}).then(function(e){var t=e.result;r.props.dispatch(Object(b.b)(t.targetingValues)),r.props.dispatch(Object(E.b)(t.options)),r.addKeywords(t.keywordIds),r.setState({isPresetLoading:!1})})},r.handleRenderValue=function(e){var t=e.label,n=e.value,r=u.a.createElement("span",null,t);return u.a.createElement(C,{key:n,target:r,keywordId:n})},r.handleAddRecommended=function(e){var t=[].concat(r.props.selectedIds,e);r.changeSelectedIds(t);var n=y()(r.state.recommendations,e);r.setState({recommendations:n})},r.getArrow=function(e){var t=e.onMouseDown;return u.a.createElement(I.Icon,{identifier:"arrow-down",size:"s",onMouseDown:t})},o=n,a()(r,o)}return c()(t,e),t.prototype.addKeywords=function(e){var t=[].concat(this.props.selectedIds,e);this.changeSelectedIds(t)},t.prototype.changeSelectedIds=function(e){var t=Array.from(new Set(e));this.props.onChange(t)},t.prototype.loadRecommendations=function(e){var t=this;this.props.showRecommendations&&(e.length?Object(g.default)(this.props.recommendationsUrl,{method:"GET",query:{keywords:e}}).then(function(e){var n=e.result;t.props.dispatch(Object(b.b)(n.targetingValues)),t.props.dispatch(Object(E.b)(n.options)),t.setState({recommendations:n.recommendations})}):this.setState({recommendations:[]}))},t.prototype.render=function(){var e=this.props.disabled||this.state.isPresetLoading,t=this.props.showRecommendations&&!e&&this.state.recommendations.length?u.a.createElement(I.Stack.Item,null,u.a.createElement(x,{keywordIds:this.state.recommendations,onSelect:this.handleAddRecommended})):null,n=this.props.showPresets?u.a.createElement(I.Stack.Item,null,u.a.createElement(m.a,Object.assign({},j("preset"),{onChange:this.handlePresetChange,options:this.props.presets,disabled:e,placeholder:"Select a preset"}))):null;return u.a.createElement("div",j(),u.a.createElement(I.Stack,null,n,u.a.createElement(I.Stack.Item,null,u.a.createElement(k.a,{className:"react-select-nova",value:this.props.selectedItems,onChange:this.handleChange,loadOptions:this.handleLoadOptions,name:this.props.name,placeholder:this.props.placeholder,disabled:e,searchPromptText:this.props.searchPromptText,valueRenderer:this.handleRenderValue,isAsync:!0,arrowRenderer:this.getArrow,inputProps:this.props.inputProps,ignoreAccents:!1,ignoreCase:!1,filterOptions:null})),t))},t.prototype.componentDidMount=function(){this.loadRecommendations(this.props.selectedIds)},t.prototype.componentWillReceiveProps=function(e){this.props.selectedIds!==e.selectedIds&&this.loadRecommendations(e.selectedIds)},t}(l.Component);T.defaultProps={placeholder:"Select keywords",disabled:!1,searchPromptText:"Start typing to see keywords",multi:!0,showRecommendations:!0,showPresets:!0,inputProps:{},defaultValue:[]};t.a=Object(p.connectWidget)(function(e,t){var n=t.selectedIds,r=t.defaultValue;return{selectedItems:(Array.isArray(n)?n:r).map(function(t){var n=Object(w.a)(e,{keywordId:t});return{label:n.label,value:n.value}})}})(T)},882:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(22),i=n.n(r),o=function(e,t){var n=t.keywordId;return i()(e,["adminKeywordSelect","options",n],function(e){return{label:'DELETED KEYWORD "'+e+'"',value:e,stats:{posts:0,followers:0,skills:0,publicationTargeting:0},editUrl:""}}(n))},a=function(e,t){var n=t.keywordId;return i()(e,["adminKeywordSelect","options",n])}},883:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(7),h=n.n(d),f=n(46),m=n.n(f),g=n(2),v=n(538),y=[{label:"All time"},{label:"Yesterday",start:m()().subtract(1,"days")},{label:"Last week",start:m()().startOf("isoWeek").subtract(7,"days"),end:m()().startOf("isoWeek").subtract(1,"days")},{label:"Last month",start:m()().startOf("month").subtract(1,"month"),end:m()().startOf("month").subtract(1,"days")},{label:"Last 7 days",start:m()().subtract(7,"days")},{label:"Last 30 days",start:m()().subtract(30,"days")}],b=new h.a({name:"ad-campaign-interval-select"}),E=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={selectedPreset:r.props.startDate||r.props.endDate?null:0},r.handleStartDateChange=function(e){r.props.onChange(r.formatValue(e),r.props.endDate)},r.handleEndDateChange=function(e){r.props.onChange(r.props.startDate,r.formatValue(e))},r.handleSelectCustom=function(){r.dropdown.hide(),r.setState({selectedPreset:null})},r.handleChangePreset=function(e){r.dropdown.hide(),r.setState({selectedPreset:e});var t=y[e],n=t.start,i=t.end;r.props.onChange(r.formatValue(n),r.formatValue(i))},o=n,a()(r,o)}return c()(t,e),t.prototype.formatValue=function(e){return e?m()(e).format("YYYY-MM-DD"):null},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.startDate,n=e.endDate,r=this.state.selectedPreset;this.isPresetEqualToDates(r,t,n)||this.setState({selectedPreset:null})},t.prototype.isPresetEqualToDates=function(e,t,n){if(null===e)return!0;var r=y[e],i=r.start,o=r.end;return this.areDatesSame(i,t)&&this.areDatesSame(o,n)},t.prototype.areDatesSame=function(e,t){return this.formatValue(e)===this.formatValue(t)},t.prototype.getCustomSelect=function(){var e=this.props,t=e.startDate,n=e.endDate,r=e.minDate,i=e.maxDate,o={minDate:m()(r),maxDate:m()(i),dateFormat:"YYYY-MM-DD"};return p.a.createElement(g.Pack,{verticalAlign:"middle",gutter:"xxs"},p.a.createElement(g.Pack.Item,null,p.a.createElement(v.a,Object.assign({},o,{selected:m()(t||r),onChange:this.handleStartDateChange,size:"s"}))),p.a.createElement(g.Pack.Item,null," – "),p.a.createElement(g.Pack.Item,null,p.a.createElement(v.a,Object.assign({},o,{selected:m()(n||i),onChange:this.handleEndDateChange,size:"s"}))))},t.prototype.render=function(){var e=this,t=this.state.selectedPreset,n=null===t?p.a.createElement(g.Pack.Item,null,this.getCustomSelect()):null,r=p.a.createElement(g.Button,{type:"button",align:"left",theme:"ghost",color:"black",size:"s"},p.a.createElement(g.Button.Icon,{identifier:"calendar"}),p.a.createElement(g.Button.Label,null,null===t?"Custom":y[t].label));return p.a.createElement(g.Pack,{verticalAlign:"bottom"},p.a.createElement(g.Pack.Item,null,p.a.createElement(g.Dropdown,{mode:"click",position:"left",scope:"global",target:r,ref:function(t){e.dropdown=t}},p.a.createElement(g.Dropdown.Header,Object.assign({title:"Select a date range"},b("header")),""),p.a.createElement(g.Dropdown.Divider,null),y.map(function(t,n){var r=t.label;return p.a.createElement(g.Dropdown.Action,Object.assign({type:"button",key:n,onClick:function(){return e.handleChangePreset(n)},icon:"calendar"},b("action")),r)}),p.a.createElement(g.Dropdown.Action,Object.assign({type:"button",onClick:this.handleSelectCustom,icon:"calendar"},b("action")),"Custom"))),n)},t}(u.Component);t.a=E},884:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(2),f=n(12),m=n(7),g=n.n(m),v=n(94),y=n(160),b=n(23),E=n(52),w=n(41),_=n(8),S=n.n(_),I=new g.a({name:"ad-campaign-salesforce-mapping"}),C=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.handleSubmit=function(e){var t=e.salesforceCampaignId;return r.props.dispatch(Object(y.y)(r.props.rgKey,t)).then(function(){r.props.dispatch(Object(f.pushAlert)(function(){return p.a.createElement(h.Alert,{title:"Mapping saved",description:"Salesforce object mapping has been successfully saved.",color:"green"})})),r.props.onClose()}).catch(function(e){r.props.dispatch(Object(f.pushAlert)(function(){return p.a.createElement(h.Alert,{title:"Can't save the mapping",description:"Please try again",color:"red"})})),Object(E.handleValidationErrors)(e)})},o=n,a()(r,o)}return c()(t,e),t.prototype.getSalesforceCampaignId=function(){var e=this.props,t=e.salesforceCampaignId,n=e.salesforceCampaignName,r=e.availableSalesforceCampaigns;if(!e.opportunityId)return p.a.createElement(h.Text,I("campaign-selector","red-color"),"Please provide Ad Campaign - Salesforce Opportunity mapping first");if(t||r.length>0){var i="Select Salesforce Campaign";return n?i=n+"("+t+")":t&&(i=t),p.a.createElement(w.SelectFormField,{label:"SalesForce Campaign Object ID",name:"salesforceCampaignId"},p.a.createElement(h.Select,null,p.a.createElement(h.Select.Option,{key:"selected"+t,value:t},i),r.map(function(e){var t=e.id,n=e.name;return p.a.createElement(h.Select.Option,{key:t,value:t},n?n+"("+t+")":t)})))}return p.a.createElement(h.Text,I("campaign-selector"),"No available not mapped campaigns. Please create salesforce campaign first")},t.prototype.render=function(){var e=this.props,t=e.handleSubmit,n=e.onClose,r=e.submitting,i=e.salesforceCampaignId,o=e.availableSalesforceCampaigns;return p.a.createElement(h.Modal,{isOpen:!0,onRequestClose:n,isCloseable:!0},p.a.createElement(h.Modal.Body,null,p.a.createElement(b.Form,{onSubmit:t(this.handleSubmit)},p.a.createElement(h.FormGroup,{layout:"pack"},p.a.createElement(h.FormGroup.Item,null,this.getSalesforceCampaignId())))),p.a.createElement(h.Modal.Footer,null,p.a.createElement(h.ButtonGroup,null,p.a.createElement(h.Button,{onClick:n,theme:"bare",status:r?"disabled":"",type:"button"},"Cancel"),(i||o.length>0)&&p.a.createElement(h.Button,{onClick:t(this.handleSubmit),status:r?"busy":"",type:"button"},"Save"))))},t}(u.Component);t.a=S()(Object(d.connectWidget)(function(e,t){var n=t.rgKey,r=Object(v.d)(e,{rgKey:n}).salesforceCampaignId;return{initialValues:{salesforceCampaignId:r},availableSalesforceCampaigns:Object(v.f)(e),salesforceCampaignName:Object(v.p)(e,r),opportunityId:Object(v.n)(e),salesforceCampaignId:r}}),Object(b.reduxForm)({form:"salesforceMappingForm",validate:Object(E.createValidator)({salesforceCampaignId:{presence:!0,length:{is:15}}})}))(C)},885:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(7),f=n.n(h),m=n(2),g=n(12),v=n(160),y=n(17),b=new f.a({name:"ad-campaign-add-item"}),E={reference:"",isOpen:!1,isSaving:!1},w=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state=E,r.handleOpen=function(){r.setState({isOpen:!0,reference:r.props.defaultValue})},r.handleClose=function(){r.setState(E)},r.handleReferenceChange=function(e){r.setState({reference:e.target.value})},r.handleKeyPress=function(e){"Enter"===e.key&&r.handleAddItem()},r.handleAddItem=function(){r.setState({isSaving:!0}),r.props.dispatch(Object(v.k)(r.props.rgType,r.state.reference)).then(function(){r.props.dispatch(Object(g.pushAlert)(function(){return p.a.createElement(m.Alert,{title:"Product has been added",color:"green"})})),r.handleClose()}).catch(function(e){r.setState({isSaving:!1});var t=e.errors.error||"System error";r.props.dispatch(Object(g.pushAlert)(function(){return p.a.createElement(m.Alert,{title:"Can't add the product",description:t,color:"red"})}))})},o=n,a()(r,o)}return c()(t,e),t.prototype.getButtonStatus=function(){return this.state.isSaving?"busy":this.state.reference?null:"disabled"},t.prototype.render=function(){var e=this.props,t=e.label,n=e.title,r=e.rgType,i=e.url,o=e.rgTypeBasedSelection,a=this.state.isOpen,s=[p.a.createElement(m.Stack.Item,{key:"input"},p.a.createElement(m.Label,null,n),p.a.createElement(m.Input,{onChange:this.handleReferenceChange,onKeyPress:this.handleKeyPress,value:this.state.reference}))];if(o)switch(r){case y.b.TYPE_DFPORDER:s.push(p.a.createElement(m.Stack.Item,{key:"or"},p.a.createElement(m.Text,null,p.a.createElement("i",null,"or")))),s.push(p.a.createElement(m.Stack.Item,{key:"link"},p.a.createElement(m.Text,null,p.a.createElement(m.Link,{href:i,theme:"bare"},"Create an ad"))))}return p.a.createElement("div",b(),p.a.createElement(m.Button,{onClick:this.handleOpen,type:"button",align:"left",color:"green",size:"s"},p.a.createElement(m.Button.Icon,{identifier:"plus-circle"}),p.a.createElement(m.Button.Label,null,t)),p.a.createElement(m.Modal,{isOpen:a,onRequestClose:this.handleClose},p.a.createElement(m.Modal.Body,null,p.a.createElement(m.Stack,null,s)),p.a.createElement(m.Modal.Footer,null,p.a.createElement(m.ButtonGroup,null,p.a.createElement(m.Button,{type:"button",onClick:this.handleClose,theme:"ghost",size:"s"},"Cancel"),p.a.createElement(m.Button,{type:"button",status:this.getButtonStatus(),size:"s",onClick:this.handleAddItem},"Add product")))))},t}(u.Component);w.defaultProps={defaultValue:"",rgTypeBasedSelection:!1},t.a=Object(d.connectWidget)()(w)},888:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(7),h=n.n(d),f=n(2),m=new h.a("lab-details-view-more-modal"),g=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){return p.a.createElement(f.Modal,Object.assign({scope:"local",orientation:"vertical"},m(),{isOpen:this.props.isOpen,onRequestClose:this.props.onRequestClose}),p.a.createElement(f.Modal.Body,null,p.a.createElement(f.Text,{size:"xl",spacing:"auto"},this.props.header),p.a.createElement("div",m("content"),p.a.createElement(f.Stack,{gutter:"m",spacing:"m",showDivider:!0,gutterOutside:!0},this.props.stackItems))),p.a.createElement(f.Modal.Footer,null,p.a.createElement(f.Button,{type:"button",color:"blue",onClick:this.props.onRequestClose},"Close")))},t}(u.Component);t.a=g},889:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(57),f=n.n(h),m=n(327),g=n.n(m),v=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.updateValue=function(e){var t=r.props.coreTagIdsByCategory,n=[],i=[];e&&(e.forEach(function(e){e.isCategory?i.push(e.value):n.push(e.value)}),i.forEach(function(e){n=[].concat(n,t[e])})),r.props.onChange(g()(n))},r.renderOption=function(e){var t=e.category,n=e.name;return t?p.a.createElement("span",null,n):p.a.createElement("span",null,p.a.createElement("strong",null,n))},r.renderValue=function(e){var t=e.name;return p.a.createElement("span",null,t)},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.coreTagPresets,n=e.coreTagPresetIds,r=e.disabled,i=e.defaultValue;return p.a.createElement(f.a,Object.assign({},this.props,{multi:!0,valueRenderer:this.renderValue,optionRenderer:this.renderOption,options:t,onChange:this.updateValue,value:(Array.isArray(n)?n:i).join(","),disabled:r}))},t}(u.Component);v.defaultProps={placeholder:"Select scientific area",coreTagPresetIds:[],disabled:!1,defaultValue:[]},t.a=Object(d.connectWidget)()(v)},894:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(1),u=(n.n(l),n(0)),p=n.n(u),d=n(6),h=n(7),f=n.n(h),m=n(57),g=n.n(m),v=n(2),y=new f.a({name:"insight-preset-select"}),b=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={presetUrl:r.getPresetUrl(r.props.selectedId)},r.handleNameSelectorChange=function(e){var t=e?e.id:null,n=r.getPresetUrl(t);r.setState({presetUrl:n}),r.props.onChange(t)},r.handlePresetUrlChange=function(e){var t=e.target.value,n=t.match(/admin\/insight\/([\w\d]{24})\/?/i),i=n&&r.props.presets[n[1]]?n[1]:null;r.setState({presetUrl:t}),r.props.onChange(i)},r.handleRenderOption=function(e){var t=e.name,n=e.category;return p.a.createElement("div",null,p.a.createElement(v.Text,y("select-option-name"),t),p.a.createElement(v.Text,y("select-option-category"),n))},o=n,a()(r,o)}return c()(t,e),t.prototype.getPresetUrl=function(e){return e?this.props.rootUrl+"admin/insight/"+e+"/edit":""},t.prototype.render=function(){var e=this.props,t=e.selectedId,n=e.presets,r=e.labelSelect,i=this.state.presetUrl,o=i&&!t,a=o?"Please enter correct URL of an Insight Preset page":null,s=o?"invalid":null,c=Object.values(n),l=t?p.a.createElement(v.FormGroup.Item,null,p.a.createElement(v.Text,null,"Selected preset: ",p.a.createElement(v.Link,{href:i,theme:"bare",color:"blue",target:"_blank",rel:"noopener"},n[t].name))):null;return p.a.createElement(v.FormGroup,y(),p.a.createElement(v.FormGroup.Item,null,r&&p.a.createElement(v.Label,null,r),p.a.createElement(g.a,{onChange:this.handleNameSelectorChange,options:c,value:t,optionRenderer:this.handleRenderOption,valueKey:"id",labelKey:"name"})),p.a.createElement(v.FormGroup.Item,null,p.a.createElement(v.Label,{status:s,errorMessage:a},"Or paste URL of preset"),p.a.createElement(v.Input,{status:s,onChange:this.handlePresetUrlChange,value:i})),l)},t}(u.Component);b.defaultProps={presetId:"",labelSelect:"Select an Insight preset"},t.a=Object(d.connectWidget)()(b)},896:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return s});var r=function(e){return e.publicationData},i=function(e){return!!e.publicationData&&e.publicationData.isAuthor},o=function(e){return e.publicationData?e.publicationData.focusedCommentId:null},a=function(e){return e.publicationData?e.publicationData.showLikesDialogForFocusedComment:null},s=function(e){return e.publicationData?e.publicationData.triggerAction:null}},899:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=(n(1),n(6)),d=n(48),h=n(15),f=n.n(h),m=n(29),g=n.n(m),v=n(251),y=n.n(v),b=n(10),E=n(2),w=n(31),_=function(e){var t=e.declineReasons,n=e.setReason,r=e.reasonId,i=g()(t,function(e,i){return u.a.createElement(E.List.Item,{className:"reason-list--item",key:i},u.a.createElement(E.Radio,{name:"reason",onChange:n,value:i,checked:!(!r||t[r].reason!==e.reason)},e.title))});return u.a.createElement(E.List,{className:"reason-list",type:"bare",spacing:"l"},i)},S=n(450),I=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props.requesters,t=g()(e,function(e,t){return u.a.createElement(S.a,{imageUrl:e.profile.imageURL,fullname:e.fullName,url:e.accountURL,key:t})});return u.a.createElement("div",{className:"publication-requester-list"},t)},t}(l.Component),C=Object(p.connectWidget)(function(e,t){return{requesters:y()(e.accountsGlobalAccounts,t.requesterAccountIds)}})(I),O=5,x=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.state={message:null},r}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.setMessage,n=e.changeIncludeMessageState,r=e.displayForm,i=e.isIncludeMessage,o=e.publicationRequesterList,a=e.hasRequestsDeclinedWithMessage,s=e.placeholder,c=e.message,l=f()({"fulltext-request-decline-dialog--message-form":!0,hidden:!r}),p=f()({"message-form--message-wrapper":!0,hidden:!i});return u.a.createElement("div",{className:l},u.a.createElement(E.Text,{size:"xl",spacing:"xs"},"Add a message"),a?u.a.createElement(E.Text,{className:"message-notice",spacing:"m"},"One of your co-authors has already responded to this researcher."):null,u.a.createElement("label",{className:"include-message-checkbox"},u.a.createElement("input",{type:"checkbox",checked:i,onChange:n})," Include a message for the requesters"),u.a.createElement("div",{className:p},u.a.createElement("div",{className:"message-wrapper--inner"},u.a.createElement(C,{widgetId:o}),u.a.createElement("textarea",{placeholder:s,onChange:t,value:c}))))},t}(l.Component),k={reasonId:null,displayForm:!1,message:"",placeholder:null,isIncludeMessage:!1,isDialogVisible:!1,isRequestProcessing:!1,isRequestDeclined:!1},j=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state=k,r.setReason=function(e){var t=e.target.value;if(t){var n=r.props.declineReasons[t],i=n.displayForm,o=n.placeholder,a=r.props.declineReasons[t].message+"\n— "+r.props.accountFirstName,s=i&&!r.props.hasRequestsDeclinedWithMessage;r.setState({reasonId:t,displayForm:i,message:a,placeholder:o,isIncludeMessage:s})}},r.setMessage=function(e){var t=e.target.value;r.setState({message:t})},r.changeIncludeMessageState=function(){r.setState({isIncludeMessage:!r.state.isIncludeMessage})},r.submitDialog=function(){if(r.state.isIncludeMessage){if(r.state.message.length<O)return void Object(w.d)("Your message should be at least "+O+" characters long.",w.c);r.declineRequestWithMessage()}else r.declineRequest()},r.openModal=function(e){e.preventDefault(),e.stopPropagation(),r.setState({isDialogVisible:!0})},r.clickCancel=function(){var e=r.props.onCancel;e?e():r.closeModal()},r.closeModal=function(){r.setState(k)},r.submitComplete=function(){r.props.isReloadPageOnSubmit?window.location.reload():(r.setState({isRequestProcessing:!1}),r.setState({isRequestDeclined:!0,isDialogVisible:!1}),Object(d.a)(["rg-base"],function(e){e.fire("RequestsView:renderAsReloadWidget"),e.fire("RequestsView:backToInbox"),e.fire("RequestsView:reloadWidget"),e.fire("DefaultHeaderRequestsCounter:refreshCounter")}))},r.shorten=function(e){return e.length<=250?e:e.substr(0,247)+"…"},o=n,a()(r,o)}return c()(t,e),t.prototype.declineRequestWithMessage=function(){var e=this,t=this.props,n=t.publicationUid,r=t.publicationTitle,i=t.requesters;this.setState({isRequestProcessing:!0}),Object(b.default)("messages.RequestMessageCreateDialog.html",{method:"POST",body:{requestedPublicationUid:n,message:this.state.message,subject:this.shorten("Full-text request: "+r),targets:g()(i,function(e){return e.accountKey}),reason:this.props.declineReasons[this.state.reasonId].reason,event:"decline_fulltext_request"}}).then(function(){e.submitComplete()}).catch(function(t){var n=t.errors;Object(w.d)(n,w.c),e.setState({isRequestProcessing:!1})})},t.prototype.declineRequest=function(){var e=this,t=this.props.publicationUid;this.setState({isRequestProcessing:!0}),Object(b.default)("home.ClusteredRequestPublicationHeaderItem.html",{method:"POST",body:{publicationUid:t,method:"delete",reason:this.props.declineReasons[this.state.reasonId].reason}}).then(function(){e.submitComplete()}).catch(function(t){var n=t.errors;Object(w.d)(n,w.c),e.setState({isRequestProcessing:!1})})},t.prototype.getAsOldDialog=function(){var e=f()({"fulltext-request-decline-dialog":!0,hidden:this.state.isRequestDeclined,"js-full-dialog":!0});return u.a.createElement("div",{className:e},u.a.createElement("div",{className:"dialog-bd"},this.getDialogBodyContent()),u.a.createElement("div",{className:"dialog-ft"},this.getDialogFooterContent()))},t.prototype.getDialogAsModal=function(){var e=f()({"fulltext-request-decline-dialog":!0,hidden:this.state.isRequestDeclined}),t=this.closeModal,n=this.state.isDialogVisible;return u.a.createElement("div",{className:e},this.getDialogTriggerButton(),u.a.createElement(E.Modal,{className:"fulltext-request-decline-dialog--modal",isOpen:n,onRequestClose:t},u.a.createElement(E.Modal.Body,{className:"dialog-body"},this.getDialogBodyContent()),u.a.createElement(E.Modal.Footer,null,this.getDialogFooterContent())))},t.prototype.getDialogTriggerButton=function(){var e=this.openModal;return u.a.createElement(E.Button,{type:"button",theme:"bare",onClick:e,className:"decline-button"},this.props.declineButtonTitle)},t.prototype.getDialogBodyContent=function(){var e=this.props,t=e.declineReasons,n=e.publicationRequesterList,r=e.hasRequestsDeclinedWithMessage,i=this.setReason,o=this.setMessage,a=this.changeIncludeMessageState,s=this.state,c=s.isIncludeMessage,l=s.displayForm,p=s.message,d=s.placeholder,h=s.reasonId;return u.a.createElement("div",null,u.a.createElement(E.Text,{size:"xl",spacing:"m"},"Why did you choose to decline this request?"),u.a.createElement(_,{declineReasons:t,setReason:i,reasonId:h}),u.a.createElement(x,{setMessage:o,changeIncludeMessageState:a,isIncludeMessage:c,publicationRequesterList:n,displayForm:l,message:p,placeholder:d,hasRequestsDeclinedWithMessage:r}))},t.prototype.getDialogFooterContent=function(){var e=this.clickCancel,t=this.submitDialog,n=this.state.reasonId?"":"disabled";return this.state.isRequestProcessing&&(n="busy"),u.a.createElement(E.ButtonGroup,null,u.a.createElement(E.Button,{type:"button",theme:"bare",onClick:e},"Cancel"),u.a.createElement(E.Button,{type:"button",color:"blue",onClick:t,status:n},"Submit"))},t.prototype.render=function(){return this.props.isDisplayAsOldDialog?this.getAsOldDialog():this.getDialogAsModal()},t}(l.Component);t.a=Object(p.connectWidget)(function(e,t){return{requesters:y()(e.accountsGlobalAccounts,t.requesterAccountIds)}})(j)},900:function(e,t,n){"use strict";function r(e){var t="facepile-react-item facepile-react-item-"+e.cssModifier;return a.a.createElement(l.a,{accountId:e.accountId,size:e.size,linked:!1,className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave})}function i(e){var t=e.item,n=e.accountIds.map(function(n){return a.a.createElement(t,{key:n,cssModifier:e.itemCSSModifier,accountId:n,size:e.size})}).reverse(),r=["facepile-react"];e.className&&r.push(e.className);var i=c()({"facepile-react-inner":!0,"facepile-react-l":"l"===e.size,"facepile-react-m":"m"===e.size,"facepile-react-s":"s"===e.size,"facepile-react-xs":"xs"===e.size,"facepile-react-xxs":"xxs"===e.size});return a.a.createElement("div",{className:c()(r)},a.a.createElement("span",{className:i},n))}n(1);var o=n(0),a=n.n(o),s=n(15),c=n.n(s),l=n(78);r.defaultProps={cssModifier:"default"},t.a=i,i.defaultProps={item:r}},905:function(e,t,n){"use strict";t.a=function(e){var t=e.account;return i.a.createElement("a",{href:t.url},i.a.createElement("img",{src:t.imageUrl,alt:t.fullName,width:e.width,height:e.height,className:"img-circle"}))};var r=n(0),i=n.n(r)},909:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=(n(1),n(0)),u=n.n(l),p=n(6),d=n(7),h=n.n(d),f=n(133),m=n(82),g=n(100),v=Object(f.a)(function(e){return e.tracking},{sessionTimeout:18e5,endpoint:"/beacon/notifications/V1/trackRequests"})(function(e){return u.a.createElement(m.a,{onChange:Object(g.a)(e.onAttentionChange),rootMargin:"-15% 0%"},e.children)}),y=n(2),b=n(494),E=n(42),w=n(1557),_=n(10),S=n(19),I=n.n(S),C=n(12),O=n(51),x=n(899),k=n(1703),j=n(64),T=new h.a("publication-request-content"),A="/api/notifications/requests/resend/publication",P=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.state={resendButtonStatus:""},r.openThankYouDialog=function(){var e=r.props,t=e.publication,n=e.thankYouButtonData,i=n.experimentGoal;!function(e){var t=e.publication,n=e.targetAccountId,r=e.experimentGoal,i=e.sourceAccountFirstName;Object(j.c)("messages.MessageCreateDialog.html",{params:{targetAccountId:n,subject:"Re: "+t.title,experimentGoalOnSent:r,text:"Thank you for sharing your research. - "+i}})}({publication:t,targetAccountId:n.targetAccountId,experimentGoal:i,sourceAccountFirstName:n.sourceAccountFirstName})},r.resendRequest=function(){var e=r.props.publicationRequesterEntityId;r.setState({resendButtonStatus:"disabled"}),Object(_.default)(A,{method:"PUT",body:{publicationRequesterId:e}}).then(function(){r.props.dispatch(Object(C.pushAlert)(function(){return u.a.createElement(y.Alert,{title:"Success",description:"Request sent",color:"blue"})}))}).catch(function(){r.setState({resendButtonStatus:""}),r.props.dispatch(Object(C.pushAlert)(function(){return u.a.createElement(y.Alert,{title:"Error",description:"Cannot resend",color:"red"})}))})},o=n,a()(r,o)}return c()(t,e),t.prototype.componentWillReceiveProps=function(e){e.resolvedPublicationRequests.includes(this.props.publication.publicationUid)&&this.props.hideItem()},t.prototype.render=function(){var e=this.props.publication;return u.a.createElement(y.Card,Object.assign({elevation:"none"},T(),{spacing:"m"}),u.a.createElement(y.Card.Body,null,u.a.createElement(O.a,e),u.a.createElement("div",T("controls"),this.getControls())),this.getCardFooter())},t.prototype.getControls=function(){var e=this,t=this.props,n=t.publication,r=t.fulltextRequestDeclineDialog,i=t.recommendPublicationButton,o=t.requestSubtype,a=t.downloadButtonData,s=t.isPrivatelySatisfiedRequest?u.a.createElement(y.Button,{size:"s",href:a.downloadUrl},"Download full-text"):u.a.createElement(y.Button,{size:"s",href:n.urls.title},"View publication");switch(o){case xe:return u.a.createElement(y.ButtonGroup,{gutter:"xs",wrap:!0},s,u.a.createElement(k.a,{widgetId:i,getAsButton:!0}),u.a.createElement(y.Button,{size:"s",theme:"bare",onClick:this.openThankYouDialog},"Say thanks"));case ke:return u.a.createElement(y.ButtonGroup,{gutter:"xs"},u.a.createElement(y.Button,{size:"s",onClick:this.resendRequest,status:this.state.resendButtonStatus},"Resend request"));case je:return null}return u.a.createElement(y.ButtonGroup,{gutter:"xs",wrap:!0},u.a.createElement(y.Button,{size:"s",onClick:function(){!function(e,t){Object(j.c)("literature.FulltextShareDialog.html",{params:{publicationUid:e,origin:t}})}(n.publicationUid,e.props.origin)}},"View request"),u.a.createElement(x.a,{widgetId:r,isReloadPageOnSubmit:!0}))},t.prototype.getCardFooter=function(){var e=this.props,t=e.firstRequesterAccount,n=e.publicationRequesterData,r=e.requestSubtype,i=e.isPrivatelySatisfiedRequest;if(r!==je||!t.accountId)return null;var o=n.requesterCount-1;return u.a.createElement(y.Card.Footer,{spacing:"m"},u.a.createElement(y.MediaObject,{gutter:"xs"},u.a.createElement(y.MediaObject.Item,null,u.a.createElement("img",Object.assign({src:t.profile.imageURL},T("requester-account-picture")))),u.a.createElement(y.MediaObject.Item,null,u.a.createElement("b",null,t.fullName)," ",i?"was sent a copy of your full-text":o>0?"and "+I()("other",o,!0)+" were notified that you added it":"was notified that you added it")))},t}(l.Component),M=Object(p.connectWidget)(function(e,t){var n=t.publicationRequesterData,r=e.literatureFulltextRequests.resolvedPublicationRequests,i=null;return n.firstRequesterAccountId&&(i=Object(E.c)(e,{accountId:n.firstRequesterAccountId})),{resolvedPublicationRequests:r,firstRequesterAccount:i}})(P),D=n(34),R=new h.a("project-request-content"),N="/api/notifications/requests/decline/project",L=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.declineRequest=function(){Object(_.default)(N,{method:"DELETE"}).then(function(){r.props.hideItem&&r.props.hideItem(),r.props.dispatch(Object(C.pushAlert)(function(){return u.a.createElement(y.Alert,{title:"Request has been declined",color:"blue"})}))}).catch(function(){r.props.dispatch(Object(C.pushAlert)(function(){return u.a.createElement(y.Alert,{title:"Error",description:"Cannot decline request",color:"red"})}))})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props.addProjectParams;return u.a.createElement(y.Card,Object.assign({},R(),{spacing:"m",elevation:"none"}),u.a.createElement(y.Text,Object.assign({size:"l",spacing:"s"},R("question")),"Add your current project to your profile to let people know more about your research."),u.a.createElement(y.ButtonGroup,null,u.a.createElement(y.Button,{size:"s",onClick:function(){Object(D.b)("ContentCreation:OpenProjectCreationDialog",e)}},"Add current project"),u.a.createElement(y.Button,{theme:"bare",size:"s",onClick:this.declineRequest},"Decline request")))},t}(l.Component),F=Object(p.connectWidget)()(L),U=n(28),B=n(25),q=new h.a("publication-feedback-request-content"),V=function(e){function t(){var r,o,s;i()(this,t);for(var c=arguments.length,l=Array(c),p=0;p<c;p++)l[p]=arguments[p];return r=o=a()(this,e.call.apply(e,[this].concat(l))),o.declineFeedbackRequest=function(){var e=o.props,t=e.headerRequestId,r=e.declineRequestUrl;o.props.dispatch(Object(B.mountModal)(function(){return u.a.createElement(U.a,{url:"messages.requestPublicationFeedback.RequestPublicationFeedbackDeclineModal.html",widgetParams:{headerRequestId:t},onDecline:function(){o.props.dispatch(Object(C.pushAlert)(function(){return u.a.createElement(y.Alert,{title:"Request has been declined",color:"blue"})})),o.props.hideItem()},submitUrl:r,loadComponentInternalDoNotSetOrYouWillBeFired:function(e){return n.e(11).then(function(){var t=[n(3259)];e.apply(null,t)}.bind(this)).catch(n.oe)}})}))},s=r,a()(o,s)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.publication,n=e.additionalUrls;return u.a.createElement(y.Card,Object.assign({elevation:"none"},q(),{spacing:"m"}),u.a.createElement(O.a,Object.assign({},t,{actions:u.a.createElement(y.PublicationItem.Actions,null,u.a.createElement(y.PublicationItem.Action,{href:n.feedback,priority:"primary"},"Give feedback"),u.a.createElement(y.PublicationItem.Action,{href:t.urls.title},"View publication"),u.a.createElement(y.PublicationItem.Action,{onClick:this.declineFeedbackRequest},"Decline request"))})))},t}(l.Component),W=Object(p.connectWidget)()(V),z=new h.a("profile-image-suggestion-content"),H="/api/notifications/requests/decline/imageSuggestion",Y="/api/notifications/requests/accept/imageSuggestion",K=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.acceptRequest=function(){var e=r.props,t=e.headerRequestId,n=e.usePhotoUrl;Object(_.default)(Y,{method:"PUT",body:{headerRequestId:t}}).then(function(){window.location.href=n}).catch(function(){r.props.dispatch(Object(C.pushAlert)(function(){return u.a.createElement(y.Alert,{title:"Error",description:"Server error occurred",color:"red"})}))})},r.declineRequest=function(){var e=r.props,t=e.headerRequestId,n=e.hideItem;Object(_.default)(H,{method:"DELETE",body:{headerRequestId:t}}).then(function(){n(),r.props.dispatch(Object(C.pushAlert)(function(){return u.a.createElement(y.Alert,{title:"Request has been declined",color:"blue"})}))}).catch(function(){r.props.dispatch(Object(C.pushAlert)(function(){return u.a.createElement(y.Alert,{title:"Error",description:"Cannot decline request",color:"red"})}))})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props.suggestedImage;return u.a.createElement(y.Card,Object.assign({},z(),{spacing:"m",elevation:"none"}),u.a.createElement("img",Object.assign({src:e.url},z("image"))),u.a.createElement(y.ButtonGroup,null,u.a.createElement(y.Button,{size:"s",onClick:this.acceptRequest},"Use this photo"),u.a.createElement(y.Button,{theme:"bare",size:"s",onClick:this.declineRequest},"This is not me")))},t}(l.Component),G=Object(p.connectWidget)()(K),Q=new h.a("author-cluster-suggestion-content"),$=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.openReviewDialog=function(){var e=r.props,t=e.headerRequestId,n=e.reviewSuggestionDialogData;!function(e){var t=e.authorUid,n=e.claimOrigin,r=e.claimChannel,i=e.headerRequestId,o=e.experimentSource;Object(j.c)("literature.AuthorClaimPublicationSelectionDialog.html",{params:{authorUid:t,claimOrigin:n,claimChannel:r,headerRequestId:i,experimentSource:o}})}({headerRequestId:t,experimentSource:n.experimentSource,claimChannel:n.claimChannel,claimOrigin:n.claimOrigin,authorUid:n.authorUid})},o=n,a()(r,o)}return c()(t,e),t.prototype.componentDidMount=function(){this.props.openDialogOnMount&&this.openReviewDialog()},t.prototype.render=function(){var e=this.props.publication;return u.a.createElement(y.Card,Object.assign({elevation:"none"},Q(),{spacing:"m"}),u.a.createElement(y.Card.Body,null,u.a.createElement(O.a,Object.assign({},e,{actions:u.a.createElement(y.PublicationItem.Actions,null,u.a.createElement(y.PublicationItem.Action,{priority:"primary",onClick:this.openReviewDialog},"Review suggestion"))}))))},t}(l.Component),X=Object(p.connectWidget)()($),J=new h.a("author-cluster-suggestion-content"),Z="/api/notifications/requests/decline/pushedPublication",ee=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.declineRequest=function(){var e=r.props,t=e.headerRequestId,n=e.hideItem;Object(_.default)(Z,{method:"DELETE",body:{headerRequestId:t}}).then(function(){n(),r.props.dispatch(Object(C.pushAlert)(function(){return u.a.createElement(y.Alert,{title:"Request has been declined",color:"blue"})}))}).catch(function(){r.props.dispatch(Object(C.pushAlert)(function(){return u.a.createElement(y.Alert,{title:"Error",description:"Cannot decline request",color:"red"})}))})},o=n,a()(r,o)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.publication,n=e.reviewUrl;return u.a.createElement(y.Card,Object.assign({elevation:"none"},J(),{spacing:"m"}),u.a.createElement(y.Card.Body,null,u.a.createElement(O.a,Object.assign({},t,{actions:u.a.createElement(y.PublicationItem.Actions,null,u.a.createElement(y.PublicationItem.Action,{href:n,priority:"primary"},"Review updates"),u.a.createElement(y.PublicationItem.Action,{onClick:this.declineRequest},"Decline request"))}))))},t}(l.Component),te=Object(p.connectWidget)()(ee),ne=n(1704),re=new h.a("account-email-suggestion-content"),ie=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.suggestedEmail,n=e.requestControls,r=e.hideItem;return u.a.createElement(y.Card,Object.assign({},re(),{spacing:"m",elevation:"none"}),u.a.createElement(y.Text,{size:"l",spacing:"s"},u.a.createElement("b",null,t)),u.a.createElement(ne.a,{widgetId:n,onResolveHeaderRequest:r}))},t}(l.Component),oe=Object(p.connectWidget)()(ie),ae=n(18),se=new h.a("notification-center-request-item-story-icon"),ce=function(){return u.a.createElement("div",se(),u.a.createElement("div",se("wrapper"),u.a.createElement(y.Icon,{identifier:"social-rg",size:"m"})))};ce.PropTypes={};var le=Object(ae.a)(y.ActivityItem.StoryIcon)(ce),ue=new h.a("notification-center-request-item-action-title"),pe=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.requestObjectType,n=e.requestSubtype,r=e.isPrivatelySatisfied,i=null;switch(t){case be:if(n)switch(n){case xe:i=r?"sent you the full-text you requested":"added the full-text you requested";break;case ke:i="requested the full-text of this research";break;case je:i=r?"sent a the full-text of your research privately":"added the full-text of your research"}else i="requested a full-text of your publication";break;case Ee:i="wants to know what you're working on right now";break;case we:i="requested your feedback on this research";break;case _e:i="endorsed you for:";break;case Se:i="thinks you authored this research";break;case Ie:i="suggested you add this image as your profile photo";break;case Ce:i="research item was recently added to your profile";break;case Oe:i="we found an email address in a research you authored. Want to add it as your additional email?"}return u.a.createElement(y.Text,Object.assign({spacing:"none"},ue()),i)},t}(l.Component),de=Object(p.connectWidget)()(pe),he=new h.a("notification-center-request-item-requester"),fe=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.userAccountId,n=e.actorAccountId,r=e.actorAccount,i=e.isServiceRequest,o=e.requesterCount,a=e.requestSubtype;if(i)return u.a.createElement("div",he(),u.a.createElement(y.Link,{color:"blue",theme:"bare"},"ResearchGate"));if(r){var s=t===n?"You":r.fullName;return u.a.createElement("div",he(),u.a.createElement(y.Link,{color:"blue",theme:"bare",href:r.accountURL},s),this.isPendingRequest(a)&&o>1&&" and "+I()("other",o-1,!0))}return null},t.prototype.isPendingRequest=function(e){return![je,xe].includes(e)},t}(l.Component),me=Object(p.connectWidget)(function(e,t){var n=t.actorAccountId;return{actorAccount:Object(E.c)(e,{accountId:n})}})(fe),ge=n(17);n.d(t,"j",function(){return be}),n.d(t,"h",function(){return Ee}),n.d(t,"i",function(){return we}),n.d(t,"f",function(){return _e}),n.d(t,"e",function(){return Se}),n.d(t,"g",function(){return Ie}),n.d(t,"k",function(){return Ce}),n.d(t,"d",function(){return Oe}),n.d(t,"b",function(){return xe}),n.d(t,"c",function(){return ke}),n.d(t,"a",function(){return je});var ve,ye=new h.a("notification-center-request-item"),be="publicationRequest",Ee="projectRequest",we="publicationFeedbackRequest",_e="endorsement",Se="authorClusterSuggestion",Ie="profileImageSuggestion",Ce="reviewPushedPublication",Oe="accountEmailSuggestion",xe="outgoingFulfilled",ke="outgoingPending",je="fulfilled",Te=(ve={},ve[be]=M,ve[Ee]=F,ve[we]=W,ve[Ie]=G,ve[Se]=X,ve[Ce]=te,ve[Oe]=oe,ve),Ae={display:!0},Pe="NotificationCenterRequestItem",Me=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.hideItem=function(){r.props.dispatch(Object(w.b)()),r.setState({display:!1})},r.state=Ae,r}return c()(t,e),t.prototype.getTrackingProps=function(){var e=this.props.headerRequestId;if(!e)return{context:"notificationCenter",componentIdentifier:Pe};return{rgKey:new ge.a(e,ge.b.TYPE_REQUEST).getFullKey(),componentIdentifier:Pe,context:"notificationCenter"}},t.prototype.render=function(){var e=this.props,t=e.requestTimeAgo,n=e.isHighlighted,r=e.requestItemActionTitleWidget,i=e.requestItemRequester;return this.state.display?u.a.createElement(v,{tracking:this.getTrackingProps()},u.a.createElement("div",ye(null,n&&"highlighted"),u.a.createElement(y.ActivityItem,null,u.a.createElement(b.a,{timeAgo:t}),u.a.createElement(y.ActivityItem.Story,null,this.getActivityStoryVisual(),this.getAdditionalActivityStoryIcon(),u.a.createElement(y.ActivityItem.StorySubject,null,u.a.createElement(me,{widgetId:i})),u.a.createElement(y.ActivityItem.StoryBody,null,u.a.createElement(de,{widgetId:r}))),u.a.createElement(y.ActivityItem.EntityList,null,u.a.createElement(y.ActivityItem.EntityListItems,null,u.a.createElement(y.ActivityItem.EntityListItem,null,this.getMessage()),u.a.createElement(y.ActivityItem.EntityListItem,null,this.getItemContent())))))):null},t.prototype.getMessage=function(){var e=this.props.message;return e?u.a.createElement(y.MessageItem,ye("message"),u.a.createElement(y.MessageItem.Body,null,e)):null},t.prototype.getActivityStoryVisual=function(){var e=this.props,t=e.actorAccount;return e.isServiceRequest?u.a.createElement(le,null):t?u.a.createElement(y.ActivityItem.StoryImage,{href:t.accountURL,alt:t.fullName,imageUrl:t.profile.imageURL}):null},t.prototype.getAdditionalActivityStoryIcon=function(){switch(this.props.requestSubtype){case xe:return u.a.createElement(y.ActivityItem.StoryIcon,{priority:"tertiary",identifier:"stack"});case ke:return u.a.createElement(y.ActivityItem.StoryIcon,{priority:"tertiary",identifier:"upload-document"});case je:return u.a.createElement(y.ActivityItem.StoryIcon,{priority:"tertiary",identifier:"upload"})}return null},t.prototype.getItemContent=function(){var e=this.props,t=e.contentWidget,n=e.requestObjectType;if(!Te.hasOwnProperty(n))return null;var r=Te[n];return u.a.createElement(r,{widgetId:t,hideItem:this.hideItem})},t}(l.Component);t.l=Object(p.connectWidget)(function(e,t){var n=t.actorAccountId;return{actorAccount:Object(E.c)(e,{accountId:n})}})(Me)},919:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(11),i=n.n(r),o=n(13),a=(n.n(o),i()(["\n            mutation RemoveMemberFromLab($personKey: String!) {\n                removeMemberFromLab(personKey: $personKey) {\n                    fullName\n                }\n            }\n        "],["\n            mutation RemoveMemberFromLab($personKey: String!) {\n                removeMemberFromLab(personKey: $personKey) {\n                    fullName\n                }\n            }\n        "])),s=function(e){var t=e.personKey;return{mutation:Object(o.gql)(a),variables:{personKey:t}}}},921:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(6),u=n(1),p=(n.n(u),n(0)),d=n.n(p),h=n(2),f=n(7),m=n.n(f),g=n(19),v=n.n(g),y=n(14),b=n(942),E=n(153),w=n(246),_=n(17),S=new m.a("invite-authors-list"),I=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(c))),r.onAuthorInputChange=function(e){var t=e.currentTarget,n=t.value,i=r.props.authors;i[t.name].email=n,r.props.dispatch(Object(b.f)(i[t.name].authorUid,n))},r.onConfirmAuthorEmail=function(e){r.props.dispatch(Object(b.d)(e.authorUid)),Object(y.a)(r.props.milestones.confirmedEmail)},r.onRemoveAuthorEmail=function(e){r.props.dispatch(Object(b.e)(e.authorUid)),Object(y.a)(r.props.milestones.removedEmail)},r.onInvite=function(){r.props.onInvite()},o=n,a()(r,o)}return c()(t,e),t.prototype.getEmailInput=function(e,t){return e.suggestedEmail&&!1===e.usedSuggestedEmail?d.a.createElement("div",null,d.a.createElement(h.Badge,{size:"l",theme:"solid",color:"green",luminosity:"high",radius:"m"},e.suggestedEmail)):d.a.createElement(h.Input,Object.assign({},S("author-input"),{placeholder:"Enter an email address",type:"email",name:e.authorKey,autoFocus:t,value:e.email,onChange:this.onAuthorInputChange}))},t.prototype.getActions=function(e){var t=this;return e.suggestedEmail&&!0!==e.usedSuggestedEmail?e.suggestedEmail&&!1===e.usedSuggestedEmail?d.a.createElement(h.MediaObject.Item,{width:"auto"},d.a.createElement(h.Stack,{gutter:"xs",spacing:"none",gutterOutside:!1,showDivider:!1},d.a.createElement(h.Stack.Item,null,d.a.createElement(h.Link,{theme:"bare",onClick:function(){return t.onConfirmAuthorEmail(e)},style:{color:"#BBBBBB"}},d.a.createElement(h.Pack,{gutter:"xxs",verticalAlign:"middle"},d.a.createElement(h.Pack.Item,null,d.a.createElement(h.Icon,{identifier:"check-circle",size:"s",style:{color:"#007478"}})),d.a.createElement(h.Pack.Item,null,d.a.createElement(h.Text,{size:"s"},"Confirm"))))),d.a.createElement(h.Stack.Item,null,d.a.createElement(h.Link,{theme:"bare",onClick:function(){return t.onRemoveAuthorEmail(e)},style:{color:"#BBBBBB"}},d.a.createElement(h.Pack,{gutter:"xxs",verticalAlign:"middle"},d.a.createElement(h.Pack.Item,null,d.a.createElement(h.Icon,{identifier:"close-circle",size:"s",style:{color:"#E03D02"}})),d.a.createElement(h.Pack.Item,null,d.a.createElement(h.Text,{size:"s"},"Remove"))))))):void 0:null},t.prototype.getAuthors=function(){var e=this,t=[],n=!0;return Object.keys(this.props.authors).forEach(function(r){var i=e.props.authors[r];e.props.u2uApprovedAuthorRgKeys[r]||(t.push(d.a.createElement("div",Object.assign({},S("author-item-container"),{key:r}),d.a.createElement(h.MediaObject,Object.assign({verticalAlign:"top"},S("author-item")),d.a.createElement(h.MediaObject.Item,{width:"full"},d.a.createElement(h.Stack,{gutter:"xs",spacing:"none",gutterOutside:!1,showDivider:!1},d.a.createElement(h.Stack.Item,null,d.a.createElement(h.List,{type:"inline",spacing:"none"},d.a.createElement(h.List.Item,null,d.a.createElement("b",null,i.name)),d.a.createElement(h.List.Item,S("author-affiliation"),i.affiliation))),d.a.createElement(h.Stack.Item,null,e.getEmailInput(i,n)))),e.getActions(i)))),n=!1)}),t},t.prototype.getBody=function(){var e=Object.keys(this.props.authors).length,t=void 0;return this.props.hideHeadline||(t=d.a.createElement("div",S("body-headline"),d.a.createElement(h.Text,{size:"xl",family:"sans-serif",spacing:"none",tag:"div"},"You have ",e," unconfirmed ",v()("co-author",e)))),d.a.createElement("div",S("body"),t,d.a.createElement("div",S("body-coauthors"),this.getAuthors()))},t.prototype.getGreenBox=function(){return 0===this.props.suggestedAuthorEmailsCount?null:d.a.createElement(h.MediaObject.Item,S("green-box-info"),d.a.createElement(h.Text,{size:"m"},d.a.createElement("b",null,"We found emails of ",this.props.suggestedAuthorEmailsCount," ",v()("co-author",this.props.suggestedAuthorEmailsCount)," in public publication data")),d.a.createElement(h.Text,{size:"m"},"Confirm your co-authors' email addresses to invite them. ",d.a.createElement(h.Tooltip,{scope:"local",mount:"span",position:"below",color:"black",spacing:"s",target:d.a.createElement(h.Link,null,"More Info")},"We take privacy very seriously. These email addresses were made publicly available by the authors and found in full-text articles and publication metadata. We strongly encourage you to ensure that these email addresses are correct. Please do not use these email addresses for any other purposes than inviting your co-authors to join ResearchGate.")))},t.prototype.render=function(){return d.a.createElement("div",S(),this.getGreenBox(),this.getBody())},t}(p.Component);t.a=Object(l.connectWidget)(function(e){var t={},n=Object(E.b)(e);return n&&n.forEach(function(e){if(e.status===w.STATUS_APPROVED){var n=new _.a(e.targetAuthorUid,_.b.TYPE_AUTHOR);t[n.toString()]=w.STATUS_APPROVED}}),{authors:e.invitationsInviteAuthorsList.authors,suggestedAuthorEmailsCount:e.invitationsInviteAuthorsList.suggestedAuthorEmailsCount,u2uApprovedAuthorRgKeys:t}})(I)},932:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.getIconFileExtension(),t=e?u.a.createElement("span",{className:"file-extension"},e):null;return u.a.createElement("div",{className:"general-attachment-item"},u.a.createElement("div",{className:"attachment-list-item"},u.a.createElement("div",{className:"item-thumbnail"},u.a.createElement("span",{className:"ico-file-thumbnail"},t)),u.a.createElement("div",{className:"item-info"},u.a.createElement("div",{className:"item-title"},this.props.title),u.a.createElement("div",{className:"item-subline"},this.props.subline),u.a.createElement("div",{className:"item-actions"},this.props.actions))))},t.prototype.getIconFileExtension=function(){var e=this.props.mimeType.split("/").pop();if(e.length>4){var t=this.props.title.split(".");if(t&&(e=t.pop()),!e||e.length>4)return null}return e},t}(u.a.Component);t.a=p},933:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(6),d=n(149),h=n(19),f=n.n(h),m=n(2),g=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){return this.props.onlyQuestion?u.a.createElement(m.Text,{size:"xl",spacing:"s"},"How do you want to share your full-text?"):this.props.promoRequesterOtherAsNumberOnly?this.getPromoWithNumberOnly():this.props.onlyPromoRequester?this.getOnlyPromoRequester():this.props.showAllRequestersAsList?this.getAllRequestersAsList():this.props.showAsString?this.getAsString():this.getFullList()},t.prototype.getAllRequestersAsList=function(){var e=this.props.requesterAccountList;return e.unshift(this.props.promoRequester),u.a.createElement("div",{className:"requester-promo-list full-author-list"},u.a.createElement(m.Tooltip,{position:"below",color:"black",target:u.a.createElement("span",null,u.a.createElement(m.Icon,null)," ",e.length," ",f()("researcher",e.length)," requested this ",this.props.fileCategory)},this.getRequestersList(e)))},t.prototype.getOnlyPromoRequester=function(){return u.a.createElement("span",{className:"single-promo-requester"},this.props.promoRequester.firstName," ",this.props.promoRequester.lastName)},t.prototype.getAsString=function(){return u.a.createElement("div",{className:"requester-promo-list as-string"},u.a.createElement("a",{href:this.props.promoRequester.url,target:"_blank",rel:"noopener"},this.props.promoRequester.firstName," ",this.props.promoRequester.lastName)," ",this.props.requesterAccountList.length?u.a.createElement("span",{className:"requesters-info"},"and ",u.a.createElement(m.Tooltip,{position:"below",color:"black",target:u.a.createElement("span",{className:"requester-accounts-list-tooltip"},this.props.requesterAccountList.length," ",this.props.requesterAccountList.length>1?"others":"other researcher")},this.getRequestersList(this.props.requesterAccountList))):null," requested the ",this.props.fileCategory," of this publication.")},t.prototype.getPromoWithNumberOnly=function(){return u.a.createElement(m.Pack,{className:"requester-promo-list",verticalAlign:"middle",gutter:"s"},u.a.createElement(m.Pack.Item,null,u.a.createElement("div",{className:"promo-account-image"},u.a.createElement("a",{href:this.props.promoRequester.url,target:"_blank",rel:"noopener"},u.a.createElement("img",{className:"promo-account-image--img",src:this.props.promoRequester.image})))),u.a.createElement(m.Pack.Item,{className:"promo-account-info long-info"},u.a.createElement("div",null,u.a.createElement("b",null,u.a.createElement("a",{href:this.props.promoRequester.url,target:"_blank",rel:"noopener"},this.props.promoRequester.firstName," ",this.props.promoRequester.lastName))," ",this.props.requesterAccountList.length?"and "+this.props.requesterAccountList.length+" other":""," requested the ",this.props.fileCategory," of this publication."),u.a.createElement("div",null,"You can share the ",this.props.fileCategory," publicly or send it to them privately.")))},t.prototype.getFullList=function(){return u.a.createElement(m.Pack,{className:"requester-promo-list",verticalAlign:"middle",gutter:"s"},u.a.createElement(m.Pack.Item,null,u.a.createElement("div",{className:"promo-account-image"},u.a.createElement("a",{href:this.props.promoRequester.url,target:"_blank",rel:"noopener"},u.a.createElement("img",{className:"promo-account-image--img",src:this.props.promoRequester.image})))),u.a.createElement(m.Pack.Item,{className:"promo-account-info"},u.a.createElement("div",null,u.a.createElement("span",{className:"promo-account-name"},u.a.createElement("a",{href:this.props.promoRequester.url,target:"_blank",rel:"noopener"},this.props.promoRequester.firstName," ",this.props.promoRequester.lastName))," ",d.a," ",this.props.promoRequester.institution),u.a.createElement("div",null,this.props.requesterAccountList.length?u.a.createElement("span",{className:"requesters-info"},"and ",u.a.createElement(m.Tooltip,{spacing:"s",color:"black",target:u.a.createElement("span",{className:"requester-accounts-list-tooltip"},this.props.requesterAccountList.length," other")},this.getRequestersList(this.props.requesterAccountList))," ",f()("researcher",this.props.requesterAccountList.length)):null," requested your ",this.props.fileCategory)))},t.prototype.getRequestersList=function(e){var t=this,n=void 0;if(e.length>0){var r=e.map(function(e,n){return t.buildRequesterItem(e,n)});n=u.a.createElement("ul",null,r)}return n},t.prototype.buildRequesterItem=function(e,t){return u.a.createElement("li",{key:t},e.firstName," ",e.lastName)},t}(l.Component);t.default=Object(p.connectWidget)()(g)},934:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(6),d=n(2),h=function(e){function t(n){i()(this,t);var r=a()(this,e.call(this,n));return r.state={requesterList:n.requesterList},r.removeRequester=r.removeRequester.bind(r),r}return c()(t,e),t.prototype.getRequestersList=function(){var e=this;return this.state.requesterList.map(function(t,n){var r=void 0;return e.state.requesterList.length>1&&(r=u.a.createElement("a",{className:"keyword-list-token-remove",onClick:e.removeRequester,"data-accountId":t.id},"×")),u.a.createElement("li",{key:n,className:"requester-promo-list-item keyword-list-token approved keyword-list-token-notfollowing"},u.a.createElement("span",{className:"keyword-list-token-text ga-keyword-pill"},t.firstName," ",t.lastName),r)})},t.prototype.getRequestersListData=function(){return this.state.requesterList},t.prototype.removeRequester=function(e){if(e.currentTarget){var t=parseInt(e.currentTarget.getAttribute("data-accountId")),n=this.state.requesterList.filter(function(e){return e.id!==t});this.setState({requesterList:n})}},t.prototype.render=function(){return u.a.createElement("div",{className:"requester-editable-list clearfix"},u.a.createElement(d.Text,{spacing:"xxs",size:"s"},"Send to:"),u.a.createElement("ul",null,this.getRequestersList()))},t}(l.Component);t.a=Object(p.connectWidget)(void 0,void 0,void 0,{withRef:!0})(h)},935:function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=(n(1),n(18)),a=n(2),s=Object(o.a)(a.QuestionItem.Actions)(function(e){var t=e.actions;return t?i.a.createElement(a.QuestionItem.Actions,null,t):null}),c=n(11),l=n.n(c),u=n(8),p=n.n(u),d=n(53),h=n.n(d),f=n(67),m=n.n(f),g=n(13),v=function(e){var t=e.post,n=t.primaryKeyword,r=t.author;if(!r)return null;var o=r.fullName,s=r.imageUrl,c=r.url;if(!o)return null;var l=o+" asked a question";return n&&(l=o+" asked a question in "+n.name),i.a.createElement(a.Qualifier,{priority:"secondary"},i.a.createElement(a.Qualifier.VisualImage,{alt:o,src:s}),i.a.createElement(a.Qualifier.Labels,null,i.a.createElement(a.Qualifier.Label,null,i.a.createElement(a.Link,{theme:"bare",href:c},l))))},y=n(339),b=function(e){var t=e.post.primaryKeyword,n="Deleted profile asked a question";return t&&(n="Deleted profile asked a question in "+t.name),i.a.createElement(a.Qualifier,{priority:"secondary"},i.a.createElement(a.Qualifier.VisualImage,{alt:"",src:y.a}),i.a.createElement(a.Qualifier.Labels,null,i.a.createElement(a.Qualifier.Label,null,n)))},E=l()(["\n            query QuestionPostItemAuthor($id: ID!) {\n                post(id: $id) {\n                    primaryKeyword {\n                        name\n                    }\n                    author {\n                        fullName\n                        imageUrl\n                        url\n                    }\n                }\n            }\n        "],["\n            query QuestionPostItemAuthor($id: ID!) {\n                post(id: $id) {\n                    primaryKeyword {\n                        name\n                    }\n                    author {\n                        fullName\n                        imageUrl\n                        url\n                    }\n                }\n            }\n        "]),w=p()(Object(o.a)(a.Qualifier),Object(g.withQuery)(Object(g.gql)(E)),h()(function(e){return!!e.post.author},m()(v),m()(b)))(v),_=n(305),S=l()(["\n            query QuestionPostItemBody($id: ID!) {\n                post(id: $id) {\n                    message {\n                        id\n                        ...GraphQLMessageBody @embed\n                    }\n                    plainText\n                }\n            }\n        "],["\n            query QuestionPostItemBody($id: ID!) {\n                post(id: $id) {\n                    message {\n                        id\n                        ...GraphQLMessageBody @embed\n                    }\n                    plainText\n                }\n            }\n        "]),I=p()(Object(o.a)(a.QuestionItem.Body),Object(g.withQuery)(Object(g.gql)(S)))(function(e){var t=e.post,n=(t=void 0===t?{}:t).message,r=t.plainText;return n||r?n?i.a.createElement(_.a,{id:n.id,lineTruncationLength:300,richText:!0,collapsible:!0}):i.a.createElement(a.QuestionItem.Body,null,r):null}),C=n(19),O=n.n(C),x=l()(["\n            query QuestionPostItemCommentCount($id: ID!) {\n                post(id: $id) {\n                    childCount\n                }\n            }\n        "],["\n            query QuestionPostItemCommentCount($id: ID!) {\n                post(id: $id) {\n                    childCount\n                }\n            }\n        "]),k=function(e){var t=e.post,n=(t=void 0===t?{}:t).childCount,r=e.showDefaultText;if(0!==n&&!n)return null;if(0===n&&!r)return null;var o=n+" "+O()("Answer",n);return i.a.createElement(a.QuestionItem.CommentCount,null,n>0?o:"Be the first to answer")};k.defaultProps={showDefaultText:!0};var j=p()(Object(o.a)(a.QuestionItem.CommentCount),Object(g.withQuery)(Object(g.gql)(x)))(k),T=n(3),A=n.n(T),P=n(4),M=n.n(P),D=n(5),R=n.n(D),N=n(222),L=l()(["\n            query QuestionPostItemImages($id: ID!) {\n                post(id: $id) {\n                    message {\n                        links {\n                            id\n                            imageUrl\n                            imageThumbnailUrl\n                        }\n                    }\n                }\n            }\n        "],["\n            query QuestionPostItemImages($id: ID!) {\n                post(id: $id) {\n                    message {\n                        links {\n                            id\n                            imageUrl\n                            imageThumbnailUrl\n                        }\n                    }\n                }\n            }\n        "]),F=function(e){function t(){var n,r,o;A()(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=r=M()(this,e.call.apply(e,[this].concat(s))),r.handleImageLightBoxClose=function(){r.props.setLightBox(null)},r.handleImageLightBoxOpen=function(e){var t=[{buttonProps:{href:e,key:"download"},iconProps:{identifier:"download"},label:"Download",className:"lightbox-download-button"}];r.props.setLightBox(i.a.createElement(N.a,{buttons:t,onClose:r.handleImageLightBoxClose,initialImageUrl:{downloadUrl:e,largeUrl:e}}))},o=n,M()(r,o)}return R()(t,e),t.prototype.render=function(){var e=this,t=this.props.post;if(!t.message)return null;var n=t.message.links,r=(void 0===n?[]:n).filter(function(e){var t=e.imageUrl,n=e.imageThumbnailUrl;return!!t&&!!n});return r.length?i.a.createElement(a.QuestionItem.Images,null,r.map(function(t){var n=t.id,r=t.imageUrl;return i.a.createElement(a.QuestionItem.Image,{key:n,src:r,onClick:function(){return e.handleImageLightBoxOpen(r)}})})):null},t}(r.Component),U=p()(Object(o.a)(a.QuestionItem.Images),Object(g.withQuery)(Object(g.gql)(L)))(F),B=l()(["\n            query QuestionPostItemKeywords($id: ID!) {\n                post(id: $id) {\n                    keywords {\n                        name\n                        url\n                    }\n                }\n            }\n        "],["\n            query QuestionPostItemKeywords($id: ID!) {\n                post(id: $id) {\n                    keywords {\n                        name\n                        url\n                    }\n                }\n            }\n        "]),q=p()(Object(o.a)(a.QuestionItem.Keywords),Object(g.withQuery)(Object(g.gql)(B)))(function(e){var t=e.limit,n=e.post,r=(n=void 0===n?{}:n).keywords;if(!r&&!r.length)return null;var o=t?r.slice(0,t-1):r;return i.a.createElement(a.QuestionItem.Keywords,null,o.map(function(e){return i.a.createElement(a.QuestionItem.Keyword,{key:e.name,href:e.url},e.name)}))}),V=n(46),W=n.n(V),z=l()(["\n            query QuestionPostItemCreatedAt($id: ID!) {\n                post(id: $id) {\n                    createdAt\n                }\n            }\n        "],["\n            query QuestionPostItemCreatedAt($id: ID!) {\n                post(id: $id) {\n                    createdAt\n                }\n            }\n        "]),H=p()(Object(o.a)(a.QuestionItem.MetaItem),Object(g.withQuery)(Object(g.gql)(z)))(function(e){var t=e.post,n=(t=void 0===t?{}:t).createdAt;return n?i.a.createElement(a.QuestionItem.MetaItem,null,"Asked ",W.a.parseZone(n).fromNow()):null}),Y=l()(["\n            query QuestionPostItemMetaItems($id: ID!) {\n                post(id: $id) {\n                    ...QuestionPostItemCreatedAt @embed\n                }\n            }\n        "],["\n            query QuestionPostItemMetaItems($id: ID!) {\n                post(id: $id) {\n                    ...QuestionPostItemCreatedAt @embed\n                }\n            }\n        "]),K=p()(Object(o.a)(a.QuestionItem.MetaItems),Object(g.withQuery)(Object(g.gql)(Y)))(function(e){var t=e.id,n=e.post,r=(n=void 0===n?{}:n).createdAt;return r?i.a.createElement(a.QuestionItem.MetaItems,null,r&&i.a.createElement(H,{id:t})):null}),G=l()(["\n            query QuestionPostItemLikeRatingCount($id: ID!) {\n                post(id: $id) {\n                    likeCount\n                    url\n                }\n            }\n        "],["\n            query QuestionPostItemLikeRatingCount($id: ID!) {\n                post(id: $id) {\n                    likeCount\n                    url\n                }\n            }\n        "]),Q=p()(Object(o.a)(a.QuestionItem.Metric),Object(g.withQuery)(Object(g.gql)(G)))(function(e){var t=e.post,n=(t=void 0===t?{}:t).likeCount,r=t.url;if(!n)return null;var o=n+" "+O()("Recommendation",n);return i.a.createElement(a.QuestionItem.Metric,{href:r},o)}),$=l()(["\n            query QuestionPostItemQuestionViewsMetricsTotal($id: ID!) {\n                post(id: $id) {\n                    questionViewsMetrics {\n                        total\n                    }\n                    url\n                }\n            }\n        "],["\n            query QuestionPostItemQuestionViewsMetricsTotal($id: ID!) {\n                post(id: $id) {\n                    questionViewsMetrics {\n                        total\n                    }\n                    url\n                }\n            }\n        "]),X=p()(Object(o.a)(a.QuestionItem.Metric),Object(g.withQuery)(Object(g.gql)($)))(function(e){var t=e.post,n=(t=void 0===t?{}:t).questionViewsMetrics,r=t.url;if(!n)return null;var o=n.total;if(!o)return null;var s=o+" "+O()("Read",o);return i.a.createElement(a.QuestionItem.Metric,{href:r},s)}),J=l()(["\n            query QuestionPostItemMetrics($id: ID!) {\n                post(id: $id) {\n                    ...QuestionPostItemQuestionViewsMetricsTotal @embed\n                    ...QuestionPostItemLikeRatingCount @embed\n                }\n            }\n        "],["\n            query QuestionPostItemMetrics($id: ID!) {\n                post(id: $id) {\n                    ...QuestionPostItemQuestionViewsMetricsTotal @embed\n                    ...QuestionPostItemLikeRatingCount @embed\n                }\n            }\n        "]),Z=p()(Object(o.a)(a.QuestionItem.Metrics),Object(g.withQuery)(Object(g.gql)(J)))(function(e){var t=e.id,n=e.post,r=n.likeCount,o=n.questionViewsMetrics,s=o?o.total:null;return r||s?i.a.createElement(a.QuestionItem.Metrics,null,!!s&&i.a.createElement(X,{id:t}),!!r&&i.a.createElement(Q,{id:t})):null}),ee=l()(["\n            query QuestionPostItemStatus($id: ID!) {\n                post(id: $id) {\n                    type\n                    isRecent\n                }\n            }\n        "],["\n            query QuestionPostItemStatus($id: ID!) {\n                post(id: $id) {\n                    type\n                    isRecent\n                }\n            }\n        "]),te=p()(Object(o.a)(a.QuestionItem.Status),Object(g.withQuery)(Object(g.gql)(ee)))(function(e){var t=e.post,n=(t=void 0===t?{}:t).isRecent,r=t.type,o={answer:"Answer",question:"Question"};if(!r||!o[r])return null;var s=(n?"New ":"")+o[r];return i.a.createElement(a.QuestionItem.Status,null,s)}),ne=n(16),re=n.n(ne),ie=n(80),oe=n.n(ie),ae=n(1408),se=l()(["\n            query QuestionPostItemTitle($id: ID!) {\n                post(id: $id) {\n                    url\n                    title,\n                    message {\n                        title\n                    }\n                }\n            }\n        "],["\n            query QuestionPostItemTitle($id: ID!) {\n                post(id: $id) {\n                    url\n                    title,\n                    message {\n                        title\n                    }\n                }\n            }\n        "]),ce=p()(Object(o.a)(a.QuestionItem.Title),Object(g.withQuery)(Object(g.gql)(se),{mapDataToProps:function(e){var t=e.post,n=t.url,r=t.message,i=t.title;return{title:r?r.title:i,url:n}}}),oe()(function(e){var t=e.url,n=e.context,r=re()(e,["url","context"]);return Object.assign({url:Object(ae.a)(t,n),context:n},r)}))(function(e){var t=e.title,n=e.url;return i.a.createElement(a.QuestionItem.Title,{href:n},t)});n.d(t,"a",function(){return s}),n.d(t,"b",function(){return w}),n.d(t,"c",function(){return I}),n.d(t,"d",function(){return j}),n.d(t,"e",function(){return U}),n.d(t,"f",function(){return q}),n.d(t,"g",function(){return K}),n.d(t,"h",function(){return Z}),n.d(t,"i",function(){return te}),n.d(t,"j",function(){return ce})},946:function(e,t,n){"use strict";n(1);var r=n(0),i=n.n(r),o=n(8),a=n.n(o),s=n(53),c=n.n(s),l=n(67),u=n.n(l),p=n(131),d=n.n(p),h=n(98),f=n.n(h),m=n(30),g=n.n(m),v=n(20),y=n(812),b=n(2),E=function(e){var t=e.label,n=e.tooltip,r=e.onClick,o=e.buttonProps;return i.a.createElement(b.Tooltip,{position:"below",target:i.a.createElement(b.Button,Object.assign({},o,{type:"button",onClick:r}),t)},n)},w=function(e){var t=e.label,n=e.tooltip,r=e.buttonProps;return i.a.createElement(b.Tooltip,{position:"below",target:i.a.createElement("div",{style:{display:"inline-block"}},i.a.createElement(b.Button,Object.assign({},r,{status:"disabled"}),i.a.createElement(b.Button.Icon,{identifier:"check"}),i.a.createElement(b.Button.Label,null,t)))},n)},_=function(e){var t=e.hasRequested,n=e.onClick,r=e.buttonProps;return i.a.createElement("div",null,t?i.a.createElement(w,{label:"Feedback requested",tooltip:"Feedback requested. We'll notify you as soon as this researcher gives you feedback.",buttonProps:r}):i.a.createElement(E,{label:"Request feedback",tooltip:"Request feedback on your publication from this researcher while the content is still fresh in their mind.",onClick:n,buttonProps:r}))},S=n(23),I=n(1564),C="PersonalFeedbackRequest",O=(function(e){}(10),n(12)),x=n(651),k=n(799),j="general",T="methods",A="data_results",P="conclusion",M="future_directions",D="free_text",R=a()(Object(v.connect)(),Object(S.reduxForm)({form:C,onSubmit:function(e,t,n){return(0,n.onSubmit)({values:e})},initialValues:{type:j}}))(function(e){var t=e.handleSubmit;return i.a.createElement(b.Card,{spacing:"l",elevation:"none"},i.a.createElement("form",{onSubmit:t},i.a.createElement(x.a,{name:"type",layout:"stack"},i.a.createElement(b.Radio,{value:j},"General feedback"),i.a.createElement(b.Radio,{value:T},"Methods"),i.a.createElement(b.Radio,{value:A},"Data and results"),i.a.createElement(b.Radio,{value:P},"Conclusions"),i.a.createElement(b.Radio,{value:M},"How this research influences their work"),i.a.createElement(b.Radio,{value:D},"Other")),i.a.createElement("div",{style:{marginTop:"10px"}},i.a.createElement(b.FormGroup,null,i.a.createElement(b.FormGroup.Item,null,i.a.createElement(k.a,{name:"message"},i.a.createElement(b.Textarea,{rows:2,placeholder:"Add a message to your request"})))))))}),N=a()(Object(v.connect)(function(e){return{isFormValid:Object(S.isValid)(C)(e)}}),f()("submitting","setSubmitting",!1),g()({onAccept:function(e){var t=e.dispatch;return function(){t(Object(S.submit)(C))}},onSubmit:function(e){var t=e.dispatch,n=e.publicationUid,r=e.accountId,o=e.context,a=e.onRequested,s=e.setSubmitting,c=e.onRequestClose;return function(e){var l=e.type,u=e.message;return s(!0),t(Object(I.b)({publicationUid:n,accountId:r,context:o,type:l,message:u})).then(function(){return s(!1),c(),a(),t(Object(O.pushAlert)(function(){return i.a.createElement(b.Alert,{title:"Feedback requested",description:"This researcher will be notified that you requested their feedback. ",color:"green"})}))}).catch(function(){s(!1),t(Object(O.pushAlert)(function(){return i.a.createElement(b.Alert,{title:"Error",description:"Sorry, your feedback request couldn't be sent. Please try again.",color:"red"})}))})}}}))(function(e){var t=e.isOpen,n=e.onRequestClose,r=e.onAccept,o=e.onSubmit,a=e.intro,s=e.image,c=e.submitting,l=e.scope,u=e.isDefaultVariant,p=e.isFormValid;return i.a.createElement(b.Modal,{isOpen:t,onRequestClose:n,scope:l},i.a.createElement(b.Modal.Body,null,i.a.createElement(b.MediaObject,{verticalAlign:"top",gutter:"xxl"},i.a.createElement(b.MediaObject.Item,{width:"full"},i.a.createElement(b.Text,{size:"xl",spacing:"xs"},"What would you like feedback on? "),a),i.a.createElement(b.MediaObject.Item,null,s)),i.a.createElement(R,{onSubmit:o,isTextFieldAlwaysShown:!u})),i.a.createElement(b.Modal.Footer,null,i.a.createElement(b.ButtonGroup,null,i.a.createElement(b.Button,{size:"m",theme:"bare",color:"blue",onClick:n,status:c?"disabled":null},"Cancel"),i.a.createElement(b.Button,{size:"m",theme:"solid",color:"blue",onClick:r,status:p?c?"busy":null:"disabled"},"Request feedback"))))}),L=n(42),F=n(88),U=n(875),B=n.n(U),q=Object(v.connect)(function(e,t){var n=t.accountId,r=t.publicationUid;return{fullName:Object(L.c)(e,{accountId:n}).fullName,publicationType:Object(F.c)(e,{publicationUid:r}).displayablePublicationType}})(function(e){var t=e.fullName,n=e.publicationType;return i.a.createElement(b.Text,{size:"m",family:"sans-serif",spacing:"m",tag:"div"},"Get insights from ",i.a.createElement("b",null,t)," and advance your research by specifying what kind of feedback you'd like on your ",B()(n),".")}),V=n(78),W=function(e){var t=e.accountId,n=e.publicationUid,r=e.context,o=e.hasRequested,a=e.handleDialogOpen,s=e.isDialogOpen,c=e.handleDialogRequestClose,l=e.buttonProps,u=e.onRequested,p=e.renderDialogInLocalScope;return i.a.createElement("div",null,i.a.createElement(_,{hasRequested:o,onClick:a,buttonProps:l}),i.a.createElement(N,{publicationUid:n,accountId:t,context:r,isOpen:s,onRequestClose:c,intro:i.a.createElement(q,{accountId:t,publicationUid:n}),image:i.a.createElement(V.a,{accountId:t,size:"xxl"}),onRequested:u,scope:p?"local":null}))},z=a()(Object(v.connect)(function(e,t){var n=t.accountId,r=t.publicationUid;return{hasRequested:Object(y.b)(e,{accountId:n,publicationUid:r}),canRequest:Object(y.a)(e,{accountId:n,publicationUid:r})}}),f()("isDialogOpen","setDialogOpen",!1),g()({handleDialogOpen:function(e){var t=e.setDialogOpen,n=e.onDialogOpen;return function(){t(!0),n()}},handleDialogRequestClose:function(e){var t=e.setDialogOpen;return function(){t(!1)}}}),c()(function(e){return e.canRequest},u()(W),d.a))(W);t.a=function(e){var t=e.publicationUid,n=e.accountId,r=e.context,o=e.buttonProps,a=e.onRequested,s=e.onDialogOpen,c=e.renderDialogInLocalScope;return i.a.createElement(z,{publicationUid:t,accountId:n,context:r,buttonProps:o,onRequested:a,onDialogOpen:s,renderDialogInLocalScope:c})}},948:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),p=n(2),d=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){return u.a.createElement("div",{className:"general-attachment-item slurp-import-processing"},u.a.createElement("div",{className:"attachment-list-item"},u.a.createElement("div",{className:"item-thumbnail"},u.a.createElement("span",{className:"ico-file-thumbnail"},u.a.createElement(p.Icon,{identifier:"clock",size:"s",className:"clock-icon"}))),u.a.createElement("div",{className:"item-info"},u.a.createElement("div",{className:"item-title"},u.a.createElement("i",null,"A copy of the full-text is being imported")),u.a.createElement("div",{className:"item-subline"},this.props.subline),u.a.createElement("div",{className:"item-actions"},this.props.actions))))},t}(u.a.Component);t.a=d},95:function(e,t,n){"use strict";function r(e){var t,n=e.className,r=e.striped,i=e.bordered,o=e.verticalAlign,a=s()(e,["className","striped","bordered","verticalAlign"]),c=p({extra:(t={table:!0,"table-striped":r,"table-bordered":i,"table-vertical-middle":"middle"===o},t[n]=!0,t)});return l.a.createElement("table",Object.assign({},a,c))}function i(e){var t=e.type,n=e.align,r=e.className,i=e.width,o=s()(e,["type","align","className","width"]),a="header"===t?"th":"td",c=p({element:"cell",modifier:["align-"+n,"width-"+i],extra:r});return l.a.createElement(a,Object.assign({},o,c))}function o(e){var t=e.className,n=s()(e,["className"]);return l.a.createElement("tr",Object.assign({},n,p({element:"row",extra:t})))}var a=n(16),s=n.n(a),c=(n(1),n(0)),l=n.n(c),u=n(7),p=new(n.n(u).a)({name:"application-table"});r.defaultProps={striped:!0,bordered:!0,verticalAlign:"middle"},i.defaultProps={align:"left",width:"auto"},r.Header=function(e){var t=e.children,n=e.className,r=s()(e,["children","className"]),i=l.a.Children.map(t,function(e,t){return e?l.a.cloneElement(e,{type:"header",key:e.key||t}):null});return l.a.createElement("thead",Object.assign({},r,p({element:"header",extra:n})),l.a.createElement(o,null,i))},r.Body="tbody",r.Row=o,r.Cell=i;t.a=r}});